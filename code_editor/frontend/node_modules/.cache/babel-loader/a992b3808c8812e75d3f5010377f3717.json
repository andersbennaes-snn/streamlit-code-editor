{"ast":null,"code":"ace.define(\"ace/ext/menu_tools/get_editor_keyboard_shortcuts\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\"], function (require, exports, module) {\n  /*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n  \"use strict\";\n\n  var keys = require(\"../../lib/keys\");\n  module.exports.getEditorKeyboardShortcuts = function (editor) {\n    var KEY_MODS = keys.KEY_MODS;\n    var keybindings = [];\n    var commandMap = {};\n    editor.keyBinding.$handlers.forEach(function (handler) {\n      var ckb = handler.commandKeyBinding;\n      for (var i in ckb) {\n        var key = i.replace(/(^|-)\\w/g, function (x) {\n          return x.toUpperCase();\n        });\n        var commands = ckb[i];\n        if (!Array.isArray(commands)) commands = [commands];\n        commands.forEach(function (command) {\n          if (typeof command != \"string\") command = command.name;\n          if (commandMap[command]) {\n            commandMap[command].key += \"|\" + key;\n          } else {\n            commandMap[command] = {\n              key: key,\n              command: command\n            };\n            keybindings.push(commandMap[command]);\n          }\n        });\n      }\n    });\n    return keybindings;\n  };\n});\nace.define(\"ace/autocomplete/popup\", [\"require\", \"exports\", \"module\", \"ace/virtual_renderer\", \"ace/editor\", \"ace/range\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/lib/dom\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Renderer = require(\"../virtual_renderer\").VirtualRenderer;\n  var Editor = require(\"../editor\").Editor;\n  var Range = require(\"../range\").Range;\n  var event = require(\"../lib/event\");\n  var lang = require(\"../lib/lang\");\n  var dom = require(\"../lib/dom\");\n  var getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n  };\n  var $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n  };\n  var AcePopup = function (parentNode) {\n    var el = dom.createElement(\"div\");\n    var popup = new $singleLineEditor(el);\n    if (parentNode) parentNode.appendChild(el);\n    el.style.display = \"none\";\n    popup.renderer.content.style.cursor = \"default\";\n    popup.renderer.setStyle(\"ace_autocomplete\");\n    popup.renderer.container.setAttribute(\"role\", \"listbox\");\n    popup.renderer.container.setAttribute(\"aria-label\", \"Autocomplete suggestions\");\n    popup.setOption(\"displayIndentGuides\", false);\n    popup.setOption(\"dragDelay\", 150);\n    var noop = function () {};\n    popup.focus = noop;\n    popup.$isFocused = true;\n    popup.renderer.$cursorLayer.restartTimer = noop;\n    popup.renderer.$cursorLayer.element.style.opacity = 0;\n    popup.renderer.$maxLines = 8;\n    popup.renderer.$keepTextAreaAtCursor = false;\n    popup.setHighlightActiveLine(false);\n    popup.session.highlight(\"\");\n    popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n    popup.on(\"mousedown\", function (e) {\n      var pos = e.getDocumentPosition();\n      popup.selection.moveToPosition(pos);\n      selectionMarker.start.row = selectionMarker.end.row = pos.row;\n      e.stop();\n    });\n    var lastMouseEvent;\n    var hoverMarker = new Range(-1, 0, -1, Infinity);\n    var selectionMarker = new Range(-1, 0, -1, Infinity);\n    selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n    popup.setSelectOnHover = function (val) {\n      if (!val) {\n        hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n      } else if (hoverMarker.id) {\n        popup.session.removeMarker(hoverMarker.id);\n        hoverMarker.id = null;\n      }\n    };\n    popup.setSelectOnHover(false);\n    popup.on(\"mousemove\", function (e) {\n      if (!lastMouseEvent) {\n        lastMouseEvent = e;\n        return;\n      }\n      if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n        return;\n      }\n      lastMouseEvent = e;\n      lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n      var row = lastMouseEvent.getDocumentPosition().row;\n      if (hoverMarker.start.row != row) {\n        if (!hoverMarker.id) popup.setRow(row);\n        setHoverMarker(row);\n      }\n    });\n    popup.renderer.on(\"beforeRender\", function () {\n      if (lastMouseEvent && hoverMarker.start.row != -1) {\n        lastMouseEvent.$pos = null;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (!hoverMarker.id) popup.setRow(row);\n        setHoverMarker(row, true);\n      }\n    });\n    popup.renderer.on(\"afterRender\", function () {\n      var row = popup.getRow();\n      var t = popup.renderer.$textLayer;\n      var selected = t.element.childNodes[row - t.config.firstRow];\n      var el = document.activeElement; // Active element is textarea of main editor\n      if (selected !== t.selectedNode && t.selectedNode) {\n        dom.removeCssClass(t.selectedNode, \"ace_selected\");\n        el.removeAttribute(\"aria-activedescendant\");\n        t.selectedNode.removeAttribute(\"id\");\n      }\n      t.selectedNode = selected;\n      if (selected) {\n        dom.addCssClass(selected, \"ace_selected\");\n        var ariaId = getAriaId(row);\n        selected.id = ariaId;\n        popup.renderer.container.setAttribute(\"aria-activedescendant\", ariaId);\n        el.setAttribute(\"aria-activedescendant\", ariaId);\n        selected.setAttribute(\"aria-label\", popup.getData(row).value);\n      }\n    });\n    var hideHoverMarker = function () {\n      setHoverMarker(-1);\n    };\n    var setHoverMarker = function (row, suppressRedraw) {\n      if (row !== hoverMarker.start.row) {\n        hoverMarker.start.row = hoverMarker.end.row = row;\n        if (!suppressRedraw) popup.session._emit(\"changeBackMarker\");\n        popup._emit(\"changeHoverMarker\");\n      }\n    };\n    popup.getHoveredRow = function () {\n      return hoverMarker.start.row;\n    };\n    event.addListener(popup.container, \"mouseout\", hideHoverMarker);\n    popup.on(\"hide\", hideHoverMarker);\n    popup.on(\"changeSelection\", hideHoverMarker);\n    popup.session.doc.getLength = function () {\n      return popup.data.length;\n    };\n    popup.session.doc.getLine = function (i) {\n      var data = popup.data[i];\n      if (typeof data == \"string\") return data;\n      return data && data.value || \"\";\n    };\n    var bgTokenizer = popup.session.bgTokenizer;\n    bgTokenizer.$tokenizeRow = function (row) {\n      var data = popup.data[row];\n      var tokens = [];\n      if (!data) return tokens;\n      if (typeof data == \"string\") data = {\n        value: data\n      };\n      var caption = data.caption || data.value || data.name;\n      function addToken(value, className) {\n        value && tokens.push({\n          type: (data.className || \"\") + (className || \"\"),\n          value: value\n        });\n      }\n      var lower = caption.toLowerCase();\n      var filterText = (popup.filterText || \"\").toLowerCase();\n      var lastIndex = 0;\n      var lastI = 0;\n      for (var i = 0; i <= filterText.length; i++) {\n        if (i != lastI && (data.matchMask & 1 << i || i == filterText.length)) {\n          var sub = filterText.slice(lastI, i);\n          lastI = i;\n          var index = lower.indexOf(sub, lastIndex);\n          if (index == -1) continue;\n          addToken(caption.slice(lastIndex, index), \"\");\n          lastIndex = index + sub.length;\n          addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n        }\n      }\n      addToken(caption.slice(lastIndex, caption.length), \"\");\n      if (data.meta) tokens.push({\n        type: \"completion-meta\",\n        value: data.meta\n      });\n      if (data.message) tokens.push({\n        type: \"completion-message\",\n        value: data.message\n      });\n      return tokens;\n    };\n    bgTokenizer.$updateOnChange = noop;\n    bgTokenizer.start = noop;\n    popup.session.$computeWidth = function () {\n      return this.screenWidth = 0;\n    };\n    popup.isOpen = false;\n    popup.isTopdown = false;\n    popup.autoSelect = true;\n    popup.filterText = \"\";\n    popup.data = [];\n    popup.setData = function (list, filterText) {\n      popup.filterText = filterText || \"\";\n      popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n      popup.data = list || [];\n      popup.setRow(0);\n    };\n    popup.getData = function (row) {\n      return popup.data[row];\n    };\n    popup.getRow = function () {\n      return selectionMarker.start.row;\n    };\n    popup.setRow = function (line) {\n      line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length, line));\n      if (selectionMarker.start.row != line) {\n        popup.selection.clearSelection();\n        selectionMarker.start.row = selectionMarker.end.row = line || 0;\n        popup.session._emit(\"changeBackMarker\");\n        popup.moveCursorTo(line || 0, 0);\n        if (popup.isOpen) popup._signal(\"select\");\n      }\n    };\n    popup.on(\"changeSelection\", function () {\n      if (popup.isOpen) popup.setRow(popup.selection.lead.row);\n      popup.renderer.scrollCursorIntoView();\n    });\n    popup.hide = function () {\n      this.container.style.display = \"none\";\n      this._signal(\"hide\");\n      popup.isOpen = false;\n    };\n    popup.show = function (pos, lineHeight, topdownOnly) {\n      var el = this.container;\n      var screenHeight = window.innerHeight;\n      var screenWidth = window.innerWidth;\n      var renderer = this.renderer;\n      var maxH = renderer.$maxLines * lineHeight * 1.4;\n      var top = pos.top + this.$borderSize;\n      var allowTopdown = top > screenHeight / 2 && !topdownOnly;\n      if (allowTopdown && top + lineHeight + maxH > screenHeight) {\n        renderer.$maxPixelHeight = top - 2 * this.$borderSize;\n        el.style.top = \"\";\n        el.style.bottom = screenHeight - top + \"px\";\n        popup.isTopdown = false;\n      } else {\n        top += lineHeight;\n        renderer.$maxPixelHeight = screenHeight - top - 0.2 * lineHeight;\n        el.style.top = top + \"px\";\n        el.style.bottom = \"\";\n        popup.isTopdown = true;\n      }\n      el.style.display = \"\";\n      var left = pos.left;\n      if (left + el.offsetWidth > screenWidth) left = screenWidth - el.offsetWidth;\n      el.style.left = left + \"px\";\n      this._signal(\"show\");\n      lastMouseEvent = null;\n      popup.isOpen = true;\n    };\n    popup.goTo = function (where) {\n      var row = this.getRow();\n      var max = this.session.getLength() - 1;\n      switch (where) {\n        case \"up\":\n          row = row <= 0 ? max : row - 1;\n          break;\n        case \"down\":\n          row = row >= max ? -1 : row + 1;\n          break;\n        case \"start\":\n          row = 0;\n          break;\n        case \"end\":\n          row = max;\n          break;\n      }\n      this.setRow(row);\n    };\n    popup.getTextLeftOffset = function () {\n      return this.$borderSize + this.renderer.$padding + this.$imageSize;\n    };\n    popup.$imageSize = 0;\n    popup.$borderSize = 1;\n    return popup;\n  };\n  dom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin: 0.9em;\\n}\\n.ace_completion-message {\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\", \"autocompletion.css\", false);\n  exports.AcePopup = AcePopup;\n  exports.$singleLineEditor = $singleLineEditor;\n  exports.getAriaId = getAriaId;\n});\nace.define(\"ace/autocomplete/util\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  exports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0) callback();\n    for (var i = 0; i < arLength; i++) {\n      fn(array[i], function (result, err) {\n        completed++;\n        if (completed === arLength) callback(result, err);\n      });\n    }\n  };\n  var ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\n  exports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf.reverse().join(\"\");\n  };\n  exports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf;\n  };\n  exports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n      if (completer.identifierRegexps) {\n        completer.identifierRegexps.forEach(function (identifierRegex) {\n          if (!prefix && identifierRegex) prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n        }.bind(this));\n      }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n  };\n});\nace.define(\"ace/snippets\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/event_emitter\", \"ace/lib/lang\", \"ace/range\", \"ace/range_list\", \"ace/keyboard/hash_handler\", \"ace/tokenizer\", \"ace/clipboard\", \"ace/editor\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"./lib/dom\");\n  var oop = require(\"./lib/oop\");\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n  var lang = require(\"./lib/lang\");\n  var Range = require(\"./range\").Range;\n  var RangeList = require(\"./range_list\").RangeList;\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var Tokenizer = require(\"./tokenizer\").Tokenizer;\n  var clipboard = require(\"./clipboard\");\n  var VARIABLES = {\n    CURRENT_WORD: function (editor) {\n      return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n      var text = editor.session.getTextRange();\n      if (indentation) return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n      return text;\n    },\n    CURRENT_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n      return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n      return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n      return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n      return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n      return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n      return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) {\n      return \"/not implemented.txt\";\n    },\n    WORKSPACE_NAME: function () {\n      return \"Unknown\";\n    },\n    FULLNAME: function () {\n      return \"Unknown\";\n    },\n    BLOCK_COMMENT_START: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, {\n      year: \"numeric\"\n    }),\n    CURRENT_YEAR_SHORT: date.bind(null, {\n      year: \"2-digit\"\n    }),\n    CURRENT_MONTH: date.bind(null, {\n      month: \"numeric\"\n    }),\n    CURRENT_MONTH_NAME: date.bind(null, {\n      month: \"long\"\n    }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, {\n      month: \"short\"\n    }),\n    CURRENT_DATE: date.bind(null, {\n      day: \"2-digit\"\n    }),\n    CURRENT_DAY_NAME: date.bind(null, {\n      weekday: \"long\"\n    }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, {\n      weekday: \"short\"\n    }),\n    CURRENT_HOUR: date.bind(null, {\n      hour: \"2-digit\",\n      hour12: false\n    }),\n    CURRENT_MINUTE: date.bind(null, {\n      minute: \"2-digit\"\n    }),\n    CURRENT_SECOND: date.bind(null, {\n      second: \"2-digit\"\n    })\n  };\n  VARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\n  function date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n  }\n  var SnippetManager = function () {\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n  };\n  (function () {\n    oop.implement(this, EventEmitter);\n    this.getTokenizer = function () {\n      return SnippetManager.$tokenizer || this.createTokenizer();\n    };\n    this.createTokenizer = function () {\n      function TabstopToken(str) {\n        str = str.substr(1);\n        if (/^\\d+$/.test(str)) return [{\n          tabstopId: parseInt(str, 10)\n        }];\n        return [{\n          text: str\n        }];\n      }\n      function escape(ch) {\n        return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n      }\n      var formatMatcher = {\n        regex: \"/(\" + escape(\"/\") + \"+)/\",\n        onMatch: function (val, state, stack) {\n          var ts = stack[0];\n          ts.fmtString = true;\n          ts.guard = val.slice(1, -1);\n          ts.flag = \"\";\n          return \"\";\n        },\n        next: \"formatString\"\n      };\n      SnippetManager.$tokenizer = new Tokenizer({\n        start: [{\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) {\n              val = ch;\n            } else if (\"`$\\\\\".indexOf(ch) != -1) {\n              val = ch;\n            }\n            return [val];\n          }\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            return [stack.length ? stack.shift() : val];\n          }\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: TabstopToken\n        }, {\n          regex: /\\$\\{[\\dA-Z_a-z]+/,\n          onMatch: function (str, state, stack) {\n            var t = TabstopToken(str.substr(1));\n            stack.unshift(t[0]);\n            return t;\n          },\n          next: \"snippetVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }],\n        snippetVar: [{\n          regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\",\n          onMatch: function (val, state, stack) {\n            var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n              return operator.length == 2 ? operator[1] : \"\\x00\";\n            }).split(\"\\x00\").map(function (value) {\n              return {\n                value: value\n              };\n            });\n            stack[0].choices = choices;\n            return [choices[0]];\n          },\n          next: \"start\"\n        }, formatMatcher, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"start\"\n        }],\n        formatString: [{\n          regex: /:/,\n          onMatch: function (val, state, stack) {\n            if (stack.length && stack[0].expectElse) {\n              stack[0].expectElse = false;\n              stack[0].ifEnd = {\n                elseEnd: stack[0]\n              };\n              return [stack[0].ifEnd];\n            }\n            return \":\";\n          }\n        }, {\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) val = ch;else if (\"`$\\\\\".indexOf(ch) != -1) val = ch;else if (ch == \"n\") val = \"\\n\";else if (ch == \"t\") val = \"\\t\";else if (\"ulULE\".indexOf(ch) != -1) val = {\n              changeCase: ch,\n              local: ch > \"a\"\n            };\n            return [val];\n          }\n        }, {\n          regex: \"/\\\\w*}\",\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            if (next) next.flag = val.slice(1, -1);\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: function (val, state, stack) {\n            return [{\n              text: val.slice(1)\n            }];\n          }\n        }, {\n          regex: /\\${\\w+/,\n          onMatch: function (val, state, stack) {\n            var token = {\n              text: val.slice(2)\n            };\n            stack.unshift(token);\n            return [token];\n          },\n          next: \"formatStringVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }],\n        formatStringVar: [{\n          regex: /:\\/\\w+}/,\n          onMatch: function (val, state, stack) {\n            var ts = stack[0];\n            ts.formatFunction = val.slice(2, -1);\n            return [stack.shift()];\n          },\n          next: \"formatString\"\n        }, formatMatcher, {\n          regex: /:[\\?\\-+]?/,\n          onMatch: function (val, state, stack) {\n            if (val[1] == \"+\") stack[0].ifEnd = stack[0];\n            if (val[1] == \"?\") stack[0].expectElse = true;\n          },\n          next: \"formatString\"\n        }, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"formatString\"\n        }]\n      });\n      return SnippetManager.$tokenizer;\n    };\n    this.tokenizeTmSnippet = function (str, startState) {\n      return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n        return x.value || x;\n      });\n    };\n    this.getVariableValue = function (editor, name, indentation) {\n      if (/^\\d+$/.test(name)) return (this.variables.__ || {})[name] || \"\";\n      if (/^[A-Z]\\d+$/.test(name)) return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n      name = name.replace(/^TM_/, \"\");\n      if (!this.variables.hasOwnProperty(name)) return \"\";\n      var value = this.variables[name];\n      if (typeof value == \"function\") value = this.variables[name](editor, name, indentation);\n      return value == null ? \"\" : value;\n    };\n    this.variables = VARIABLES;\n    this.tmStrFormat = function (str, ch, editor) {\n      if (!ch.fmt) return str;\n      var flag = ch.flag || \"\";\n      var re = ch.guard;\n      re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n      var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n      var _self = this;\n      var formatted = str.replace(re, function () {\n        var oldArgs = _self.variables.__;\n        _self.variables.__ = [].slice.call(arguments);\n        var fmtParts = _self.resolveVariables(fmtTokens, editor);\n        var gChangeCase = \"E\";\n        for (var i = 0; i < fmtParts.length; i++) {\n          var ch = fmtParts[i];\n          if (typeof ch == \"object\") {\n            fmtParts[i] = \"\";\n            if (ch.changeCase && ch.local) {\n              var next = fmtParts[i + 1];\n              if (next && typeof next == \"string\") {\n                if (ch.changeCase == \"u\") fmtParts[i] = next[0].toUpperCase();else fmtParts[i] = next[0].toLowerCase();\n                fmtParts[i + 1] = next.substr(1);\n              }\n            } else if (ch.changeCase) {\n              gChangeCase = ch.changeCase;\n            }\n          } else if (gChangeCase == \"U\") {\n            fmtParts[i] = ch.toUpperCase();\n          } else if (gChangeCase == \"L\") {\n            fmtParts[i] = ch.toLowerCase();\n          }\n        }\n        _self.variables.__ = oldArgs;\n        return fmtParts.join(\"\");\n      });\n      return formatted;\n    };\n    this.tmFormatFunction = function (str, ch, editor) {\n      if (ch.formatFunction == \"upcase\") return str.toUpperCase();\n      if (ch.formatFunction == \"downcase\") return str.toLowerCase();\n      return str;\n    };\n    this.resolveVariables = function (snippet, editor) {\n      var result = [];\n      var indentation = \"\";\n      var afterNewLine = true;\n      for (var i = 0; i < snippet.length; i++) {\n        var ch = snippet[i];\n        if (typeof ch == \"string\") {\n          result.push(ch);\n          if (ch == \"\\n\") {\n            afterNewLine = true;\n            indentation = \"\";\n          } else if (afterNewLine) {\n            indentation = /^\\t*/.exec(ch)[0];\n            afterNewLine = /\\S/.test(ch);\n          }\n          continue;\n        }\n        if (!ch) continue;\n        afterNewLine = false;\n        if (ch.fmtString) {\n          var j = snippet.indexOf(ch, i + 1);\n          if (j == -1) j = snippet.length;\n          ch.fmt = snippet.slice(i + 1, j);\n          i = j;\n        }\n        if (ch.text) {\n          var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n          if (ch.fmtString) value = this.tmStrFormat(value, ch, editor);\n          if (ch.formatFunction) value = this.tmFormatFunction(value, ch, editor);\n          if (value && !ch.ifEnd) {\n            result.push(value);\n            gotoNext(ch);\n          } else if (!value && ch.ifEnd) {\n            gotoNext(ch.ifEnd);\n          }\n        } else if (ch.elseEnd) {\n          gotoNext(ch.elseEnd);\n        } else if (ch.tabstopId != null) {\n          result.push(ch);\n        } else if (ch.changeCase != null) {\n          result.push(ch);\n        }\n      }\n      function gotoNext(ch) {\n        var i1 = snippet.indexOf(ch, i + 1);\n        if (i1 != -1) i = i1;\n      }\n      return result;\n    };\n    this.insertSnippetForSelection = function (editor, snippetText) {\n      var cursor = editor.getCursorPosition();\n      var line = editor.session.getLine(cursor.row);\n      var tabString = editor.session.getTabString();\n      var indentString = line.match(/^\\s*/)[0];\n      if (cursor.column < indentString.length) indentString = indentString.slice(0, cursor.column);\n      snippetText = snippetText.replace(/\\r/g, \"\");\n      var tokens = this.tokenizeTmSnippet(snippetText);\n      tokens = this.resolveVariables(tokens, editor);\n      tokens = tokens.map(function (x) {\n        if (x == \"\\n\") return x + indentString;\n        if (typeof x == \"string\") return x.replace(/\\t/g, tabString);\n        return x;\n      });\n      var tabstops = [];\n      tokens.forEach(function (p, i) {\n        if (typeof p != \"object\") return;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        if (!ts) {\n          ts = tabstops[id] = [];\n          ts.index = id;\n          ts.value = \"\";\n          ts.parents = {};\n        }\n        if (ts.indexOf(p) !== -1) return;\n        if (p.choices && !ts.choices) ts.choices = p.choices;\n        ts.push(p);\n        var i1 = tokens.indexOf(p, i + 1);\n        if (i1 === -1) return;\n        var value = tokens.slice(i + 1, i1);\n        var isNested = value.some(function (t) {\n          return typeof t === \"object\";\n        });\n        if (isNested && !ts.value) {\n          ts.value = value;\n        } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n          ts.value = value.join(\"\");\n        }\n      });\n      tabstops.forEach(function (ts) {\n        ts.length = 0;\n      });\n      var expanding = {};\n      function copyValue(val) {\n        var copy = [];\n        for (var i = 0; i < val.length; i++) {\n          var p = val[i];\n          if (typeof p == \"object\") {\n            if (expanding[p.tabstopId]) continue;\n            var j = val.lastIndexOf(p, i - 1);\n            p = copy[j] || {\n              tabstopId: p.tabstopId\n            };\n          }\n          copy[i] = p;\n        }\n        return copy;\n      }\n      for (var i = 0; i < tokens.length; i++) {\n        var p = tokens[i];\n        if (typeof p != \"object\") continue;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        var i1 = tokens.indexOf(p, i + 1);\n        if (expanding[id]) {\n          if (expanding[id] === p) {\n            delete expanding[id];\n            Object.keys(expanding).forEach(function (parentId) {\n              ts.parents[parentId] = true;\n            });\n          }\n          continue;\n        }\n        expanding[id] = p;\n        var value = ts.value;\n        if (typeof value !== \"string\") value = copyValue(value);else if (p.fmt) value = this.tmStrFormat(value, p, editor);\n        tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n        if (ts.indexOf(p) === -1) ts.push(p);\n      }\n      var row = 0,\n        column = 0;\n      var text = \"\";\n      tokens.forEach(function (t) {\n        if (typeof t === \"string\") {\n          var lines = t.split(\"\\n\");\n          if (lines.length > 1) {\n            column = lines[lines.length - 1].length;\n            row += lines.length - 1;\n          } else column += t.length;\n          text += t;\n        } else if (t) {\n          if (!t.start) t.start = {\n            row: row,\n            column: column\n          };else t.end = {\n            row: row,\n            column: column\n          };\n        }\n      });\n      var range = editor.getSelectionRange();\n      var end = editor.session.replace(range, text);\n      var tabstopManager = new TabstopManager(editor);\n      var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n      tabstopManager.addTabstops(tabstops, range.start, end, selectionId);\n    };\n    this.insertSnippet = function (editor, snippetText) {\n      var self = this;\n      if (editor.inVirtualSelectionMode) return self.insertSnippetForSelection(editor, snippetText);\n      editor.forEachSelection(function () {\n        self.insertSnippetForSelection(editor, snippetText);\n      }, null, {\n        keepOrder: true\n      });\n      if (editor.tabstopManager) editor.tabstopManager.tabNext();\n    };\n    this.$getScope = function (editor) {\n      var scope = editor.session.$mode.$id || \"\";\n      scope = scope.split(\"/\").pop();\n      if (scope === \"html\" || scope === \"php\") {\n        if (scope === \"php\" && !editor.session.$mode.inlinePhp) scope = \"html\";\n        var c = editor.getCursorPosition();\n        var state = editor.session.getState(c.row);\n        if (typeof state === \"object\") {\n          state = state[0];\n        }\n        if (state.substring) {\n          if (state.substring(0, 3) == \"js-\") scope = \"javascript\";else if (state.substring(0, 4) == \"css-\") scope = \"css\";else if (state.substring(0, 4) == \"php-\") scope = \"php\";\n        }\n      }\n      return scope;\n    };\n    this.getActiveScopes = function (editor) {\n      var scope = this.$getScope(editor);\n      var scopes = [scope];\n      var snippetMap = this.snippetMap;\n      if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n        scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n      }\n      scopes.push(\"_\");\n      return scopes;\n    };\n    this.expandWithTab = function (editor, options) {\n      var self = this;\n      var result = editor.forEachSelection(function () {\n        return self.expandSnippetForSelection(editor, options);\n      }, null, {\n        keepOrder: true\n      });\n      if (result && editor.tabstopManager) editor.tabstopManager.tabNext();\n      return result;\n    };\n    this.expandSnippetForSelection = function (editor, options) {\n      var cursor = editor.getCursorPosition();\n      var line = editor.session.getLine(cursor.row);\n      var before = line.substring(0, cursor.column);\n      var after = line.substr(cursor.column);\n      var snippetMap = this.snippetMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = this.findMatchingSnippet(snippets, before, after);\n        return !!snippet;\n      }, this);\n      if (!snippet) return false;\n      if (options && options.dryRun) return true;\n      editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n      this.variables.M__ = snippet.matchBefore;\n      this.variables.T__ = snippet.matchAfter;\n      this.insertSnippetForSelection(editor, snippet.content);\n      this.variables.M__ = this.variables.T__ = null;\n      return true;\n    };\n    this.findMatchingSnippet = function (snippetList, before, after) {\n      for (var i = snippetList.length; i--;) {\n        var s = snippetList[i];\n        if (s.startRe && !s.startRe.test(before)) continue;\n        if (s.endRe && !s.endRe.test(after)) continue;\n        if (!s.startRe && !s.endRe) continue;\n        s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n        s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n        s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n        s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n        return s;\n      }\n    };\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n    this.register = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      var self = this;\n      if (!snippets) snippets = [];\n      function wrapRegexp(src) {\n        if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src)) src = \"(?:\" + src + \")\";\n        return src || \"\";\n      }\n      function guardedRegexp(re, guard, opening) {\n        re = wrapRegexp(re);\n        guard = wrapRegexp(guard);\n        if (opening) {\n          re = guard + re;\n          if (re && re[re.length - 1] != \"$\") re = re + \"$\";\n        } else {\n          re = re + guard;\n          if (re && re[0] != \"^\") re = \"^\" + re;\n        }\n        return new RegExp(re);\n      }\n      function addSnippet(s) {\n        if (!s.scope) s.scope = scope || \"_\";\n        scope = s.scope;\n        if (!snippetMap[scope]) {\n          snippetMap[scope] = [];\n          snippetNameMap[scope] = {};\n        }\n        var map = snippetNameMap[scope];\n        if (s.name) {\n          var old = map[s.name];\n          if (old) self.unregister(old);\n          map[s.name] = s;\n        }\n        snippetMap[scope].push(s);\n        if (s.prefix) s.tabTrigger = s.prefix;\n        if (!s.content && s.body) s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n        if (s.tabTrigger && !s.trigger) {\n          if (!s.guard && /^\\w/.test(s.tabTrigger)) s.guard = \"\\\\b\";\n          s.trigger = lang.escapeRegExp(s.tabTrigger);\n        }\n        if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard) return;\n        s.startRe = guardedRegexp(s.trigger, s.guard, true);\n        s.triggerRe = new RegExp(s.trigger);\n        s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n        s.endTriggerRe = new RegExp(s.endTrigger);\n      }\n      if (Array.isArray(snippets)) {\n        snippets.forEach(addSnippet);\n      } else {\n        Object.keys(snippets).forEach(function (key) {\n          addSnippet(snippets[key]);\n        });\n      }\n      this._signal(\"registerSnippets\", {\n        scope: scope\n      });\n    };\n    this.unregister = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      function removeSnippet(s) {\n        var nameMap = snippetNameMap[s.scope || scope];\n        if (nameMap && nameMap[s.name]) {\n          delete nameMap[s.name];\n          var map = snippetMap[s.scope || scope];\n          var i = map && map.indexOf(s);\n          if (i >= 0) map.splice(i, 1);\n        }\n      }\n      if (snippets.content) removeSnippet(snippets);else if (Array.isArray(snippets)) snippets.forEach(removeSnippet);\n    };\n    this.parseSnippetFile = function (str) {\n      str = str.replace(/\\r/g, \"\");\n      var list = [],\n        snippet = {};\n      var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n      var m;\n      while (m = re.exec(str)) {\n        if (m[1]) {\n          try {\n            snippet = JSON.parse(m[1]);\n            list.push(snippet);\n          } catch (e) {}\n        }\n        if (m[4]) {\n          snippet.content = m[4].replace(/^\\t/gm, \"\");\n          list.push(snippet);\n          snippet = {};\n        } else {\n          var key = m[2],\n            val = m[3];\n          if (key == \"regex\") {\n            var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n            snippet.guard = guardRe.exec(val)[1];\n            snippet.trigger = guardRe.exec(val)[1];\n            snippet.endTrigger = guardRe.exec(val)[1];\n            snippet.endGuard = guardRe.exec(val)[1];\n          } else if (key == \"snippet\") {\n            snippet.tabTrigger = val.match(/^\\S*/)[0];\n            if (!snippet.name) snippet.name = val;\n          } else if (key) {\n            snippet[key] = val;\n          }\n        }\n      }\n      return list;\n    };\n    this.getSnippetByName = function (name, editor) {\n      var snippetMap = this.snippetNameMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = snippets[name];\n        return !!snippet;\n      }, this);\n      return snippet;\n    };\n  }).call(SnippetManager.prototype);\n  var TabstopManager = function (editor) {\n    if (editor.tabstopManager) return editor.tabstopManager;\n    editor.tabstopManager = this;\n    this.$onChange = this.onChange.bind(this);\n    this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n    this.$onChangeSession = this.onChangeSession.bind(this);\n    this.$onAfterExec = this.onAfterExec.bind(this);\n    this.attach(editor);\n  };\n  (function () {\n    this.attach = function (editor) {\n      this.index = 0;\n      this.ranges = [];\n      this.tabstops = [];\n      this.$openTabstops = null;\n      this.selectedTabstop = null;\n      this.editor = editor;\n      this.editor.on(\"change\", this.$onChange);\n      this.editor.on(\"changeSelection\", this.$onChangeSelection);\n      this.editor.on(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.detach = function () {\n      this.tabstops.forEach(this.removeTabstopMarkers, this);\n      this.ranges = null;\n      this.tabstops = null;\n      this.selectedTabstop = null;\n      this.editor.removeListener(\"change\", this.$onChange);\n      this.editor.removeListener(\"changeSelection\", this.$onChangeSelection);\n      this.editor.removeListener(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.removeListener(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n      this.editor.tabstopManager = null;\n      this.editor = null;\n    };\n    this.onChange = function (delta) {\n      var isRemove = delta.action[0] == \"r\";\n      var selectedTabstop = this.selectedTabstop || {};\n      var parents = selectedTabstop.parents || {};\n      var tabstops = (this.tabstops || []).slice();\n      for (var i = 0; i < tabstops.length; i++) {\n        var ts = tabstops[i];\n        var active = ts == selectedTabstop || parents[ts.index];\n        ts.rangeList.$bias = active ? 0 : 1;\n        if (delta.action == \"remove\" && ts !== selectedTabstop) {\n          var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n          var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n          startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n          var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n          endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n          var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n          for (var j = 0; j < toRemove.length; j++) this.removeRange(toRemove[j]);\n        }\n        ts.rangeList.$onChange(delta);\n      }\n      var session = this.editor.session;\n      if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue()) this.detach();\n    };\n    this.updateLinkedFields = function () {\n      var ts = this.selectedTabstop;\n      if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked) return;\n      this.$inChange = true;\n      var session = this.editor.session;\n      var text = session.getTextRange(ts.firstNonLinked);\n      for (var i = 0; i < ts.length; i++) {\n        var range = ts[i];\n        if (!range.linked) continue;\n        var original = range.original;\n        var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n        session.replace(range, fmt);\n      }\n      this.$inChange = false;\n    };\n    this.onAfterExec = function (e) {\n      if (e.command && !e.command.readOnly) this.updateLinkedFields();\n    };\n    this.onChangeSelection = function () {\n      if (!this.editor) return;\n      var lead = this.editor.selection.lead;\n      var anchor = this.editor.selection.anchor;\n      var isEmpty = this.editor.selection.isEmpty();\n      for (var i = 0; i < this.ranges.length; i++) {\n        if (this.ranges[i].linked) continue;\n        var containsLead = this.ranges[i].contains(lead.row, lead.column);\n        var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n        if (containsLead && containsAnchor) return;\n      }\n      this.detach();\n    };\n    this.onChangeSession = function () {\n      this.detach();\n    };\n    this.tabNext = function (dir) {\n      var max = this.tabstops.length;\n      var index = this.index + (dir || 1);\n      index = Math.min(Math.max(index, 1), max);\n      if (index == max) index = 0;\n      this.selectTabstop(index);\n      if (index === 0) this.detach();\n    };\n    this.selectTabstop = function (index) {\n      this.$openTabstops = null;\n      var ts = this.tabstops[this.index];\n      if (ts) this.addTabstopMarkers(ts);\n      this.index = index;\n      ts = this.tabstops[this.index];\n      if (!ts || !ts.length) return;\n      this.selectedTabstop = ts;\n      var range = ts.firstNonLinked || ts;\n      if (ts.choices) range.cursor = range.start;\n      if (!this.editor.inVirtualSelectionMode) {\n        var sel = this.editor.multiSelect;\n        sel.toSingleRange(range);\n        for (var i = 0; i < ts.length; i++) {\n          if (ts.hasLinkedRanges && ts[i].linked) continue;\n          sel.addRange(ts[i].clone(), true);\n        }\n      } else {\n        this.editor.selection.fromOrientedRange(range);\n      }\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      if (this.selectedTabstop && this.selectedTabstop.choices) this.editor.execCommand(\"startAutocomplete\", {\n        matches: this.selectedTabstop.choices\n      });\n    };\n    this.addTabstops = function (tabstops, start, end) {\n      var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n      if (!this.$openTabstops) this.$openTabstops = [];\n      if (!tabstops[0]) {\n        var p = Range.fromPoints(end, end);\n        moveRelative(p.start, start);\n        moveRelative(p.end, start);\n        tabstops[0] = [p];\n        tabstops[0].index = 0;\n      }\n      var i = this.index;\n      var arg = [i + 1, 0];\n      var ranges = this.ranges;\n      tabstops.forEach(function (ts, index) {\n        var dest = this.$openTabstops[index] || ts;\n        for (var i = 0; i < ts.length; i++) {\n          var p = ts[i];\n          var range = Range.fromPoints(p.start, p.end || p.start);\n          movePoint(range.start, start);\n          movePoint(range.end, start);\n          range.original = p;\n          range.tabstop = dest;\n          ranges.push(range);\n          if (dest != ts) dest.unshift(range);else dest[i] = range;\n          if (p.fmtString || dest.firstNonLinked && useLink) {\n            range.linked = true;\n            dest.hasLinkedRanges = true;\n          } else if (!dest.firstNonLinked) dest.firstNonLinked = range;\n        }\n        if (!dest.firstNonLinked) dest.hasLinkedRanges = false;\n        if (dest === ts) {\n          arg.push(dest);\n          this.$openTabstops[index] = dest;\n        }\n        this.addTabstopMarkers(dest);\n        dest.rangeList = dest.rangeList || new RangeList();\n        dest.rangeList.$bias = 0;\n        dest.rangeList.addList(dest);\n      }, this);\n      if (arg.length > 2) {\n        if (this.tabstops.length) arg.push(arg.splice(2, 1)[0]);\n        this.tabstops.splice.apply(this.tabstops, arg);\n      }\n    };\n    this.addTabstopMarkers = function (ts) {\n      var session = this.editor.session;\n      ts.forEach(function (range) {\n        if (!range.markerId) range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n      });\n    };\n    this.removeTabstopMarkers = function (ts) {\n      var session = this.editor.session;\n      ts.forEach(function (range) {\n        session.removeMarker(range.markerId);\n        range.markerId = null;\n      });\n    };\n    this.removeRange = function (range) {\n      var i = range.tabstop.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      i = this.ranges.indexOf(range);\n      if (i != -1) this.ranges.splice(i, 1);\n      i = range.tabstop.rangeList.ranges.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      this.editor.session.removeMarker(range.markerId);\n      if (!range.tabstop.length) {\n        i = this.tabstops.indexOf(range.tabstop);\n        if (i != -1) this.tabstops.splice(i, 1);\n        if (!this.tabstops.length) this.detach();\n      }\n    };\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys({\n      \"Tab\": function (editor) {\n        if (exports.snippetManager && exports.snippetManager.expandWithTab(editor)) return;\n        editor.tabstopManager.tabNext(1);\n        editor.renderer.scrollCursorIntoView();\n      },\n      \"Shift-Tab\": function (editor) {\n        editor.tabstopManager.tabNext(-1);\n        editor.renderer.scrollCursorIntoView();\n      },\n      \"Esc\": function (editor) {\n        editor.tabstopManager.detach();\n      }\n    });\n  }).call(TabstopManager.prototype);\n  var movePoint = function (point, diff) {\n    if (point.row == 0) point.column += diff.column;\n    point.row += diff.row;\n  };\n  var moveRelative = function (point, start) {\n    if (point.row == start.row) point.column -= start.column;\n    point.row -= start.row;\n  };\n  dom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\n  exports.snippetManager = new SnippetManager();\n  var Editor = require(\"./editor\").Editor;\n  (function () {\n    this.insertSnippet = function (content, options) {\n      return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n      return exports.snippetManager.expandWithTab(this, options);\n    };\n  }).call(Editor.prototype);\n});\nace.define(\"ace/autocomplete\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\", \"ace/autocomplete/popup\", \"ace/autocomplete/popup\", \"ace/autocomplete/util\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/snippets\", \"ace/config\"], function (require, exports, module) {\n  \"use strict\";\n\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var AcePopup = require(\"./autocomplete/popup\").AcePopup;\n  var getAriaId = require(\"./autocomplete/popup\").getAriaId;\n  var util = require(\"./autocomplete/util\");\n  var lang = require(\"./lib/lang\");\n  var dom = require(\"./lib/dom\");\n  var snippetManager = require(\"./snippets\").snippetManager;\n  var config = require(\"./config\");\n  var Autocomplete = function () {\n    this.autoInsert = false;\n    this.autoSelect = true;\n    this.exactMatch = false;\n    this.gatherCompletionsId = 0;\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys(this.commands);\n    this.blurListener = this.blurListener.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.mousedownListener = this.mousedownListener.bind(this);\n    this.mousewheelListener = this.mousewheelListener.bind(this);\n    this.changeTimer = lang.delayedCall(function () {\n      this.updateCompletions(true);\n    }.bind(this));\n    this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n  };\n  (function () {\n    this.$init = function () {\n      this.popup = new AcePopup(document.body || document.documentElement);\n      this.popup.on(\"click\", function (e) {\n        this.insertMatch();\n        e.stop();\n      }.bind(this));\n      this.popup.focus = this.editor.focus.bind(this.editor);\n      this.popup.on(\"show\", this.tooltipTimer.bind(null, null));\n      this.popup.on(\"select\", this.tooltipTimer.bind(null, null));\n      this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n      return this.popup;\n    };\n    this.getPopup = function () {\n      return this.popup || this.$init();\n    };\n    this.openPopup = function (editor, prefix, keepPopupPosition) {\n      if (!this.popup) this.$init();\n      this.popup.autoSelect = this.autoSelect;\n      this.popup.setData(this.completions.filtered, this.completions.filterText);\n      this.editor.textInput.setAriaOptions({\n        activeDescendant: getAriaId(this.popup.getRow())\n      });\n      editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      var renderer = editor.renderer;\n      this.popup.setRow(this.autoSelect ? 0 : -1);\n      if (!keepPopupPosition) {\n        this.popup.setTheme(editor.getTheme());\n        this.popup.setFontSize(editor.getFontSize());\n        var lineHeight = renderer.layerConfig.lineHeight;\n        var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n        pos.left -= this.popup.getTextLeftOffset();\n        var rect = editor.container.getBoundingClientRect();\n        pos.top += rect.top - renderer.layerConfig.offset;\n        pos.left += rect.left - editor.renderer.scrollLeft;\n        pos.left += renderer.gutterWidth;\n        this.popup.show(pos, lineHeight);\n      } else if (keepPopupPosition && !prefix) {\n        this.detach();\n      }\n      this.changeTimer.cancel();\n    };\n    this.detach = function () {\n      this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n      this.editor.off(\"changeSelection\", this.changeListener);\n      this.editor.off(\"blur\", this.blurListener);\n      this.editor.off(\"mousedown\", this.mousedownListener);\n      this.editor.off(\"mousewheel\", this.mousewheelListener);\n      this.changeTimer.cancel();\n      this.hideDocTooltip();\n      this.gatherCompletionsId += 1;\n      if (this.popup && this.popup.isOpen) this.popup.hide();\n      if (this.base) this.base.detach();\n      this.activated = false;\n      this.completions = this.base = null;\n    };\n    this.changeListener = function (e) {\n      var cursor = this.editor.selection.lead;\n      if (cursor.row != this.base.row || cursor.column < this.base.column) {\n        this.detach();\n      }\n      if (this.activated) this.changeTimer.schedule();else this.detach();\n    };\n    this.blurListener = function (e) {\n      var el = document.activeElement;\n      var text = this.editor.textInput.getElement();\n      var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n      var container = this.popup && this.popup.container;\n      if (el != text && el.parentNode != container && !fromTooltip && el != this.tooltipNode && e.relatedTarget != text) {\n        this.detach();\n      }\n    };\n    this.mousedownListener = function (e) {\n      this.detach();\n    };\n    this.mousewheelListener = function (e) {\n      this.detach();\n    };\n    this.goTo = function (where) {\n      this.popup.goTo(where);\n    };\n    this.insertMatch = function (data, options) {\n      if (!data) data = this.popup.getData(this.popup.getRow());\n      if (!data) return false;\n      var completions = this.completions;\n      this.editor.startOperation({\n        command: {\n          name: \"insertMatch\"\n        }\n      });\n      if (data.completer && data.completer.insertMatch) {\n        data.completer.insertMatch(this.editor, data);\n      } else {\n        if (!completions) return false;\n        if (completions.filterText) {\n          var ranges = this.editor.selection.getAllRanges();\n          for (var i = 0, range; range = ranges[i]; i++) {\n            range.start.column -= completions.filterText.length;\n            this.editor.session.remove(range);\n          }\n        }\n        if (data.snippet) snippetManager.insertSnippet(this.editor, data.snippet);else this.editor.execCommand(\"insertstring\", data.value || data);\n      }\n      if (this.completions == completions) this.detach();\n      this.editor.endOperation();\n    };\n    this.commands = {\n      \"Up\": function (editor) {\n        editor.completer.goTo(\"up\");\n      },\n      \"Down\": function (editor) {\n        editor.completer.goTo(\"down\");\n      },\n      \"Ctrl-Up|Ctrl-Home\": function (editor) {\n        editor.completer.goTo(\"start\");\n      },\n      \"Ctrl-Down|Ctrl-End\": function (editor) {\n        editor.completer.goTo(\"end\");\n      },\n      \"Esc\": function (editor) {\n        editor.completer.detach();\n      },\n      \"Return\": function (editor) {\n        return editor.completer.insertMatch();\n      },\n      \"Shift-Return\": function (editor) {\n        editor.completer.insertMatch(null, {\n          deleteSuffix: true\n        });\n      },\n      \"Tab\": function (editor) {\n        var result = editor.completer.insertMatch();\n        if (!result && !editor.tabstopManager) editor.completer.goTo(\"down\");else return result;\n      },\n      \"PageUp\": function (editor) {\n        editor.completer.popup.gotoPageUp();\n      },\n      \"PageDown\": function (editor) {\n        editor.completer.popup.gotoPageDown();\n      }\n    };\n    this.gatherCompletions = function (editor, callback) {\n      var session = editor.getSession();\n      var pos = editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(editor);\n      this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n      this.base.$insertRight = true;\n      var matches = [];\n      var total = editor.completers.length;\n      editor.completers.forEach(function (completer, i) {\n        completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n          if (!err && results) matches = matches.concat(results);\n          callback(null, {\n            prefix: util.getCompletionPrefix(editor),\n            matches: matches,\n            finished: --total === 0\n          });\n        });\n      });\n      return true;\n    };\n    this.showPopup = function (editor, options) {\n      if (this.editor) this.detach();\n      this.activated = true;\n      this.editor = editor;\n      if (editor.completer != this) {\n        if (editor.completer) editor.completer.detach();\n        editor.completer = this;\n      }\n      editor.on(\"changeSelection\", this.changeListener);\n      editor.on(\"blur\", this.blurListener);\n      editor.on(\"mousedown\", this.mousedownListener);\n      editor.on(\"mousewheel\", this.mousewheelListener);\n      this.updateCompletions(false, options);\n    };\n    this.updateCompletions = function (keepPopupPosition, options) {\n      if (keepPopupPosition && this.base && this.completions) {\n        var pos = this.editor.getCursorPosition();\n        var prefix = this.editor.session.getTextRange({\n          start: this.base,\n          end: pos\n        });\n        if (prefix == this.completions.filterText) return;\n        this.completions.setFilter(prefix);\n        if (!this.completions.filtered.length) return this.detach();\n        if (this.completions.filtered.length == 1 && this.completions.filtered[0].value == prefix && !this.completions.filtered[0].snippet) return this.detach();\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n        return;\n      }\n      if (options && options.matches) {\n        var pos = this.editor.getSelectionRange().start;\n        this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n        this.base.$insertRight = true;\n        this.completions = new FilteredList(options.matches);\n        return this.openPopup(this.editor, \"\", keepPopupPosition);\n      }\n      var _id = this.gatherCompletionsId;\n      var detachIfFinished = function (results) {\n        if (!results.finished) return;\n        return this.detach();\n      }.bind(this);\n      var processResults = function (results) {\n        var prefix = results.prefix;\n        var matches = results.matches;\n        this.completions = new FilteredList(matches);\n        if (this.exactMatch) this.completions.exactMatch = true;\n        this.completions.setFilter(prefix);\n        var filtered = this.completions.filtered;\n        if (!filtered.length) return detachIfFinished(results);\n        if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet) return detachIfFinished(results);\n        if (this.autoInsert && filtered.length == 1 && results.finished) return this.insertMatch(filtered[0]);\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n      }.bind(this);\n      var isImmediate = true;\n      var immediateResults = null;\n      this.gatherCompletions(this.editor, function (err, results) {\n        var prefix = results.prefix;\n        var matches = results && results.matches;\n        if (!matches || !matches.length) return detachIfFinished(results);\n        if (prefix.indexOf(results.prefix) !== 0 || _id != this.gatherCompletionsId) return;\n        if (isImmediate) {\n          immediateResults = results;\n          return;\n        }\n        processResults(results);\n      }.bind(this));\n      isImmediate = false;\n      if (immediateResults) {\n        var results = immediateResults;\n        immediateResults = null;\n        processResults(results);\n      }\n    };\n    this.cancelContextMenu = function () {\n      this.editor.$mouseHandler.cancelContextMenu();\n    };\n    this.updateDocTooltip = function () {\n      var popup = this.popup;\n      var all = popup.data;\n      var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n      var doc = null;\n      if (!selected || !this.editor || !this.popup.isOpen) return this.hideDocTooltip();\n      this.editor.completers.some(function (completer) {\n        if (completer.getDocTooltip) doc = completer.getDocTooltip(selected);\n        return doc;\n      });\n      if (!doc && typeof selected != \"string\") doc = selected;\n      if (typeof doc == \"string\") doc = {\n        docText: doc\n      };\n      if (!doc || !(doc.docHTML || doc.docText)) return this.hideDocTooltip();\n      this.showDocTooltip(doc);\n    };\n    this.showDocTooltip = function (item) {\n      if (!this.tooltipNode) {\n        this.tooltipNode = dom.createElement(\"div\");\n        this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip\";\n        this.tooltipNode.style.margin = 0;\n        this.tooltipNode.style.pointerEvents = \"auto\";\n        this.tooltipNode.tabIndex = -1;\n        this.tooltipNode.onblur = this.blurListener.bind(this);\n        this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n      }\n      var tooltipNode = this.tooltipNode;\n      if (item.docHTML) {\n        tooltipNode.innerHTML = item.docHTML;\n      } else if (item.docText) {\n        tooltipNode.textContent = item.docText;\n      }\n      if (!tooltipNode.parentNode) document.body.appendChild(tooltipNode);\n      var popup = this.popup;\n      var rect = popup.container.getBoundingClientRect();\n      tooltipNode.style.top = popup.container.style.top;\n      tooltipNode.style.bottom = popup.container.style.bottom;\n      tooltipNode.style.display = \"block\";\n      if (window.innerWidth - rect.right < 320) {\n        if (rect.left < 320) {\n          if (popup.isTopdown) {\n            tooltipNode.style.top = rect.bottom + \"px\";\n            tooltipNode.style.left = rect.left + \"px\";\n            tooltipNode.style.right = \"\";\n            tooltipNode.style.bottom = \"\";\n          } else {\n            tooltipNode.style.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n            tooltipNode.style.left = rect.left + \"px\";\n            tooltipNode.style.right = \"\";\n            tooltipNode.style.bottom = \"\";\n          }\n        } else {\n          tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n          tooltipNode.style.left = \"\";\n        }\n      } else {\n        tooltipNode.style.left = rect.right + 1 + \"px\";\n        tooltipNode.style.right = \"\";\n      }\n    };\n    this.hideDocTooltip = function () {\n      this.tooltipTimer.cancel();\n      if (!this.tooltipNode) return;\n      var el = this.tooltipNode;\n      if (!this.editor.isFocused() && document.activeElement == el) this.editor.focus();\n      this.tooltipNode = null;\n      if (el.parentNode) el.parentNode.removeChild(el);\n    };\n    this.onTooltipClick = function (e) {\n      var a = e.target;\n      while (a && a != this.tooltipNode) {\n        if (a.nodeName == \"A\" && a.href) {\n          a.rel = \"noreferrer\";\n          a.target = \"_blank\";\n          break;\n        }\n        a = a.parentNode;\n      }\n    };\n    this.destroy = function () {\n      this.detach();\n      if (this.popup) {\n        this.popup.destroy();\n        var el = this.popup.container;\n        if (el && el.parentNode) el.parentNode.removeChild(el);\n      }\n      if (this.editor && this.editor.completer == this) this.editor.completer == null;\n      this.popup = null;\n    };\n  }).call(Autocomplete.prototype);\n  Autocomplete.for = function (editor) {\n    if (editor.completer) {\n      return editor.completer;\n    }\n    if (config.get(\"sharedPopups\")) {\n      if (!Autocomplete.$shared) Autocomplete.$sharedInstance = new Autocomplete();\n      editor.completer = Autocomplete.$sharedInstance;\n    } else {\n      editor.completer = new Autocomplete();\n      editor.once(\"destroy\", function (e, editor) {\n        editor.completer.destroy();\n      });\n    }\n    return editor.completer;\n  };\n  Autocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n      var completer = Autocomplete.for(editor);\n      completer.autoInsert = false;\n      completer.autoSelect = true;\n      completer.showPopup(editor, options);\n      completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n  };\n  var FilteredList = function (array, filterText) {\n    this.all = array;\n    this.filtered = array;\n    this.filterText = filterText || \"\";\n    this.exactMatch = false;\n  };\n  (function () {\n    this.setFilter = function (str) {\n      if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0) var matches = this.filtered;else var matches = this.all;\n      this.filterText = str;\n      matches = this.filterCompletions(matches, this.filterText);\n      matches = matches.sort(function (a, b) {\n        return b.exactMatch - a.exactMatch || b.$score - a.$score || (a.caption || a.value).localeCompare(b.caption || b.value);\n      });\n      var prev = null;\n      matches = matches.filter(function (item) {\n        var caption = item.snippet || item.caption || item.value;\n        if (caption === prev) return false;\n        prev = caption;\n        return true;\n      });\n      this.filtered = matches;\n    };\n    this.filterCompletions = function (items, needle) {\n      var results = [];\n      var upper = needle.toUpperCase();\n      var lower = needle.toLowerCase();\n      loop: for (var i = 0, item; item = items[i]; i++) {\n        var caption = item.caption || item.value || item.snippet;\n        if (!caption) continue;\n        var lastIndex = -1;\n        var matchMask = 0;\n        var penalty = 0;\n        var index, distance;\n        if (this.exactMatch) {\n          if (needle !== caption.substr(0, needle.length)) continue loop;\n        } else {\n          var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n          if (fullMatchIndex > -1) {\n            penalty = fullMatchIndex;\n          } else {\n            for (var j = 0; j < needle.length; j++) {\n              var i1 = caption.indexOf(lower[j], lastIndex + 1);\n              var i2 = caption.indexOf(upper[j], lastIndex + 1);\n              index = i1 >= 0 ? i2 < 0 || i1 < i2 ? i1 : i2 : i2;\n              if (index < 0) continue loop;\n              distance = index - lastIndex - 1;\n              if (distance > 0) {\n                if (lastIndex === -1) penalty += 10;\n                penalty += distance;\n                matchMask = matchMask | 1 << j;\n              }\n              lastIndex = index;\n            }\n          }\n        }\n        item.matchMask = matchMask;\n        item.exactMatch = penalty ? 0 : 1;\n        item.$score = (item.score || 0) - penalty;\n        results.push(item);\n      }\n      return results;\n    };\n  }).call(FilteredList.prototype);\n  exports.Autocomplete = Autocomplete;\n  exports.FilteredList = FilteredList;\n});\nace.define(\"ace/ext/menu_tools/settings_menu.css\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  module.exports = \"#ace_settingsmenu, #kbshortcutmenu {\\n    background-color: #F7F7F7;\\n    color: black;\\n    box-shadow: -5px 4px 5px rgba(126, 126, 126, 0.55);\\n    padding: 1em 0.5em 2em 1em;\\n    overflow: auto;\\n    position: absolute;\\n    margin: 0;\\n    bottom: 0;\\n    right: 0;\\n    top: 0;\\n    z-index: 9991;\\n    cursor: default;\\n}\\n\\n.ace_dark #ace_settingsmenu, .ace_dark #kbshortcutmenu {\\n    box-shadow: -20px 10px 25px rgba(126, 126, 126, 0.25);\\n    background-color: rgba(255, 255, 255, 0.6);\\n    color: black;\\n}\\n\\n.ace_optionsMenuEntry:hover {\\n    background-color: rgba(100, 100, 100, 0.1);\\n    transition: all 0.3s\\n}\\n\\n.ace_closeButton {\\n    background: rgba(245, 146, 146, 0.5);\\n    border: 1px solid #F48A8A;\\n    border-radius: 50%;\\n    padding: 7px;\\n    position: absolute;\\n    right: -8px;\\n    top: -8px;\\n    z-index: 100000;\\n}\\n.ace_closeButton{\\n    background: rgba(245, 146, 146, 0.9);\\n}\\n.ace_optionsMenuKey {\\n    color: darkslateblue;\\n    font-weight: bold;\\n}\\n.ace_optionsMenuCommand {\\n    color: darkcyan;\\n    font-weight: normal;\\n}\\n.ace_optionsMenuEntry input, .ace_optionsMenuEntry button {\\n    vertical-align: middle;\\n}\\n\\n.ace_optionsMenuEntry button[ace_selected_button=true] {\\n    background: #e7e7e7;\\n    box-shadow: 1px 0px 2px 0px #adadad inset;\\n    border-color: #adadad;\\n}\\n.ace_optionsMenuEntry button {\\n    background: white;\\n    border: 1px solid lightgray;\\n    margin: 0px;\\n}\\n.ace_optionsMenuEntry button:hover{\\n    background: #f0f0f0;\\n}\";\n});\nace.define(\"ace/ext/menu_tools/overlay_page\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/ext/menu_tools/settings_menu.css\"], function (require, exports, module) {\n  /*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n  'use strict';\n\n  var dom = require(\"../../lib/dom\");\n  var cssText = require(\"./settings_menu.css\");\n  dom.importCssString(cssText, \"settings_menu.css\", false);\n  module.exports.overlayPage = function overlayPage(editor, contentElement, callback) {\n    var closer = document.createElement('div');\n    var ignoreFocusOut = false;\n    function documentEscListener(e) {\n      if (e.keyCode === 27) {\n        close();\n      }\n    }\n    function close() {\n      if (!closer) return;\n      document.removeEventListener('keydown', documentEscListener);\n      closer.parentNode.removeChild(closer);\n      if (editor) {\n        editor.focus();\n      }\n      closer = null;\n      callback && callback();\n    }\n    function setIgnoreFocusOut(ignore) {\n      ignoreFocusOut = ignore;\n      if (ignore) {\n        closer.style.pointerEvents = \"none\";\n        contentElement.style.pointerEvents = \"auto\";\n      }\n    }\n    closer.style.cssText = 'margin: 0; padding: 0; ' + 'position: fixed; top:0; bottom:0; left:0; right:0;' + 'z-index: 9990; ' + (editor ? 'background-color: rgba(0, 0, 0, 0.3);' : '');\n    closer.addEventListener('click', function (e) {\n      if (!ignoreFocusOut) {\n        close();\n      }\n    });\n    document.addEventListener('keydown', documentEscListener);\n    contentElement.addEventListener('click', function (e) {\n      e.stopPropagation();\n    });\n    closer.appendChild(contentElement);\n    document.body.appendChild(closer);\n    if (editor) {\n      editor.blur();\n    }\n    return {\n      close: close,\n      setIgnoreFocusOut: setIgnoreFocusOut\n    };\n  };\n});\nace.define(\"ace/ext/modelist\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var modes = [];\n  function getModeForPath(path) {\n    var mode = modesByName.text;\n    var fileName = path.split(/[\\/\\\\]/).pop();\n    for (var i = 0; i < modes.length; i++) {\n      if (modes[i].supportsFile(fileName)) {\n        mode = modes[i];\n        break;\n      }\n    }\n    return mode;\n  }\n  var Mode = function (name, caption, extensions) {\n    this.name = name;\n    this.caption = caption;\n    this.mode = \"ace/mode/\" + name;\n    this.extensions = extensions;\n    var re;\n    if (/\\^/.test(extensions)) {\n      re = extensions.replace(/\\|(\\^)?/g, function (a, b) {\n        return \"$|\" + (b ? \"^\" : \"^.*\\\\.\");\n      }) + \"$\";\n    } else {\n      re = \"^.*\\\\.(\" + extensions + \")$\";\n    }\n    this.extRe = new RegExp(re, \"gi\");\n  };\n  Mode.prototype.supportsFile = function (filename) {\n    return filename.match(this.extRe);\n  };\n  var supportedModes = {\n    ABAP: [\"abap\"],\n    ABC: [\"abc\"],\n    ActionScript: [\"as\"],\n    ADA: [\"ada|adb\"],\n    Alda: [\"alda\"],\n    Apache_Conf: [\"^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd\"],\n    Apex: [\"apex|cls|trigger|tgr\"],\n    AQL: [\"aql\"],\n    AsciiDoc: [\"asciidoc|adoc\"],\n    ASL: [\"dsl|asl|asl.json\"],\n    Assembly_x86: [\"asm|a\"],\n    AutoHotKey: [\"ahk\"],\n    BatchFile: [\"bat|cmd\"],\n    BibTeX: [\"bib\"],\n    C_Cpp: [\"cpp|c|cc|cxx|h|hh|hpp|ino\"],\n    C9Search: [\"c9search_results\"],\n    Cirru: [\"cirru|cr\"],\n    Clojure: [\"clj|cljs\"],\n    Cobol: [\"CBL|COB\"],\n    coffee: [\"coffee|cf|cson|^Cakefile\"],\n    ColdFusion: [\"cfm\"],\n    Crystal: [\"cr\"],\n    CSharp: [\"cs\"],\n    Csound_Document: [\"csd\"],\n    Csound_Orchestra: [\"orc\"],\n    Csound_Score: [\"sco\"],\n    CSS: [\"css\"],\n    Curly: [\"curly\"],\n    D: [\"d|di\"],\n    Dart: [\"dart\"],\n    Diff: [\"diff|patch\"],\n    Dockerfile: [\"^Dockerfile\"],\n    Dot: [\"dot\"],\n    Drools: [\"drl\"],\n    Edifact: [\"edi\"],\n    Eiffel: [\"e|ge\"],\n    EJS: [\"ejs\"],\n    Elixir: [\"ex|exs\"],\n    Elm: [\"elm\"],\n    Erlang: [\"erl|hrl\"],\n    Forth: [\"frt|fs|ldr|fth|4th\"],\n    Fortran: [\"f|f90\"],\n    FSharp: [\"fsi|fs|ml|mli|fsx|fsscript\"],\n    FSL: [\"fsl\"],\n    FTL: [\"ftl\"],\n    Gcode: [\"gcode\"],\n    Gherkin: [\"feature\"],\n    Gitignore: [\"^.gitignore\"],\n    Glsl: [\"glsl|frag|vert\"],\n    Gobstones: [\"gbs\"],\n    golang: [\"go\"],\n    GraphQLSchema: [\"gql\"],\n    Groovy: [\"groovy\"],\n    HAML: [\"haml\"],\n    Handlebars: [\"hbs|handlebars|tpl|mustache\"],\n    Haskell: [\"hs\"],\n    Haskell_Cabal: [\"cabal\"],\n    haXe: [\"hx\"],\n    Hjson: [\"hjson\"],\n    HTML: [\"html|htm|xhtml|vue|we|wpy\"],\n    HTML_Elixir: [\"eex|html.eex\"],\n    HTML_Ruby: [\"erb|rhtml|html.erb\"],\n    INI: [\"ini|conf|cfg|prefs\"],\n    Io: [\"io\"],\n    Ion: [\"ion\"],\n    Jack: [\"jack\"],\n    Jade: [\"jade|pug\"],\n    Java: [\"java\"],\n    JavaScript: [\"js|jsm|jsx|cjs|mjs\"],\n    JEXL: [\"jexl\"],\n    JSON: [\"json\"],\n    JSON5: [\"json5\"],\n    JSONiq: [\"jq\"],\n    JSP: [\"jsp\"],\n    JSSM: [\"jssm|jssm_state\"],\n    JSX: [\"jsx\"],\n    Julia: [\"jl\"],\n    Kotlin: [\"kt|kts\"],\n    LaTeX: [\"tex|latex|ltx|bib\"],\n    Latte: [\"latte\"],\n    LESS: [\"less\"],\n    Liquid: [\"liquid\"],\n    Lisp: [\"lisp\"],\n    LiveScript: [\"ls\"],\n    Log: [\"log\"],\n    LogiQL: [\"logic|lql\"],\n    Logtalk: [\"lgt\"],\n    LSL: [\"lsl\"],\n    Lua: [\"lua\"],\n    LuaPage: [\"lp\"],\n    Lucene: [\"lucene\"],\n    Makefile: [\"^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make\"],\n    Markdown: [\"md|markdown\"],\n    Mask: [\"mask\"],\n    MATLAB: [\"matlab\"],\n    Maze: [\"mz\"],\n    MediaWiki: [\"wiki|mediawiki\"],\n    MEL: [\"mel\"],\n    MIPS: [\"s|asm\"],\n    MIXAL: [\"mixal\"],\n    MUSHCode: [\"mc|mush\"],\n    MySQL: [\"mysql\"],\n    Nginx: [\"nginx|conf\"],\n    Nim: [\"nim\"],\n    Nix: [\"nix\"],\n    NSIS: [\"nsi|nsh\"],\n    Nunjucks: [\"nunjucks|nunjs|nj|njk\"],\n    ObjectiveC: [\"m|mm\"],\n    OCaml: [\"ml|mli\"],\n    PartiQL: [\"partiql|pql\"],\n    Pascal: [\"pas|p\"],\n    Perl: [\"pl|pm\"],\n    pgSQL: [\"pgsql\"],\n    PHP_Laravel_blade: [\"blade.php\"],\n    PHP: [\"php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module\"],\n    Pig: [\"pig\"],\n    Powershell: [\"ps1\"],\n    Praat: [\"praat|praatscript|psc|proc\"],\n    Prisma: [\"prisma\"],\n    Prolog: [\"plg|prolog\"],\n    Properties: [\"properties\"],\n    Protobuf: [\"proto\"],\n    Puppet: [\"epp|pp\"],\n    Python: [\"py\"],\n    QML: [\"qml\"],\n    R: [\"r\"],\n    Raku: [\"raku|rakumod|rakutest|p6|pl6|pm6\"],\n    Razor: [\"cshtml|asp\"],\n    RDoc: [\"Rd\"],\n    Red: [\"red|reds\"],\n    RHTML: [\"Rhtml\"],\n    Robot: [\"robot|resource\"],\n    RST: [\"rst\"],\n    Ruby: [\"rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile\"],\n    Rust: [\"rs\"],\n    SaC: [\"sac\"],\n    SASS: [\"sass\"],\n    SCAD: [\"scad\"],\n    Scala: [\"scala|sbt\"],\n    Scheme: [\"scm|sm|rkt|oak|scheme\"],\n    Scrypt: [\"scrypt\"],\n    SCSS: [\"scss\"],\n    SH: [\"sh|bash|^.bashrc\"],\n    SJS: [\"sjs\"],\n    Slim: [\"slim|skim\"],\n    Smarty: [\"smarty|tpl\"],\n    Smithy: [\"smithy\"],\n    snippets: [\"snippets\"],\n    Soy_Template: [\"soy\"],\n    Space: [\"space\"],\n    SPARQL: [\"rq\"],\n    SQL: [\"sql\"],\n    SQLServer: [\"sqlserver\"],\n    Stylus: [\"styl|stylus\"],\n    SVG: [\"svg\"],\n    Swift: [\"swift\"],\n    Tcl: [\"tcl\"],\n    Terraform: [\"tf\", \"tfvars\", \"terragrunt\"],\n    Tex: [\"tex\"],\n    Text: [\"txt\"],\n    Textile: [\"textile\"],\n    Toml: [\"toml\"],\n    TSX: [\"tsx\"],\n    Turtle: [\"ttl\"],\n    Twig: [\"twig|swig\"],\n    Typescript: [\"ts|typescript|str\"],\n    Vala: [\"vala\"],\n    VBScript: [\"vbs|vb\"],\n    Velocity: [\"vm\"],\n    Verilog: [\"v|vh|sv|svh\"],\n    VHDL: [\"vhd|vhdl\"],\n    Visualforce: [\"vfp|component|page\"],\n    Wollok: [\"wlk|wpgm|wtest\"],\n    XML: [\"xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml\"],\n    XQuery: [\"xq\"],\n    YAML: [\"yaml|yml\"],\n    Zeek: [\"zeek|bro\"],\n    Django: [\"html\"]\n  };\n  var nameOverrides = {\n    ObjectiveC: \"Objective-C\",\n    CSharp: \"C#\",\n    golang: \"Go\",\n    C_Cpp: \"C and C++\",\n    Csound_Document: \"Csound Document\",\n    Csound_Orchestra: \"Csound\",\n    Csound_Score: \"Csound Score\",\n    coffee: \"CoffeeScript\",\n    HTML_Ruby: \"HTML (Ruby)\",\n    HTML_Elixir: \"HTML (Elixir)\",\n    FTL: \"FreeMarker\",\n    PHP_Laravel_blade: \"PHP (Blade Template)\",\n    Perl6: \"Perl 6\",\n    AutoHotKey: \"AutoHotkey / AutoIt\"\n  };\n  var modesByName = {};\n  for (var name in supportedModes) {\n    var data = supportedModes[name];\n    var displayName = (nameOverrides[name] || name).replace(/_/g, \" \");\n    var filename = name.toLowerCase();\n    var mode = new Mode(filename, displayName, data[0]);\n    modesByName[filename] = mode;\n    modes.push(mode);\n  }\n  module.exports = {\n    getModeForPath: getModeForPath,\n    modes: modes,\n    modesByName: modesByName\n  };\n});\nace.define(\"ace/ext/prompt\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/dom\", \"ace/ext/menu_tools/get_editor_keyboard_shortcuts\", \"ace/autocomplete\", \"ace/autocomplete/popup\", \"ace/autocomplete/popup\", \"ace/undomanager\", \"ace/tokenizer\", \"ace/ext/menu_tools/overlay_page\", \"ace/ext/modelist\"], function (require, exports, module) {\n  /**\n  * Prompt plugin is used for getting input from user.\n  *\n  * @param {Object} editor                   Ouside editor related to this prompt. Will be blurred when prompt is open.\n  * @param {String} message                  Predefined value of prompt input box.\n  * @param {Object} options                  Cusomizable options for this prompt.\n  * @param {String} options.name             Prompt name.\n  * @param {String} options.$type            Use prompt of specific type (gotoLine|commands|modes or default if empty).\n  * @param {[start, end]} options.selection  Defines which part of the predefined value should be highlited.\n  * @param {Boolean} options.hasDescription  Set to true if prompt has description below input box.\n  * @param {String} options.prompt           Description below input box.\n  * @param {String} options.placeholder      Placeholder for value.\n  * @param {Object} options.$rules           Specific rules for input like password or regexp.\n  * @param {Boolean} options.ignoreFocusOut  Set to true to keep the prompt open when focus moves to another part of the editor.\n  * @param {Function} options.getCompletions Function for defining list of options for value.\n  * @param {Function} options.getPrefix      Function for defining current value prefix.\n  * @param {Function} options.onAccept       Function called when Enter is pressed.\n  * @param {Function} options.onInput        Function called when input is added to prompt input box.\n  * @param {Function} options.onCancel       Function called when Esc|Shift-Esc is pressed.\n  * @param {Function} callback               Function called after done.\n  * */\n  \"use strict\";\n\n  var Range = require(\"../range\").Range;\n  var dom = require(\"../lib/dom\");\n  var shortcuts = require(\"../ext/menu_tools/get_editor_keyboard_shortcuts\");\n  var FilteredList = require(\"../autocomplete\").FilteredList;\n  var AcePopup = require('../autocomplete/popup').AcePopup;\n  var $singleLineEditor = require('../autocomplete/popup').$singleLineEditor;\n  var UndoManager = require(\"../undomanager\").UndoManager;\n  var Tokenizer = require(\"../tokenizer\").Tokenizer;\n  var overlayPage = require(\"./menu_tools/overlay_page\").overlayPage;\n  var modelist = require(\"./modelist\");\n  var openPrompt;\n  function prompt(editor, message, options, callback) {\n    if (typeof message == \"object\") {\n      return prompt(editor, \"\", message, options);\n    }\n    if (openPrompt) {\n      var lastPrompt = openPrompt;\n      editor = lastPrompt.editor;\n      lastPrompt.close();\n      if (lastPrompt.name && lastPrompt.name == options.name) return;\n    }\n    if (options.$type) return prompt[options.$type](editor, callback);\n    var cmdLine = $singleLineEditor();\n    cmdLine.session.setUndoManager(new UndoManager());\n    var el = dom.buildDom([\"div\", {\n      class: \"ace_prompt_container\" + (options.hasDescription ? \" input-box-with-description\" : \"\")\n    }]);\n    var overlay = overlayPage(editor, el, done);\n    el.appendChild(cmdLine.container);\n    if (editor) {\n      editor.cmdLine = cmdLine;\n      cmdLine.setOption(\"fontSize\", editor.getOption(\"fontSize\"));\n    }\n    if (message) {\n      cmdLine.setValue(message, 1);\n    }\n    if (options.selection) {\n      cmdLine.selection.setRange({\n        start: cmdLine.session.doc.indexToPosition(options.selection[0]),\n        end: cmdLine.session.doc.indexToPosition(options.selection[1])\n      });\n    }\n    if (options.getCompletions) {\n      var popup = new AcePopup();\n      popup.renderer.setStyle(\"ace_autocomplete_inline\");\n      popup.container.style.display = \"block\";\n      popup.container.style.maxWidth = \"600px\";\n      popup.container.style.width = \"100%\";\n      popup.container.style.marginTop = \"3px\";\n      popup.renderer.setScrollMargin(2, 2, 0, 0);\n      popup.autoSelect = false;\n      popup.renderer.$maxLines = 15;\n      popup.setRow(-1);\n      popup.on(\"click\", function (e) {\n        var data = popup.getData(popup.getRow());\n        if (!data.error) {\n          cmdLine.setValue(data.value || data.name || data);\n          accept();\n          e.stop();\n        }\n      });\n      el.appendChild(popup.container);\n      updateCompletions();\n    }\n    if (options.$rules) {\n      var tokenizer = new Tokenizer(options.$rules);\n      cmdLine.session.bgTokenizer.setTokenizer(tokenizer);\n    }\n    if (options.placeholder) {\n      cmdLine.setOption(\"placeholder\", options.placeholder);\n    }\n    if (options.hasDescription) {\n      var promptTextContainer = dom.buildDom([\"div\", {\n        class: \"ace_prompt_text_container\"\n      }]);\n      dom.buildDom(options.prompt || \"Press 'Enter' to confirm or 'Escape' to cancel\", promptTextContainer);\n      el.appendChild(promptTextContainer);\n    }\n    overlay.setIgnoreFocusOut(options.ignoreFocusOut);\n    function accept() {\n      var val;\n      if (popup && popup.getCursorPosition().row > 0) {\n        val = valueFromRecentList();\n      } else {\n        val = cmdLine.getValue();\n      }\n      var curData = popup ? popup.getData(popup.getRow()) : val;\n      if (curData && !curData.error) {\n        done();\n        options.onAccept && options.onAccept({\n          value: val,\n          item: curData\n        }, cmdLine);\n      }\n    }\n    var keys = {\n      \"Enter\": accept,\n      \"Esc|Shift-Esc\": function () {\n        options.onCancel && options.onCancel(cmdLine.getValue(), cmdLine);\n        done();\n      }\n    };\n    if (popup) {\n      Object.assign(keys, {\n        \"Up\": function (editor) {\n          popup.goTo(\"up\");\n          valueFromRecentList();\n        },\n        \"Down\": function (editor) {\n          popup.goTo(\"down\");\n          valueFromRecentList();\n        },\n        \"Ctrl-Up|Ctrl-Home\": function (editor) {\n          popup.goTo(\"start\");\n          valueFromRecentList();\n        },\n        \"Ctrl-Down|Ctrl-End\": function (editor) {\n          popup.goTo(\"end\");\n          valueFromRecentList();\n        },\n        \"Tab\": function (editor) {\n          popup.goTo(\"down\");\n          valueFromRecentList();\n        },\n        \"PageUp\": function (editor) {\n          popup.gotoPageUp();\n          valueFromRecentList();\n        },\n        \"PageDown\": function (editor) {\n          popup.gotoPageDown();\n          valueFromRecentList();\n        }\n      });\n    }\n    cmdLine.commands.bindKeys(keys);\n    function done() {\n      overlay.close();\n      callback && callback();\n      openPrompt = null;\n    }\n    cmdLine.on(\"input\", function () {\n      options.onInput && options.onInput();\n      updateCompletions();\n    });\n    function updateCompletions() {\n      if (options.getCompletions) {\n        var prefix;\n        if (options.getPrefix) {\n          prefix = options.getPrefix(cmdLine);\n        }\n        var completions = options.getCompletions(cmdLine);\n        popup.setData(completions, prefix);\n        popup.resize(true);\n      }\n    }\n    function valueFromRecentList() {\n      var current = popup.getData(popup.getRow());\n      if (current && !current.error) return current.value || current.caption || current;\n    }\n    cmdLine.resize(true);\n    if (popup) {\n      popup.resize(true);\n    }\n    cmdLine.focus();\n    openPrompt = {\n      close: done,\n      name: options.name,\n      editor: editor\n    };\n  }\n  prompt.gotoLine = function (editor, callback) {\n    function stringifySelection(selection) {\n      if (!Array.isArray(selection)) selection = [selection];\n      return selection.map(function (r) {\n        var cursor = r.isBackwards ? r.start : r.end;\n        var anchor = r.isBackwards ? r.end : r.start;\n        var row = anchor.row;\n        var s = row + 1 + \":\" + anchor.column;\n        if (anchor.row == cursor.row) {\n          if (anchor.column != cursor.column) s += \">\" + \":\" + cursor.column;\n        } else {\n          s += \">\" + (cursor.row + 1) + \":\" + cursor.column;\n        }\n        return s;\n      }).reverse().join(\", \");\n    }\n    prompt(editor, \":\" + stringifySelection(editor.selection.toJSON()), {\n      name: \"gotoLine\",\n      selection: [1, Number.MAX_VALUE],\n      onAccept: function (data) {\n        var value = data.value;\n        var _history = prompt.gotoLine._history;\n        if (!_history) prompt.gotoLine._history = _history = [];\n        if (_history.indexOf(value) != -1) _history.splice(_history.indexOf(value), 1);\n        _history.unshift(value);\n        if (_history.length > 20) _history.length = 20;\n        var pos = editor.getCursorPosition();\n        var ranges = [];\n        value.replace(/^:/, \"\").split(/,/).map(function (str) {\n          var parts = str.split(/([<>:+-]|c?\\d+)|[^c\\d<>:+-]+/).filter(Boolean);\n          var i = 0;\n          function readPosition() {\n            var c = parts[i++];\n            if (!c) return;\n            if (c[0] == \"c\") {\n              var index = parseInt(c.slice(1)) || 0;\n              return editor.session.doc.indexToPosition(index);\n            }\n            var row = pos.row;\n            var column = 0;\n            if (/\\d/.test(c)) {\n              row = parseInt(c) - 1;\n              c = parts[i++];\n            }\n            if (c == \":\") {\n              c = parts[i++];\n              if (/\\d/.test(c)) {\n                column = parseInt(c) || 0;\n              }\n            }\n            return {\n              row: row,\n              column: column\n            };\n          }\n          pos = readPosition();\n          var range = Range.fromPoints(pos, pos);\n          if (parts[i] == \">\") {\n            i++;\n            range.end = readPosition();\n          } else if (parts[i] == \"<\") {\n            i++;\n            range.start = readPosition();\n          }\n          ranges.unshift(range);\n        });\n        editor.selection.fromJSON(ranges);\n        var scrollTop = editor.renderer.scrollTop;\n        editor.renderer.scrollSelectionIntoView(editor.selection.anchor, editor.selection.cursor, 0.5);\n        editor.renderer.animateScrolling(scrollTop);\n      },\n      history: function () {\n        var undoManager = editor.session.getUndoManager();\n        if (!prompt.gotoLine._history) return [];\n        return prompt.gotoLine._history;\n      },\n      getCompletions: function (cmdLine) {\n        var value = cmdLine.getValue();\n        var m = value.replace(/^:/, \"\").split(\":\");\n        var row = Math.min(parseInt(m[0]) || 1, editor.session.getLength()) - 1;\n        var line = editor.session.getLine(row);\n        var current = value + \"  \" + line;\n        return [current].concat(this.history());\n      },\n      $rules: {\n        start: [{\n          regex: /\\d+/,\n          token: \"string\"\n        }, {\n          regex: /[:,><+\\-c]/,\n          token: \"keyword\"\n        }]\n      }\n    });\n  };\n  prompt.commands = function (editor, callback) {\n    function normalizeName(name) {\n      return (name || \"\").replace(/^./, function (x) {\n        return x.toUpperCase(x);\n      }).replace(/[a-z][A-Z]/g, function (x) {\n        return x[0] + \" \" + x[1].toLowerCase(x);\n      });\n    }\n    function getEditorCommandsByName(excludeCommands) {\n      var commandsByName = [];\n      var commandMap = {};\n      editor.keyBinding.$handlers.forEach(function (handler) {\n        var platform = handler.platform;\n        var cbn = handler.byName;\n        for (var i in cbn) {\n          var key = cbn[i].bindKey;\n          if (typeof key !== \"string\") {\n            key = key && key[platform] || \"\";\n          }\n          var commands = cbn[i];\n          var description = commands.description || normalizeName(commands.name);\n          if (!Array.isArray(commands)) commands = [commands];\n          commands.forEach(function (command) {\n            if (typeof command != \"string\") command = command.name;\n            var needle = excludeCommands.find(function (el) {\n              return el === command;\n            });\n            if (!needle) {\n              if (commandMap[command]) {\n                commandMap[command].key += \"|\" + key;\n              } else {\n                commandMap[command] = {\n                  key: key,\n                  command: command,\n                  description: description\n                };\n                commandsByName.push(commandMap[command]);\n              }\n            }\n          });\n        }\n      });\n      return commandsByName;\n    }\n    var excludeCommandsList = [\"insertstring\", \"inserttext\", \"setIndentation\", \"paste\"];\n    var shortcutsArray = getEditorCommandsByName(excludeCommandsList);\n    shortcutsArray = shortcutsArray.map(function (item) {\n      return {\n        value: item.description,\n        meta: item.key,\n        command: item.command\n      };\n    });\n    prompt(editor, \"\", {\n      name: \"commands\",\n      selection: [0, Number.MAX_VALUE],\n      maxHistoryCount: 5,\n      onAccept: function (data) {\n        if (data.item) {\n          var commandName = data.item.command;\n          this.addToHistory(data.item);\n          editor.execCommand(commandName);\n        }\n      },\n      addToHistory: function (item) {\n        var history = this.history();\n        history.unshift(item);\n        delete item.message;\n        for (var i = 1; i < history.length; i++) {\n          if (history[i][\"command\"] == item.command) {\n            history.splice(i, 1);\n            break;\n          }\n        }\n        if (this.maxHistoryCount > 0 && history.length > this.maxHistoryCount) {\n          history.splice(history.length - 1, 1);\n        }\n        prompt.commands.history = history;\n      },\n      history: function () {\n        return prompt.commands.history || [];\n      },\n      getPrefix: function (cmdLine) {\n        var currentPos = cmdLine.getCursorPosition();\n        var filterValue = cmdLine.getValue();\n        return filterValue.substring(0, currentPos.column);\n      },\n      getCompletions: function (cmdLine) {\n        function getFilteredCompletions(commands, prefix) {\n          var resultCommands = JSON.parse(JSON.stringify(commands));\n          var filtered = new FilteredList(resultCommands);\n          return filtered.filterCompletions(resultCommands, prefix);\n        }\n        function getUniqueCommandList(commands, usedCommands) {\n          if (!usedCommands || !usedCommands.length) {\n            return commands;\n          }\n          var excludeCommands = [];\n          usedCommands.forEach(function (item) {\n            excludeCommands.push(item.command);\n          });\n          var resultCommands = [];\n          commands.forEach(function (item) {\n            if (excludeCommands.indexOf(item.command) === -1) {\n              resultCommands.push(item);\n            }\n          });\n          return resultCommands;\n        }\n        var prefix = this.getPrefix(cmdLine);\n        var recentlyUsedCommands = getFilteredCompletions(this.history(), prefix);\n        var otherCommands = getUniqueCommandList(shortcutsArray, recentlyUsedCommands);\n        otherCommands = getFilteredCompletions(otherCommands, prefix);\n        if (recentlyUsedCommands.length && otherCommands.length) {\n          recentlyUsedCommands[0][\"message\"] = \" Recently used\";\n          otherCommands[0][\"message\"] = \" Other commands\";\n        }\n        var completions = recentlyUsedCommands.concat(otherCommands);\n        return completions.length > 0 ? completions : [{\n          value: \"No matching commands\",\n          error: 1\n        }];\n      }\n    });\n  };\n  prompt.modes = function (editor, callback) {\n    var modesArray = modelist.modes;\n    modesArray = modesArray.map(function (item) {\n      return {\n        value: item.caption,\n        mode: item.name\n      };\n    });\n    prompt(editor, \"\", {\n      name: \"modes\",\n      selection: [0, Number.MAX_VALUE],\n      onAccept: function (data) {\n        if (data.item) {\n          var modeName = \"ace/mode/\" + data.item.mode;\n          editor.session.setMode(modeName);\n        }\n      },\n      getPrefix: function (cmdLine) {\n        var currentPos = cmdLine.getCursorPosition();\n        var filterValue = cmdLine.getValue();\n        return filterValue.substring(0, currentPos.column);\n      },\n      getCompletions: function (cmdLine) {\n        function getFilteredCompletions(modes, prefix) {\n          var resultCommands = JSON.parse(JSON.stringify(modes));\n          var filtered = new FilteredList(resultCommands);\n          return filtered.filterCompletions(resultCommands, prefix);\n        }\n        var prefix = this.getPrefix(cmdLine);\n        var completions = getFilteredCompletions(modesArray, prefix);\n        return completions.length > 0 ? completions : [{\n          \"caption\": \"No mode matching\",\n          \"value\": \"No mode matching\",\n          \"error\": 1\n        }];\n      }\n    });\n  };\n  dom.importCssString(\".ace_prompt_container {\\n    max-width: 600px;\\n    width: 100%;\\n    margin: 20px auto;\\n    padding: 3px;\\n    background: white;\\n    border-radius: 2px;\\n    box-shadow: 0px 2px 3px 0px #555;\\n}\", \"promtp.css\", false);\n  exports.prompt = prompt;\n});\n(function () {\n  ace.require([\"ace/ext/prompt\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();","map":{"version":3,"names":["ace","define","require","exports","module","keys","getEditorKeyboardShortcuts","editor","KEY_MODS","keybindings","commandMap","keyBinding","$handlers","forEach","handler","ckb","commandKeyBinding","i","key","replace","x","toUpperCase","commands","Array","isArray","command","name","push","Renderer","VirtualRenderer","Editor","Range","event","lang","dom","getAriaId","index","concat","$singleLineEditor","el","renderer","$maxLines","setHighlightActiveLine","setShowPrintMargin","setShowGutter","setHighlightGutterLine","$mouseHandler","$focusTimeout","$highlightTagPending","AcePopup","parentNode","createElement","popup","appendChild","style","display","content","cursor","setStyle","container","setAttribute","setOption","noop","focus","$isFocused","$cursorLayer","restartTimer","element","opacity","$keepTextAreaAtCursor","session","highlight","$searchHighlight","clazz","on","e","pos","getDocumentPosition","selection","moveToPosition","selectionMarker","start","row","end","stop","lastMouseEvent","hoverMarker","Infinity","id","addMarker","setSelectOnHover","val","removeMarker","y","scrollTop","setRow","setHoverMarker","$pos","getRow","t","$textLayer","selected","childNodes","config","firstRow","document","activeElement","selectedNode","removeCssClass","removeAttribute","addCssClass","ariaId","getData","value","hideHoverMarker","suppressRedraw","_emit","getHoveredRow","addListener","doc","getLength","data","length","getLine","bgTokenizer","$tokenizeRow","tokens","caption","addToken","className","type","lower","toLowerCase","filterText","lastIndex","lastI","matchMask","sub","slice","indexOf","meta","message","$updateOnChange","$computeWidth","screenWidth","isOpen","isTopdown","autoSelect","setData","list","setValue","stringRepeat","line","Math","max","min","clearSelection","moveCursorTo","_signal","lead","scrollCursorIntoView","hide","show","lineHeight","topdownOnly","screenHeight","window","innerHeight","innerWidth","maxH","top","$borderSize","allowTopdown","$maxPixelHeight","bottom","left","offsetWidth","goTo","where","getTextLeftOffset","$padding","$imageSize","importCssString","parForEach","array","fn","callback","completed","arLength","result","err","ID_REGEX","retrievePrecedingIdentifier","text","regex","buf","test","reverse","join","retrieveFollowingIdentifier","getCompletionPrefix","getCursorPosition","prefix","completers","completer","identifierRegexps","identifierRegex","column","bind","oop","EventEmitter","RangeList","HashHandler","Tokenizer","clipboard","VARIABLES","CURRENT_WORD","getTextRange","getWordRange","SELECTION","indentation","CURRENT_LINE","PREV_LINE","LINE_INDEX","LINE_NUMBER","SOFT_TABS","getUseSoftTabs","TAB_SIZE","getTabSize","CLIPBOARD","getText","FILENAME","exec","FILEPATH","FILENAME_BASE","DIRECTORY","WORKSPACE_NAME","FULLNAME","BLOCK_COMMENT_START","mode","$mode","blockComment","BLOCK_COMMENT_END","LINE_COMMENT","lineCommentStart","CURRENT_YEAR","date","year","CURRENT_YEAR_SHORT","CURRENT_MONTH","month","CURRENT_MONTH_NAME","CURRENT_MONTH_NAME_SHORT","CURRENT_DATE","day","CURRENT_DAY_NAME","weekday","CURRENT_DAY_NAME_SHORT","CURRENT_HOUR","hour","hour12","CURRENT_MINUTE","minute","CURRENT_SECOND","second","SELECTED_TEXT","dateFormat","str","Date","toLocaleString","SnippetManager","snippetMap","snippetNameMap","implement","getTokenizer","$tokenizer","createTokenizer","TabstopToken","substr","tabstopId","parseInt","escape","ch","formatMatcher","onMatch","state","stack","ts","fmtString","guard","flag","next","shift","unshift","token","merge","snippetVar","choices","operator","split","map","formatString","expectElse","ifEnd","elseEnd","changeCase","local","formatStringVar","formatFunction","tokenizeTmSnippet","startState","getLineTokens","getVariableValue","variables","__","hasOwnProperty","tmStrFormat","fmt","re","RegExp","fmtTokens","_self","formatted","oldArgs","call","arguments","fmtParts","resolveVariables","gChangeCase","tmFormatFunction","snippet","afterNewLine","j","gotoNext","i1","insertSnippetForSelection","snippetText","tabString","getTabString","indentString","match","tabstops","p","parents","isNested","some","expanding","copyValue","copy","lastIndexOf","Object","parentId","splice","apply","lines","range","getSelectionRange","tabstopManager","TabstopManager","selectionId","inVirtualSelectionMode","addTabstops","insertSnippet","self","forEachSelection","keepOrder","tabNext","$getScope","scope","$id","pop","inlinePhp","c","getState","substring","getActiveScopes","scopes","includeScopes","expandWithTab","options","expandSnippetForSelection","before","after","snippets","findMatchingSnippet","dryRun","removeInLine","replaceBefore","replaceAfter","M__","matchBefore","T__","matchAfter","snippetList","s","startRe","endRe","triggerRe","endTriggerRe","register","wrapRegexp","src","guardedRegexp","opening","addSnippet","old","unregister","tabTrigger","body","trigger","escapeRegExp","endTrigger","endGuard","removeSnippet","nameMap","parseSnippetFile","m","JSON","parse","guardRe","getSnippetByName","prototype","$onChange","onChange","$onChangeSelection","delayedCall","onChangeSelection","schedule","$onChangeSession","onChangeSession","$onAfterExec","onAfterExec","attach","ranges","$openTabstops","selectedTabstop","addKeyboardHandler","keyboardHandler","detach","removeTabstopMarkers","removeListener","removeKeyboardHandler","delta","isRemove","action","active","rangeList","$bias","parentActive","startIndex","pointIndex","endIndex","toRemove","removeRange","$inChange","getValue","updateLinkedFields","hasLinkedRanges","firstNonLinked","linked","original","snippetManager","readOnly","anchor","isEmpty","containsLead","contains","containsAnchor","dir","selectTabstop","addTabstopMarkers","sel","multiSelect","toSingleRange","addRange","clone","fromOrientedRange","execCommand","matches","useLink","getOption","fromPoints","moveRelative","arg","dest","movePoint","tabstop","addList","markerId","bindKeys","point","diff","expandSnippet","util","Autocomplete","autoInsert","exactMatch","gatherCompletionsId","blurListener","changeListener","mousedownListener","mousewheelListener","changeTimer","updateCompletions","tooltipTimer","updateDocTooltip","$init","documentElement","insertMatch","getPopup","openPopup","keepPopupPosition","completions","filtered","textInput","setAriaOptions","activeDescendant","setTheme","getTheme","setFontSize","getFontSize","layerConfig","getPixelPosition","base","rect","getBoundingClientRect","offset","scrollLeft","gutterWidth","cancel","off","hideDocTooltip","activated","getElement","fromTooltip","relatedTarget","tooltipNode","startOperation","getAllRanges","remove","endOperation","deleteSuffix","gotoPageUp","gotoPageDown","gatherCompletions","getSession","createAnchor","$insertRight","total","getCompletions","results","finished","showPopup","setFilter","FilteredList","_id","detachIfFinished","processResults","isImmediate","immediateResults","cancelContextMenu","all","getDocTooltip","docText","docHTML","showDocTooltip","item","margin","pointerEvents","tabIndex","onblur","onclick","onTooltipClick","innerHTML","textContent","right","offsetTop","offsetHeight","isFocused","removeChild","a","target","nodeName","href","rel","destroy","for","get","$shared","$sharedInstance","once","startCommand","bindKey","filterCompletions","sort","b","$score","localeCompare","prev","filter","items","needle","upper","loop","penalty","distance","fullMatchIndex","i2","score","cssText","overlayPage","contentElement","closer","ignoreFocusOut","documentEscListener","keyCode","close","removeEventListener","setIgnoreFocusOut","ignore","addEventListener","stopPropagation","blur","modes","getModeForPath","path","modesByName","fileName","supportsFile","Mode","extensions","extRe","filename","supportedModes","ABAP","ABC","ActionScript","ADA","Alda","Apache_Conf","Apex","AQL","AsciiDoc","ASL","Assembly_x86","AutoHotKey","BatchFile","BibTeX","C_Cpp","C9Search","Cirru","Clojure","Cobol","coffee","ColdFusion","Crystal","CSharp","Csound_Document","Csound_Orchestra","Csound_Score","CSS","Curly","D","Dart","Diff","Dockerfile","Dot","Drools","Edifact","Eiffel","EJS","Elixir","Elm","Erlang","Forth","Fortran","FSharp","FSL","FTL","Gcode","Gherkin","Gitignore","Glsl","Gobstones","golang","GraphQLSchema","Groovy","HAML","Handlebars","Haskell","Haskell_Cabal","haXe","Hjson","HTML","HTML_Elixir","HTML_Ruby","INI","Io","Ion","Jack","Jade","Java","JavaScript","JEXL","JSON5","JSONiq","JSP","JSSM","JSX","Julia","Kotlin","LaTeX","Latte","LESS","Liquid","Lisp","LiveScript","Log","LogiQL","Logtalk","LSL","Lua","LuaPage","Lucene","Makefile","Markdown","Mask","MATLAB","Maze","MediaWiki","MEL","MIPS","MIXAL","MUSHCode","MySQL","Nginx","Nim","Nix","NSIS","Nunjucks","ObjectiveC","OCaml","PartiQL","Pascal","Perl","pgSQL","PHP_Laravel_blade","PHP","Pig","Powershell","Praat","Prisma","Prolog","Properties","Protobuf","Puppet","Python","QML","R","Raku","Razor","RDoc","Red","RHTML","Robot","RST","Ruby","Rust","SaC","SASS","SCAD","Scala","Scheme","Scrypt","SCSS","SH","SJS","Slim","Smarty","Smithy","Soy_Template","Space","SPARQL","SQL","SQLServer","Stylus","SVG","Swift","Tcl","Terraform","Tex","Text","Textile","Toml","TSX","Turtle","Twig","Typescript","Vala","VBScript","Velocity","Verilog","VHDL","Visualforce","Wollok","XML","XQuery","YAML","Zeek","Django","nameOverrides","Perl6","displayName","shortcuts","UndoManager","modelist","openPrompt","prompt","lastPrompt","$type","cmdLine","setUndoManager","buildDom","class","hasDescription","overlay","done","setRange","indexToPosition","maxWidth","width","marginTop","setScrollMargin","error","accept","$rules","tokenizer","setTokenizer","placeholder","promptTextContainer","valueFromRecentList","curData","onAccept","onCancel","assign","onInput","getPrefix","resize","current","gotoLine","stringifySelection","r","isBackwards","toJSON","Number","MAX_VALUE","_history","parts","Boolean","readPosition","fromJSON","scrollSelectionIntoView","animateScrolling","history","undoManager","getUndoManager","normalizeName","getEditorCommandsByName","excludeCommands","commandsByName","platform","cbn","byName","description","find","excludeCommandsList","shortcutsArray","maxHistoryCount","commandName","addToHistory","currentPos","filterValue","getFilteredCompletions","resultCommands","stringify","getUniqueCommandList","usedCommands","recentlyUsedCommands","otherCommands","modesArray","modeName","setMode"],"sources":["/home/anasbouzid/streamlit/streamlit.io/streamlit-code-editor/code_editor/frontend/node_modules/ace-builds/src-noconflict/ext-prompt.js"],"sourcesContent":["ace.define(\"ace/ext/menu_tools/get_editor_keyboard_shortcuts\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\"], function(require, exports, module){/*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n\"use strict\";\nvar keys = require(\"../../lib/keys\");\nmodule.exports.getEditorKeyboardShortcuts = function (editor) {\n    var KEY_MODS = keys.KEY_MODS;\n    var keybindings = [];\n    var commandMap = {};\n    editor.keyBinding.$handlers.forEach(function (handler) {\n        var ckb = handler.commandKeyBinding;\n        for (var i in ckb) {\n            var key = i.replace(/(^|-)\\w/g, function (x) { return x.toUpperCase(); });\n            var commands = ckb[i];\n            if (!Array.isArray(commands))\n                commands = [commands];\n            commands.forEach(function (command) {\n                if (typeof command != \"string\")\n                    command = command.name;\n                if (commandMap[command]) {\n                    commandMap[command].key += \"|\" + key;\n                }\n                else {\n                    commandMap[command] = { key: key, command: command };\n                    keybindings.push(commandMap[command]);\n                }\n            });\n        }\n    });\n    return keybindings;\n};\n\n});\n\nace.define(\"ace/autocomplete/popup\",[\"require\",\"exports\",\"module\",\"ace/virtual_renderer\",\"ace/editor\",\"ace/range\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar Renderer = require(\"../virtual_renderer\").VirtualRenderer;\nvar Editor = require(\"../editor\").Editor;\nvar Range = require(\"../range\").Range;\nvar event = require(\"../lib/event\");\nvar lang = require(\"../lib/lang\");\nvar dom = require(\"../lib/dom\");\nvar getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n};\nvar $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n};\nvar AcePopup = function (parentNode) {\n    var el = dom.createElement(\"div\");\n    var popup = new $singleLineEditor(el);\n    if (parentNode)\n        parentNode.appendChild(el);\n    el.style.display = \"none\";\n    popup.renderer.content.style.cursor = \"default\";\n    popup.renderer.setStyle(\"ace_autocomplete\");\n    popup.renderer.container.setAttribute(\"role\", \"listbox\");\n    popup.renderer.container.setAttribute(\"aria-label\", \"Autocomplete suggestions\");\n    popup.setOption(\"displayIndentGuides\", false);\n    popup.setOption(\"dragDelay\", 150);\n    var noop = function () { };\n    popup.focus = noop;\n    popup.$isFocused = true;\n    popup.renderer.$cursorLayer.restartTimer = noop;\n    popup.renderer.$cursorLayer.element.style.opacity = 0;\n    popup.renderer.$maxLines = 8;\n    popup.renderer.$keepTextAreaAtCursor = false;\n    popup.setHighlightActiveLine(false);\n    popup.session.highlight(\"\");\n    popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n    popup.on(\"mousedown\", function (e) {\n        var pos = e.getDocumentPosition();\n        popup.selection.moveToPosition(pos);\n        selectionMarker.start.row = selectionMarker.end.row = pos.row;\n        e.stop();\n    });\n    var lastMouseEvent;\n    var hoverMarker = new Range(-1, 0, -1, Infinity);\n    var selectionMarker = new Range(-1, 0, -1, Infinity);\n    selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n    popup.setSelectOnHover = function (val) {\n        if (!val) {\n            hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n        }\n        else if (hoverMarker.id) {\n            popup.session.removeMarker(hoverMarker.id);\n            hoverMarker.id = null;\n        }\n    };\n    popup.setSelectOnHover(false);\n    popup.on(\"mousemove\", function (e) {\n        if (!lastMouseEvent) {\n            lastMouseEvent = e;\n            return;\n        }\n        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n            return;\n        }\n        lastMouseEvent = e;\n        lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (hoverMarker.start.row != row) {\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row);\n        }\n    });\n    popup.renderer.on(\"beforeRender\", function () {\n        if (lastMouseEvent && hoverMarker.start.row != -1) {\n            lastMouseEvent.$pos = null;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row, true);\n        }\n    });\n    popup.renderer.on(\"afterRender\", function () {\n        var row = popup.getRow();\n        var t = popup.renderer.$textLayer;\n        var selected = t.element.childNodes[row - t.config.firstRow];\n        var el = document.activeElement; // Active element is textarea of main editor\n        if (selected !== t.selectedNode && t.selectedNode) {\n            dom.removeCssClass(t.selectedNode, \"ace_selected\");\n            el.removeAttribute(\"aria-activedescendant\");\n            t.selectedNode.removeAttribute(\"id\");\n        }\n        t.selectedNode = selected;\n        if (selected) {\n            dom.addCssClass(selected, \"ace_selected\");\n            var ariaId = getAriaId(row);\n            selected.id = ariaId;\n            popup.renderer.container.setAttribute(\"aria-activedescendant\", ariaId);\n            el.setAttribute(\"aria-activedescendant\", ariaId);\n            selected.setAttribute(\"aria-label\", popup.getData(row).value);\n        }\n    });\n    var hideHoverMarker = function () { setHoverMarker(-1); };\n    var setHoverMarker = function (row, suppressRedraw) {\n        if (row !== hoverMarker.start.row) {\n            hoverMarker.start.row = hoverMarker.end.row = row;\n            if (!suppressRedraw)\n                popup.session._emit(\"changeBackMarker\");\n            popup._emit(\"changeHoverMarker\");\n        }\n    };\n    popup.getHoveredRow = function () {\n        return hoverMarker.start.row;\n    };\n    event.addListener(popup.container, \"mouseout\", hideHoverMarker);\n    popup.on(\"hide\", hideHoverMarker);\n    popup.on(\"changeSelection\", hideHoverMarker);\n    popup.session.doc.getLength = function () {\n        return popup.data.length;\n    };\n    popup.session.doc.getLine = function (i) {\n        var data = popup.data[i];\n        if (typeof data == \"string\")\n            return data;\n        return (data && data.value) || \"\";\n    };\n    var bgTokenizer = popup.session.bgTokenizer;\n    bgTokenizer.$tokenizeRow = function (row) {\n        var data = popup.data[row];\n        var tokens = [];\n        if (!data)\n            return tokens;\n        if (typeof data == \"string\")\n            data = { value: data };\n        var caption = data.caption || data.value || data.name;\n        function addToken(value, className) {\n            value && tokens.push({\n                type: (data.className || \"\") + (className || \"\"),\n                value: value\n            });\n        }\n        var lower = caption.toLowerCase();\n        var filterText = (popup.filterText || \"\").toLowerCase();\n        var lastIndex = 0;\n        var lastI = 0;\n        for (var i = 0; i <= filterText.length; i++) {\n            if (i != lastI && (data.matchMask & (1 << i) || i == filterText.length)) {\n                var sub = filterText.slice(lastI, i);\n                lastI = i;\n                var index = lower.indexOf(sub, lastIndex);\n                if (index == -1)\n                    continue;\n                addToken(caption.slice(lastIndex, index), \"\");\n                lastIndex = index + sub.length;\n                addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n            }\n        }\n        addToken(caption.slice(lastIndex, caption.length), \"\");\n        if (data.meta)\n            tokens.push({ type: \"completion-meta\", value: data.meta });\n        if (data.message)\n            tokens.push({ type: \"completion-message\", value: data.message });\n        return tokens;\n    };\n    bgTokenizer.$updateOnChange = noop;\n    bgTokenizer.start = noop;\n    popup.session.$computeWidth = function () {\n        return this.screenWidth = 0;\n    };\n    popup.isOpen = false;\n    popup.isTopdown = false;\n    popup.autoSelect = true;\n    popup.filterText = \"\";\n    popup.data = [];\n    popup.setData = function (list, filterText) {\n        popup.filterText = filterText || \"\";\n        popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n        popup.data = list || [];\n        popup.setRow(0);\n    };\n    popup.getData = function (row) {\n        return popup.data[row];\n    };\n    popup.getRow = function () {\n        return selectionMarker.start.row;\n    };\n    popup.setRow = function (line) {\n        line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length, line));\n        if (selectionMarker.start.row != line) {\n            popup.selection.clearSelection();\n            selectionMarker.start.row = selectionMarker.end.row = line || 0;\n            popup.session._emit(\"changeBackMarker\");\n            popup.moveCursorTo(line || 0, 0);\n            if (popup.isOpen)\n                popup._signal(\"select\");\n        }\n    };\n    popup.on(\"changeSelection\", function () {\n        if (popup.isOpen)\n            popup.setRow(popup.selection.lead.row);\n        popup.renderer.scrollCursorIntoView();\n    });\n    popup.hide = function () {\n        this.container.style.display = \"none\";\n        this._signal(\"hide\");\n        popup.isOpen = false;\n    };\n    popup.show = function (pos, lineHeight, topdownOnly) {\n        var el = this.container;\n        var screenHeight = window.innerHeight;\n        var screenWidth = window.innerWidth;\n        var renderer = this.renderer;\n        var maxH = renderer.$maxLines * lineHeight * 1.4;\n        var top = pos.top + this.$borderSize;\n        var allowTopdown = top > screenHeight / 2 && !topdownOnly;\n        if (allowTopdown && top + lineHeight + maxH > screenHeight) {\n            renderer.$maxPixelHeight = top - 2 * this.$borderSize;\n            el.style.top = \"\";\n            el.style.bottom = screenHeight - top + \"px\";\n            popup.isTopdown = false;\n        }\n        else {\n            top += lineHeight;\n            renderer.$maxPixelHeight = screenHeight - top - 0.2 * lineHeight;\n            el.style.top = top + \"px\";\n            el.style.bottom = \"\";\n            popup.isTopdown = true;\n        }\n        el.style.display = \"\";\n        var left = pos.left;\n        if (left + el.offsetWidth > screenWidth)\n            left = screenWidth - el.offsetWidth;\n        el.style.left = left + \"px\";\n        this._signal(\"show\");\n        lastMouseEvent = null;\n        popup.isOpen = true;\n    };\n    popup.goTo = function (where) {\n        var row = this.getRow();\n        var max = this.session.getLength() - 1;\n        switch (where) {\n            case \"up\":\n                row = row <= 0 ? max : row - 1;\n                break;\n            case \"down\":\n                row = row >= max ? -1 : row + 1;\n                break;\n            case \"start\":\n                row = 0;\n                break;\n            case \"end\":\n                row = max;\n                break;\n        }\n        this.setRow(row);\n    };\n    popup.getTextLeftOffset = function () {\n        return this.$borderSize + this.renderer.$padding + this.$imageSize;\n    };\n    popup.$imageSize = 0;\n    popup.$borderSize = 1;\n    return popup;\n};\ndom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin: 0.9em;\\n}\\n.ace_completion-message {\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\", \"autocompletion.css\", false);\nexports.AcePopup = AcePopup;\nexports.$singleLineEditor = $singleLineEditor;\nexports.getAriaId = getAriaId;\n\n});\n\nace.define(\"ace/autocomplete/util\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0)\n        callback();\n    for (var i = 0; i < arLength; i++) {\n        fn(array[i], function (result, err) {\n            completed++;\n            if (completed === arLength)\n                callback(result, err);\n        });\n    }\n};\nvar ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\nexports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf.reverse().join(\"\");\n};\nexports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf;\n};\nexports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n        if (completer.identifierRegexps) {\n            completer.identifierRegexps.forEach(function (identifierRegex) {\n                if (!prefix && identifierRegex)\n                    prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n            }.bind(this));\n        }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n};\n\n});\n\nace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/range_list\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/clipboard\",\"ace/editor\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar lang = require(\"./lib/lang\");\nvar Range = require(\"./range\").Range;\nvar RangeList = require(\"./range_list\").RangeList;\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = require(\"./tokenizer\").Tokenizer;\nvar clipboard = require(\"./clipboard\");\nvar VARIABLES = {\n    CURRENT_WORD: function (editor) {\n        return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n        var text = editor.session.getTextRange();\n        if (indentation)\n            return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n        return text;\n    },\n    CURRENT_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n        return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n        return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n        return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n        return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n        return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n        return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) { return \"/not implemented.txt\"; },\n    WORKSPACE_NAME: function () { return \"Unknown\"; },\n    FULLNAME: function () { return \"Unknown\"; },\n    BLOCK_COMMENT_START: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, { year: \"numeric\" }),\n    CURRENT_YEAR_SHORT: date.bind(null, { year: \"2-digit\" }),\n    CURRENT_MONTH: date.bind(null, { month: \"numeric\" }),\n    CURRENT_MONTH_NAME: date.bind(null, { month: \"long\" }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, { month: \"short\" }),\n    CURRENT_DATE: date.bind(null, { day: \"2-digit\" }),\n    CURRENT_DAY_NAME: date.bind(null, { weekday: \"long\" }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, { weekday: \"short\" }),\n    CURRENT_HOUR: date.bind(null, { hour: \"2-digit\", hour12: false }),\n    CURRENT_MINUTE: date.bind(null, { minute: \"2-digit\" }),\n    CURRENT_SECOND: date.bind(null, { second: \"2-digit\" })\n};\nVARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\nfunction date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n}\nvar SnippetManager = function () {\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.getTokenizer = function () {\n        return SnippetManager.$tokenizer || this.createTokenizer();\n    };\n    this.createTokenizer = function () {\n        function TabstopToken(str) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str))\n                return [{ tabstopId: parseInt(str, 10) }];\n            return [{ text: str }];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        var formatMatcher = {\n            regex: \"/(\" + escape(\"/\") + \"+)/\",\n            onMatch: function (val, state, stack) {\n                var ts = stack[0];\n                ts.fmtString = true;\n                ts.guard = val.slice(1, -1);\n                ts.flag = \"\";\n                return \"\";\n            },\n            next: \"formatString\"\n        };\n        SnippetManager.$tokenizer = new Tokenizer({\n            start: [\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length) {\n                            val = ch;\n                        }\n                        else if (\"`$\\\\\".indexOf(ch) != -1) {\n                            val = ch;\n                        }\n                        return [val];\n                    } },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        return [stack.length ? stack.shift() : val];\n                    } },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken },\n                { regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function (str, state, stack) {\n                        var t = TabstopToken(str.substr(1));\n                        stack.unshift(t[0]);\n                        return t;\n                    }, next: \"snippetVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false }\n            ],\n            snippetVar: [\n                { regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function (val, state, stack) {\n                        var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n                            return operator.length == 2 ? operator[1] : \"\\x00\";\n                        }).split(\"\\x00\").map(function (value) {\n                            return { value: value };\n                        });\n                        stack[0].choices = choices;\n                        return [choices[0]];\n                    }, next: \"start\" },\n                formatMatcher,\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\" }\n            ],\n            formatString: [\n                { regex: /:/, onMatch: function (val, state, stack) {\n                        if (stack.length && stack[0].expectElse) {\n                            stack[0].expectElse = false;\n                            stack[0].ifEnd = { elseEnd: stack[0] };\n                            return [stack[0].ifEnd];\n                        }\n                        return \":\";\n                    } },\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length)\n                            val = ch;\n                        else if (\"`$\\\\\".indexOf(ch) != -1)\n                            val = ch;\n                        else if (ch == \"n\")\n                            val = \"\\n\";\n                        else if (ch == \"t\")\n                            val = \"\\t\";\n                        else if (\"ulULE\".indexOf(ch) != -1)\n                            val = { changeCase: ch, local: ch > \"a\" };\n                        return [val];\n                    } },\n                { regex: \"/\\\\w*}\", onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        if (next)\n                            next.flag = val.slice(1, -1);\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: function (val, state, stack) {\n                        return [{ text: val.slice(1) }];\n                    } },\n                { regex: /\\${\\w+/, onMatch: function (val, state, stack) {\n                        var token = { text: val.slice(2) };\n                        stack.unshift(token);\n                        return [token];\n                    }, next: \"formatStringVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" }\n            ],\n            formatStringVar: [\n                { regex: /:\\/\\w+}/, onMatch: function (val, state, stack) {\n                        var ts = stack[0];\n                        ts.formatFunction = val.slice(2, -1);\n                        return [stack.shift()];\n                    }, next: \"formatString\" },\n                formatMatcher,\n                { regex: /:[\\?\\-+]?/, onMatch: function (val, state, stack) {\n                        if (val[1] == \"+\")\n                            stack[0].ifEnd = stack[0];\n                        if (val[1] == \"?\")\n                            stack[0].expectElse = true;\n                    }, next: \"formatString\" },\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"formatString\" }\n            ]\n        });\n        return SnippetManager.$tokenizer;\n    };\n    this.tokenizeTmSnippet = function (str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n            return x.value || x;\n        });\n    };\n    this.getVariableValue = function (editor, name, indentation) {\n        if (/^\\d+$/.test(name))\n            return (this.variables.__ || {})[name] || \"\";\n        if (/^[A-Z]\\d+$/.test(name))\n            return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n        name = name.replace(/^TM_/, \"\");\n        if (!this.variables.hasOwnProperty(name))\n            return \"\";\n        var value = this.variables[name];\n        if (typeof value == \"function\")\n            value = this.variables[name](editor, name, indentation);\n        return value == null ? \"\" : value;\n    };\n    this.variables = VARIABLES;\n    this.tmStrFormat = function (str, ch, editor) {\n        if (!ch.fmt)\n            return str;\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n        var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n        var _self = this;\n        var formatted = str.replace(re, function () {\n            var oldArgs = _self.variables.__;\n            _self.variables.__ = [].slice.call(arguments);\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    }\n                    else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                }\n                else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                }\n                else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            _self.variables.__ = oldArgs;\n            return fmtParts.join(\"\");\n        });\n        return formatted;\n    };\n    this.tmFormatFunction = function (str, ch, editor) {\n        if (ch.formatFunction == \"upcase\")\n            return str.toUpperCase();\n        if (ch.formatFunction == \"downcase\")\n            return str.toLowerCase();\n        return str;\n    };\n    this.resolveVariables = function (snippet, editor) {\n        var result = [];\n        var indentation = \"\";\n        var afterNewLine = true;\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n                if (ch == \"\\n\") {\n                    afterNewLine = true;\n                    indentation = \"\";\n                }\n                else if (afterNewLine) {\n                    indentation = /^\\t*/.exec(ch)[0];\n                    afterNewLine = /\\S/.test(ch);\n                }\n                continue;\n            }\n            if (!ch)\n                continue;\n            afterNewLine = false;\n            if (ch.fmtString) {\n                var j = snippet.indexOf(ch, i + 1);\n                if (j == -1)\n                    j = snippet.length;\n                ch.fmt = snippet.slice(i + 1, j);\n                i = j;\n            }\n            if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n                if (ch.fmtString)\n                    value = this.tmStrFormat(value, ch, editor);\n                if (ch.formatFunction)\n                    value = this.tmFormatFunction(value, ch, editor);\n                if (value && !ch.ifEnd) {\n                    result.push(value);\n                    gotoNext(ch);\n                }\n                else if (!value && ch.ifEnd) {\n                    gotoNext(ch.ifEnd);\n                }\n            }\n            else if (ch.elseEnd) {\n                gotoNext(ch.elseEnd);\n            }\n            else if (ch.tabstopId != null) {\n                result.push(ch);\n            }\n            else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n    this.insertSnippetForSelection = function (editor, snippetText) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var tabString = editor.session.getTabString();\n        var indentString = line.match(/^\\s*/)[0];\n        if (cursor.column < indentString.length)\n            indentString = indentString.slice(0, cursor.column);\n        snippetText = snippetText.replace(/\\r/g, \"\");\n        var tokens = this.tokenizeTmSnippet(snippetText);\n        tokens = this.resolveVariables(tokens, editor);\n        tokens = tokens.map(function (x) {\n            if (x == \"\\n\")\n                return x + indentString;\n            if (typeof x == \"string\")\n                return x.replace(/\\t/g, tabString);\n            return x;\n        });\n        var tabstops = [];\n        tokens.forEach(function (p, i) {\n            if (typeof p != \"object\")\n                return;\n            var id = p.tabstopId;\n            var ts = tabstops[id];\n            if (!ts) {\n                ts = tabstops[id] = [];\n                ts.index = id;\n                ts.value = \"\";\n                ts.parents = {};\n            }\n            if (ts.indexOf(p) !== -1)\n                return;\n            if (p.choices && !ts.choices)\n                ts.choices = p.choices;\n            ts.push(p);\n            var i1 = tokens.indexOf(p, i + 1);\n            if (i1 === -1)\n                return;\n            var value = tokens.slice(i + 1, i1);\n            var isNested = value.some(function (t) { return typeof t === \"object\"; });\n            if (isNested && !ts.value) {\n                ts.value = value;\n            }\n            else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n                ts.value = value.join(\"\");\n            }\n        });\n        tabstops.forEach(function (ts) { ts.length = 0; });\n        var expanding = {};\n        function copyValue(val) {\n            var copy = [];\n            for (var i = 0; i < val.length; i++) {\n                var p = val[i];\n                if (typeof p == \"object\") {\n                    if (expanding[p.tabstopId])\n                        continue;\n                    var j = val.lastIndexOf(p, i - 1);\n                    p = copy[j] || { tabstopId: p.tabstopId };\n                }\n                copy[i] = p;\n            }\n            return copy;\n        }\n        for (var i = 0; i < tokens.length; i++) {\n            var p = tokens[i];\n            if (typeof p != \"object\")\n                continue;\n            var id = p.tabstopId;\n            var ts = tabstops[id];\n            var i1 = tokens.indexOf(p, i + 1);\n            if (expanding[id]) {\n                if (expanding[id] === p) {\n                    delete expanding[id];\n                    Object.keys(expanding).forEach(function (parentId) {\n                        ts.parents[parentId] = true;\n                    });\n                }\n                continue;\n            }\n            expanding[id] = p;\n            var value = ts.value;\n            if (typeof value !== \"string\")\n                value = copyValue(value);\n            else if (p.fmt)\n                value = this.tmStrFormat(value, p, editor);\n            tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n            if (ts.indexOf(p) === -1)\n                ts.push(p);\n        }\n        var row = 0, column = 0;\n        var text = \"\";\n        tokens.forEach(function (t) {\n            if (typeof t === \"string\") {\n                var lines = t.split(\"\\n\");\n                if (lines.length > 1) {\n                    column = lines[lines.length - 1].length;\n                    row += lines.length - 1;\n                }\n                else\n                    column += t.length;\n                text += t;\n            }\n            else if (t) {\n                if (!t.start)\n                    t.start = { row: row, column: column };\n                else\n                    t.end = { row: row, column: column };\n            }\n        });\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, text);\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(tabstops, range.start, end, selectionId);\n    };\n    this.insertSnippet = function (editor, snippetText) {\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText);\n        editor.forEachSelection(function () {\n            self.insertSnippetForSelection(editor, snippetText);\n        }, null, { keepOrder: true });\n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n    this.$getScope = function (editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp)\n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        return scope;\n    };\n    this.getActiveScopes = function (editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n    this.expandWithTab = function (editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function () {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, { keepOrder: true });\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    this.expandSnippetForSelection = function (editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n    this.findMatchingSnippet = function (snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n    this.register = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        if (!snippets)\n            snippets = [];\n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            }\n            else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n            if (s.prefix)\n                s.tabTrigger = s.prefix;\n            if (!s.content && s.body)\n                s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger);\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger);\n        }\n        if (Array.isArray(snippets)) {\n            snippets.forEach(addSnippet);\n        }\n        else {\n            Object.keys(snippets).forEach(function (key) {\n                addSnippet(snippets[key]);\n            });\n        }\n        this._signal(\"registerSnippets\", { scope: scope });\n    };\n    this.unregister = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope || scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope || scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    this.parseSnippetFile = function (str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                }\n                catch (e) { }\n            }\n            if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            }\n            else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                }\n                else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                }\n                else if (key) {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    this.getSnippetByName = function (name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n}).call(SnippetManager.prototype);\nvar TabstopManager = function (editor) {\n    if (editor.tabstopManager)\n        return editor.tabstopManager;\n    editor.tabstopManager = this;\n    this.$onChange = this.onChange.bind(this);\n    this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n    this.$onChangeSession = this.onChangeSession.bind(this);\n    this.$onAfterExec = this.onAfterExec.bind(this);\n    this.attach(editor);\n};\n(function () {\n    this.attach = function (editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n        this.editor = editor;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.detach = function () {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges = null;\n        this.tabstops = null;\n        this.selectedTabstop = null;\n        this.editor.removeListener(\"change\", this.$onChange);\n        this.editor.removeListener(\"changeSelection\", this.$onChangeSelection);\n        this.editor.removeListener(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.removeListener(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.editor = null;\n    };\n    this.onChange = function (delta) {\n        var isRemove = delta.action[0] == \"r\";\n        var selectedTabstop = this.selectedTabstop || {};\n        var parents = selectedTabstop.parents || {};\n        var tabstops = (this.tabstops || []).slice();\n        for (var i = 0; i < tabstops.length; i++) {\n            var ts = tabstops[i];\n            var active = ts == selectedTabstop || parents[ts.index];\n            ts.rangeList.$bias = active ? 0 : 1;\n            if (delta.action == \"remove\" && ts !== selectedTabstop) {\n                var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n                var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n                startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n                var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n                endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n                var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n                for (var j = 0; j < toRemove.length; j++)\n                    this.removeRange(toRemove[j]);\n            }\n            ts.rangeList.$onChange(delta);\n        }\n        var session = this.editor.session;\n        if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue())\n            this.detach();\n    };\n    this.updateLinkedFields = function () {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked)\n            return;\n        this.$inChange = true;\n        var session = this.editor.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = 0; i < ts.length; i++) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var original = range.original;\n            var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    this.onAfterExec = function (e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    this.onChangeSelection = function () {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = 0; i < this.ranges.length; i++) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    this.onChangeSession = function () {\n        this.detach();\n    };\n    this.tabNext = function (dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        if (index === 0)\n            this.detach();\n    };\n    this.selectTabstop = function (index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        this.selectedTabstop = ts;\n        var range = ts.firstNonLinked || ts;\n        if (ts.choices)\n            range.cursor = range.start;\n        if (!this.editor.inVirtualSelectionMode) {\n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(range);\n            for (var i = 0; i < ts.length; i++) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n        }\n        else {\n            this.editor.selection.fromOrientedRange(range);\n        }\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        if (this.selectedTabstop && this.selectedTabstop.choices)\n            this.editor.execCommand(\"startAutocomplete\", { matches: this.selectedTabstop.choices });\n    };\n    this.addTabstops = function (tabstops, start, end) {\n        var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        tabstops.forEach(function (ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n            for (var i = 0; i < ts.length; i++) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString || (dest.firstNonLinked && useLink)) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                }\n                else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n            dest.rangeList = dest.rangeList || new RangeList();\n            dest.rangeList.$bias = 0;\n            dest.rangeList.addList(dest);\n        }, this);\n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n    this.addTabstopMarkers = function (ts) {\n        var session = this.editor.session;\n        ts.forEach(function (range) {\n            if (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    this.removeTabstopMarkers = function (ts) {\n        var session = this.editor.session;\n        ts.forEach(function (range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    this.removeRange = function (range) {\n        var i = range.tabstop.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        if (i != -1)\n            this.ranges.splice(i, 1);\n        i = range.tabstop.rangeList.ranges.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        this.editor.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys({\n        \"Tab\": function (editor) {\n            if (exports.snippetManager && exports.snippetManager.expandWithTab(editor))\n                return;\n            editor.tabstopManager.tabNext(1);\n            editor.renderer.scrollCursorIntoView();\n        },\n        \"Shift-Tab\": function (editor) {\n            editor.tabstopManager.tabNext(-1);\n            editor.renderer.scrollCursorIntoView();\n        },\n        \"Esc\": function (editor) {\n            editor.tabstopManager.detach();\n        }\n    });\n}).call(TabstopManager.prototype);\nvar movePoint = function (point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\nvar moveRelative = function (point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\ndom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\nexports.snippetManager = new SnippetManager();\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.insertSnippet = function (content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/popup\",\"ace/autocomplete/popup\",\"ace/autocomplete/util\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/snippets\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar AcePopup = require(\"./autocomplete/popup\").AcePopup;\nvar getAriaId = require(\"./autocomplete/popup\").getAriaId;\nvar util = require(\"./autocomplete/util\");\nvar lang = require(\"./lib/lang\");\nvar dom = require(\"./lib/dom\");\nvar snippetManager = require(\"./snippets\").snippetManager;\nvar config = require(\"./config\");\nvar Autocomplete = function () {\n    this.autoInsert = false;\n    this.autoSelect = true;\n    this.exactMatch = false;\n    this.gatherCompletionsId = 0;\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys(this.commands);\n    this.blurListener = this.blurListener.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.mousedownListener = this.mousedownListener.bind(this);\n    this.mousewheelListener = this.mousewheelListener.bind(this);\n    this.changeTimer = lang.delayedCall(function () {\n        this.updateCompletions(true);\n    }.bind(this));\n    this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n};\n(function () {\n    this.$init = function () {\n        this.popup = new AcePopup(document.body || document.documentElement);\n        this.popup.on(\"click\", function (e) {\n            this.insertMatch();\n            e.stop();\n        }.bind(this));\n        this.popup.focus = this.editor.focus.bind(this.editor);\n        this.popup.on(\"show\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"select\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n        return this.popup;\n    };\n    this.getPopup = function () {\n        return this.popup || this.$init();\n    };\n    this.openPopup = function (editor, prefix, keepPopupPosition) {\n        if (!this.popup)\n            this.$init();\n        this.popup.autoSelect = this.autoSelect;\n        this.popup.setData(this.completions.filtered, this.completions.filterText);\n        this.editor.textInput.setAriaOptions({ activeDescendant: getAriaId(this.popup.getRow()) });\n        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        var renderer = editor.renderer;\n        this.popup.setRow(this.autoSelect ? 0 : -1);\n        if (!keepPopupPosition) {\n            this.popup.setTheme(editor.getTheme());\n            this.popup.setFontSize(editor.getFontSize());\n            var lineHeight = renderer.layerConfig.lineHeight;\n            var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n            pos.left -= this.popup.getTextLeftOffset();\n            var rect = editor.container.getBoundingClientRect();\n            pos.top += rect.top - renderer.layerConfig.offset;\n            pos.left += rect.left - editor.renderer.scrollLeft;\n            pos.left += renderer.gutterWidth;\n            this.popup.show(pos, lineHeight);\n        }\n        else if (keepPopupPosition && !prefix) {\n            this.detach();\n        }\n        this.changeTimer.cancel();\n    };\n    this.detach = function () {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n        this.editor.off(\"mousedown\", this.mousedownListener);\n        this.editor.off(\"mousewheel\", this.mousewheelListener);\n        this.changeTimer.cancel();\n        this.hideDocTooltip();\n        this.gatherCompletionsId += 1;\n        if (this.popup && this.popup.isOpen)\n            this.popup.hide();\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completions = this.base = null;\n    };\n    this.changeListener = function (e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n    this.blurListener = function (e) {\n        var el = document.activeElement;\n        var text = this.editor.textInput.getElement();\n        var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n        var container = this.popup && this.popup.container;\n        if (el != text && el.parentNode != container && !fromTooltip\n            && el != this.tooltipNode && e.relatedTarget != text) {\n            this.detach();\n        }\n    };\n    this.mousedownListener = function (e) {\n        this.detach();\n    };\n    this.mousewheelListener = function (e) {\n        this.detach();\n    };\n    this.goTo = function (where) {\n        this.popup.goTo(where);\n    };\n    this.insertMatch = function (data, options) {\n        if (!data)\n            data = this.popup.getData(this.popup.getRow());\n        if (!data)\n            return false;\n        var completions = this.completions;\n        this.editor.startOperation({ command: { name: \"insertMatch\" } });\n        if (data.completer && data.completer.insertMatch) {\n            data.completer.insertMatch(this.editor, data);\n        }\n        else {\n            if (!completions)\n                return false;\n            if (completions.filterText) {\n                var ranges = this.editor.selection.getAllRanges();\n                for (var i = 0, range; range = ranges[i]; i++) {\n                    range.start.column -= completions.filterText.length;\n                    this.editor.session.remove(range);\n                }\n            }\n            if (data.snippet)\n                snippetManager.insertSnippet(this.editor, data.snippet);\n            else\n                this.editor.execCommand(\"insertstring\", data.value || data);\n        }\n        if (this.completions == completions)\n            this.detach();\n        this.editor.endOperation();\n    };\n    this.commands = {\n        \"Up\": function (editor) { editor.completer.goTo(\"up\"); },\n        \"Down\": function (editor) { editor.completer.goTo(\"down\"); },\n        \"Ctrl-Up|Ctrl-Home\": function (editor) { editor.completer.goTo(\"start\"); },\n        \"Ctrl-Down|Ctrl-End\": function (editor) { editor.completer.goTo(\"end\"); },\n        \"Esc\": function (editor) { editor.completer.detach(); },\n        \"Return\": function (editor) { return editor.completer.insertMatch(); },\n        \"Shift-Return\": function (editor) { editor.completer.insertMatch(null, { deleteSuffix: true }); },\n        \"Tab\": function (editor) {\n            var result = editor.completer.insertMatch();\n            if (!result && !editor.tabstopManager)\n                editor.completer.goTo(\"down\");\n            else\n                return result;\n        },\n        \"PageUp\": function (editor) { editor.completer.popup.gotoPageUp(); },\n        \"PageDown\": function (editor) { editor.completer.popup.gotoPageDown(); }\n    };\n    this.gatherCompletions = function (editor, callback) {\n        var session = editor.getSession();\n        var pos = editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(editor);\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n        var matches = [];\n        var total = editor.completers.length;\n        editor.completers.forEach(function (completer, i) {\n            completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n                if (!err && results)\n                    matches = matches.concat(results);\n                callback(null, {\n                    prefix: util.getCompletionPrefix(editor),\n                    matches: matches,\n                    finished: (--total === 0)\n                });\n            });\n        });\n        return true;\n    };\n    this.showPopup = function (editor, options) {\n        if (this.editor)\n            this.detach();\n        this.activated = true;\n        this.editor = editor;\n        if (editor.completer != this) {\n            if (editor.completer)\n                editor.completer.detach();\n            editor.completer = this;\n        }\n        editor.on(\"changeSelection\", this.changeListener);\n        editor.on(\"blur\", this.blurListener);\n        editor.on(\"mousedown\", this.mousedownListener);\n        editor.on(\"mousewheel\", this.mousewheelListener);\n        this.updateCompletions(false, options);\n    };\n    this.updateCompletions = function (keepPopupPosition, options) {\n        if (keepPopupPosition && this.base && this.completions) {\n            var pos = this.editor.getCursorPosition();\n            var prefix = this.editor.session.getTextRange({ start: this.base, end: pos });\n            if (prefix == this.completions.filterText)\n                return;\n            this.completions.setFilter(prefix);\n            if (!this.completions.filtered.length)\n                return this.detach();\n            if (this.completions.filtered.length == 1\n                && this.completions.filtered[0].value == prefix\n                && !this.completions.filtered[0].snippet)\n                return this.detach();\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            return;\n        }\n        if (options && options.matches) {\n            var pos = this.editor.getSelectionRange().start;\n            this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n            this.base.$insertRight = true;\n            this.completions = new FilteredList(options.matches);\n            return this.openPopup(this.editor, \"\", keepPopupPosition);\n        }\n        var _id = this.gatherCompletionsId;\n        var detachIfFinished = function (results) {\n            if (!results.finished)\n                return;\n            return this.detach();\n        }.bind(this);\n        var processResults = function (results) {\n            var prefix = results.prefix;\n            var matches = results.matches;\n            this.completions = new FilteredList(matches);\n            if (this.exactMatch)\n                this.completions.exactMatch = true;\n            this.completions.setFilter(prefix);\n            var filtered = this.completions.filtered;\n            if (!filtered.length)\n                return detachIfFinished(results);\n            if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet)\n                return detachIfFinished(results);\n            if (this.autoInsert && filtered.length == 1 && results.finished)\n                return this.insertMatch(filtered[0]);\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n        }.bind(this);\n        var isImmediate = true;\n        var immediateResults = null;\n        this.gatherCompletions(this.editor, function (err, results) {\n            var prefix = results.prefix;\n            var matches = results && results.matches;\n            if (!matches || !matches.length)\n                return detachIfFinished(results);\n            if (prefix.indexOf(results.prefix) !== 0 || _id != this.gatherCompletionsId)\n                return;\n            if (isImmediate) {\n                immediateResults = results;\n                return;\n            }\n            processResults(results);\n        }.bind(this));\n        isImmediate = false;\n        if (immediateResults) {\n            var results = immediateResults;\n            immediateResults = null;\n            processResults(results);\n        }\n    };\n    this.cancelContextMenu = function () {\n        this.editor.$mouseHandler.cancelContextMenu();\n    };\n    this.updateDocTooltip = function () {\n        var popup = this.popup;\n        var all = popup.data;\n        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n        var doc = null;\n        if (!selected || !this.editor || !this.popup.isOpen)\n            return this.hideDocTooltip();\n        this.editor.completers.some(function (completer) {\n            if (completer.getDocTooltip)\n                doc = completer.getDocTooltip(selected);\n            return doc;\n        });\n        if (!doc && typeof selected != \"string\")\n            doc = selected;\n        if (typeof doc == \"string\")\n            doc = { docText: doc };\n        if (!doc || !(doc.docHTML || doc.docText))\n            return this.hideDocTooltip();\n        this.showDocTooltip(doc);\n    };\n    this.showDocTooltip = function (item) {\n        if (!this.tooltipNode) {\n            this.tooltipNode = dom.createElement(\"div\");\n            this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip\";\n            this.tooltipNode.style.margin = 0;\n            this.tooltipNode.style.pointerEvents = \"auto\";\n            this.tooltipNode.tabIndex = -1;\n            this.tooltipNode.onblur = this.blurListener.bind(this);\n            this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n        }\n        var tooltipNode = this.tooltipNode;\n        if (item.docHTML) {\n            tooltipNode.innerHTML = item.docHTML;\n        }\n        else if (item.docText) {\n            tooltipNode.textContent = item.docText;\n        }\n        if (!tooltipNode.parentNode)\n            document.body.appendChild(tooltipNode);\n        var popup = this.popup;\n        var rect = popup.container.getBoundingClientRect();\n        tooltipNode.style.top = popup.container.style.top;\n        tooltipNode.style.bottom = popup.container.style.bottom;\n        tooltipNode.style.display = \"block\";\n        if (window.innerWidth - rect.right < 320) {\n            if (rect.left < 320) {\n                if (popup.isTopdown) {\n                    tooltipNode.style.top = rect.bottom + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                }\n                else {\n                    tooltipNode.style.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                }\n            }\n            else {\n                tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n                tooltipNode.style.left = \"\";\n            }\n        }\n        else {\n            tooltipNode.style.left = (rect.right + 1) + \"px\";\n            tooltipNode.style.right = \"\";\n        }\n    };\n    this.hideDocTooltip = function () {\n        this.tooltipTimer.cancel();\n        if (!this.tooltipNode)\n            return;\n        var el = this.tooltipNode;\n        if (!this.editor.isFocused() && document.activeElement == el)\n            this.editor.focus();\n        this.tooltipNode = null;\n        if (el.parentNode)\n            el.parentNode.removeChild(el);\n    };\n    this.onTooltipClick = function (e) {\n        var a = e.target;\n        while (a && a != this.tooltipNode) {\n            if (a.nodeName == \"A\" && a.href) {\n                a.rel = \"noreferrer\";\n                a.target = \"_blank\";\n                break;\n            }\n            a = a.parentNode;\n        }\n    };\n    this.destroy = function () {\n        this.detach();\n        if (this.popup) {\n            this.popup.destroy();\n            var el = this.popup.container;\n            if (el && el.parentNode)\n                el.parentNode.removeChild(el);\n        }\n        if (this.editor && this.editor.completer == this)\n            this.editor.completer == null;\n        this.popup = null;\n    };\n}).call(Autocomplete.prototype);\nAutocomplete.for = function (editor) {\n    if (editor.completer) {\n        return editor.completer;\n    }\n    if (config.get(\"sharedPopups\")) {\n        if (!Autocomplete.$shared)\n            Autocomplete.$sharedInstance = new Autocomplete();\n        editor.completer = Autocomplete.$sharedInstance;\n    }\n    else {\n        editor.completer = new Autocomplete();\n        editor.once(\"destroy\", function (e, editor) {\n            editor.completer.destroy();\n        });\n    }\n    return editor.completer;\n};\nAutocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n        var completer = Autocomplete.for(editor);\n        completer.autoInsert = false;\n        completer.autoSelect = true;\n        completer.showPopup(editor, options);\n        completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n};\nvar FilteredList = function (array, filterText) {\n    this.all = array;\n    this.filtered = array;\n    this.filterText = filterText || \"\";\n    this.exactMatch = false;\n};\n(function () {\n    this.setFilter = function (str) {\n        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)\n            var matches = this.filtered;\n        else\n            var matches = this.all;\n        this.filterText = str;\n        matches = this.filterCompletions(matches, this.filterText);\n        matches = matches.sort(function (a, b) {\n            return b.exactMatch - a.exactMatch || b.$score - a.$score\n                || (a.caption || a.value).localeCompare(b.caption || b.value);\n        });\n        var prev = null;\n        matches = matches.filter(function (item) {\n            var caption = item.snippet || item.caption || item.value;\n            if (caption === prev)\n                return false;\n            prev = caption;\n            return true;\n        });\n        this.filtered = matches;\n    };\n    this.filterCompletions = function (items, needle) {\n        var results = [];\n        var upper = needle.toUpperCase();\n        var lower = needle.toLowerCase();\n        loop: for (var i = 0, item; item = items[i]; i++) {\n            var caption = item.caption || item.value || item.snippet;\n            if (!caption)\n                continue;\n            var lastIndex = -1;\n            var matchMask = 0;\n            var penalty = 0;\n            var index, distance;\n            if (this.exactMatch) {\n                if (needle !== caption.substr(0, needle.length))\n                    continue loop;\n            }\n            else {\n                var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n                if (fullMatchIndex > -1) {\n                    penalty = fullMatchIndex;\n                }\n                else {\n                    for (var j = 0; j < needle.length; j++) {\n                        var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                        var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                        index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;\n                        if (index < 0)\n                            continue loop;\n                        distance = index - lastIndex - 1;\n                        if (distance > 0) {\n                            if (lastIndex === -1)\n                                penalty += 10;\n                            penalty += distance;\n                            matchMask = matchMask | (1 << j);\n                        }\n                        lastIndex = index;\n                    }\n                }\n            }\n            item.matchMask = matchMask;\n            item.exactMatch = penalty ? 0 : 1;\n            item.$score = (item.score || 0) - penalty;\n            results.push(item);\n        }\n        return results;\n    };\n}).call(FilteredList.prototype);\nexports.Autocomplete = Autocomplete;\nexports.FilteredList = FilteredList;\n\n});\n\nace.define(\"ace/ext/menu_tools/settings_menu.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \"#ace_settingsmenu, #kbshortcutmenu {\\n    background-color: #F7F7F7;\\n    color: black;\\n    box-shadow: -5px 4px 5px rgba(126, 126, 126, 0.55);\\n    padding: 1em 0.5em 2em 1em;\\n    overflow: auto;\\n    position: absolute;\\n    margin: 0;\\n    bottom: 0;\\n    right: 0;\\n    top: 0;\\n    z-index: 9991;\\n    cursor: default;\\n}\\n\\n.ace_dark #ace_settingsmenu, .ace_dark #kbshortcutmenu {\\n    box-shadow: -20px 10px 25px rgba(126, 126, 126, 0.25);\\n    background-color: rgba(255, 255, 255, 0.6);\\n    color: black;\\n}\\n\\n.ace_optionsMenuEntry:hover {\\n    background-color: rgba(100, 100, 100, 0.1);\\n    transition: all 0.3s\\n}\\n\\n.ace_closeButton {\\n    background: rgba(245, 146, 146, 0.5);\\n    border: 1px solid #F48A8A;\\n    border-radius: 50%;\\n    padding: 7px;\\n    position: absolute;\\n    right: -8px;\\n    top: -8px;\\n    z-index: 100000;\\n}\\n.ace_closeButton{\\n    background: rgba(245, 146, 146, 0.9);\\n}\\n.ace_optionsMenuKey {\\n    color: darkslateblue;\\n    font-weight: bold;\\n}\\n.ace_optionsMenuCommand {\\n    color: darkcyan;\\n    font-weight: normal;\\n}\\n.ace_optionsMenuEntry input, .ace_optionsMenuEntry button {\\n    vertical-align: middle;\\n}\\n\\n.ace_optionsMenuEntry button[ace_selected_button=true] {\\n    background: #e7e7e7;\\n    box-shadow: 1px 0px 2px 0px #adadad inset;\\n    border-color: #adadad;\\n}\\n.ace_optionsMenuEntry button {\\n    background: white;\\n    border: 1px solid lightgray;\\n    margin: 0px;\\n}\\n.ace_optionsMenuEntry button:hover{\\n    background: #f0f0f0;\\n}\";\n\n});\n\nace.define(\"ace/ext/menu_tools/overlay_page\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/ext/menu_tools/settings_menu.css\"], function(require, exports, module){/*jslint indent: 4, maxerr: 50, white: true, browser: true, vars: true*/\n'use strict';\nvar dom = require(\"../../lib/dom\");\nvar cssText = require(\"./settings_menu.css\");\ndom.importCssString(cssText, \"settings_menu.css\", false);\nmodule.exports.overlayPage = function overlayPage(editor, contentElement, callback) {\n    var closer = document.createElement('div');\n    var ignoreFocusOut = false;\n    function documentEscListener(e) {\n        if (e.keyCode === 27) {\n            close();\n        }\n    }\n    function close() {\n        if (!closer)\n            return;\n        document.removeEventListener('keydown', documentEscListener);\n        closer.parentNode.removeChild(closer);\n        if (editor) {\n            editor.focus();\n        }\n        closer = null;\n        callback && callback();\n    }\n    function setIgnoreFocusOut(ignore) {\n        ignoreFocusOut = ignore;\n        if (ignore) {\n            closer.style.pointerEvents = \"none\";\n            contentElement.style.pointerEvents = \"auto\";\n        }\n    }\n    closer.style.cssText = 'margin: 0; padding: 0; ' +\n        'position: fixed; top:0; bottom:0; left:0; right:0;' +\n        'z-index: 9990; ' +\n        (editor ? 'background-color: rgba(0, 0, 0, 0.3);' : '');\n    closer.addEventListener('click', function (e) {\n        if (!ignoreFocusOut) {\n            close();\n        }\n    });\n    document.addEventListener('keydown', documentEscListener);\n    contentElement.addEventListener('click', function (e) {\n        e.stopPropagation();\n    });\n    closer.appendChild(contentElement);\n    document.body.appendChild(closer);\n    if (editor) {\n        editor.blur();\n    }\n    return {\n        close: close,\n        setIgnoreFocusOut: setIgnoreFocusOut\n    };\n};\n\n});\n\nace.define(\"ace/ext/modelist\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar modes = [];\nfunction getModeForPath(path) {\n    var mode = modesByName.text;\n    var fileName = path.split(/[\\/\\\\]/).pop();\n    for (var i = 0; i < modes.length; i++) {\n        if (modes[i].supportsFile(fileName)) {\n            mode = modes[i];\n            break;\n        }\n    }\n    return mode;\n}\nvar Mode = function (name, caption, extensions) {\n    this.name = name;\n    this.caption = caption;\n    this.mode = \"ace/mode/\" + name;\n    this.extensions = extensions;\n    var re;\n    if (/\\^/.test(extensions)) {\n        re = extensions.replace(/\\|(\\^)?/g, function (a, b) {\n            return \"$|\" + (b ? \"^\" : \"^.*\\\\.\");\n        }) + \"$\";\n    }\n    else {\n        re = \"^.*\\\\.(\" + extensions + \")$\";\n    }\n    this.extRe = new RegExp(re, \"gi\");\n};\nMode.prototype.supportsFile = function (filename) {\n    return filename.match(this.extRe);\n};\nvar supportedModes = {\n    ABAP: [\"abap\"],\n    ABC: [\"abc\"],\n    ActionScript: [\"as\"],\n    ADA: [\"ada|adb\"],\n    Alda: [\"alda\"],\n    Apache_Conf: [\"^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd\"],\n    Apex: [\"apex|cls|trigger|tgr\"],\n    AQL: [\"aql\"],\n    AsciiDoc: [\"asciidoc|adoc\"],\n    ASL: [\"dsl|asl|asl.json\"],\n    Assembly_x86: [\"asm|a\"],\n    AutoHotKey: [\"ahk\"],\n    BatchFile: [\"bat|cmd\"],\n    BibTeX: [\"bib\"],\n    C_Cpp: [\"cpp|c|cc|cxx|h|hh|hpp|ino\"],\n    C9Search: [\"c9search_results\"],\n    Cirru: [\"cirru|cr\"],\n    Clojure: [\"clj|cljs\"],\n    Cobol: [\"CBL|COB\"],\n    coffee: [\"coffee|cf|cson|^Cakefile\"],\n    ColdFusion: [\"cfm\"],\n    Crystal: [\"cr\"],\n    CSharp: [\"cs\"],\n    Csound_Document: [\"csd\"],\n    Csound_Orchestra: [\"orc\"],\n    Csound_Score: [\"sco\"],\n    CSS: [\"css\"],\n    Curly: [\"curly\"],\n    D: [\"d|di\"],\n    Dart: [\"dart\"],\n    Diff: [\"diff|patch\"],\n    Dockerfile: [\"^Dockerfile\"],\n    Dot: [\"dot\"],\n    Drools: [\"drl\"],\n    Edifact: [\"edi\"],\n    Eiffel: [\"e|ge\"],\n    EJS: [\"ejs\"],\n    Elixir: [\"ex|exs\"],\n    Elm: [\"elm\"],\n    Erlang: [\"erl|hrl\"],\n    Forth: [\"frt|fs|ldr|fth|4th\"],\n    Fortran: [\"f|f90\"],\n    FSharp: [\"fsi|fs|ml|mli|fsx|fsscript\"],\n    FSL: [\"fsl\"],\n    FTL: [\"ftl\"],\n    Gcode: [\"gcode\"],\n    Gherkin: [\"feature\"],\n    Gitignore: [\"^.gitignore\"],\n    Glsl: [\"glsl|frag|vert\"],\n    Gobstones: [\"gbs\"],\n    golang: [\"go\"],\n    GraphQLSchema: [\"gql\"],\n    Groovy: [\"groovy\"],\n    HAML: [\"haml\"],\n    Handlebars: [\"hbs|handlebars|tpl|mustache\"],\n    Haskell: [\"hs\"],\n    Haskell_Cabal: [\"cabal\"],\n    haXe: [\"hx\"],\n    Hjson: [\"hjson\"],\n    HTML: [\"html|htm|xhtml|vue|we|wpy\"],\n    HTML_Elixir: [\"eex|html.eex\"],\n    HTML_Ruby: [\"erb|rhtml|html.erb\"],\n    INI: [\"ini|conf|cfg|prefs\"],\n    Io: [\"io\"],\n    Ion: [\"ion\"],\n    Jack: [\"jack\"],\n    Jade: [\"jade|pug\"],\n    Java: [\"java\"],\n    JavaScript: [\"js|jsm|jsx|cjs|mjs\"],\n    JEXL: [\"jexl\"],\n    JSON: [\"json\"],\n    JSON5: [\"json5\"],\n    JSONiq: [\"jq\"],\n    JSP: [\"jsp\"],\n    JSSM: [\"jssm|jssm_state\"],\n    JSX: [\"jsx\"],\n    Julia: [\"jl\"],\n    Kotlin: [\"kt|kts\"],\n    LaTeX: [\"tex|latex|ltx|bib\"],\n    Latte: [\"latte\"],\n    LESS: [\"less\"],\n    Liquid: [\"liquid\"],\n    Lisp: [\"lisp\"],\n    LiveScript: [\"ls\"],\n    Log: [\"log\"],\n    LogiQL: [\"logic|lql\"],\n    Logtalk: [\"lgt\"],\n    LSL: [\"lsl\"],\n    Lua: [\"lua\"],\n    LuaPage: [\"lp\"],\n    Lucene: [\"lucene\"],\n    Makefile: [\"^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make\"],\n    Markdown: [\"md|markdown\"],\n    Mask: [\"mask\"],\n    MATLAB: [\"matlab\"],\n    Maze: [\"mz\"],\n    MediaWiki: [\"wiki|mediawiki\"],\n    MEL: [\"mel\"],\n    MIPS: [\"s|asm\"],\n    MIXAL: [\"mixal\"],\n    MUSHCode: [\"mc|mush\"],\n    MySQL: [\"mysql\"],\n    Nginx: [\"nginx|conf\"],\n    Nim: [\"nim\"],\n    Nix: [\"nix\"],\n    NSIS: [\"nsi|nsh\"],\n    Nunjucks: [\"nunjucks|nunjs|nj|njk\"],\n    ObjectiveC: [\"m|mm\"],\n    OCaml: [\"ml|mli\"],\n    PartiQL: [\"partiql|pql\"],\n    Pascal: [\"pas|p\"],\n    Perl: [\"pl|pm\"],\n    pgSQL: [\"pgsql\"],\n    PHP_Laravel_blade: [\"blade.php\"],\n    PHP: [\"php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module\"],\n    Pig: [\"pig\"],\n    Powershell: [\"ps1\"],\n    Praat: [\"praat|praatscript|psc|proc\"],\n    Prisma: [\"prisma\"],\n    Prolog: [\"plg|prolog\"],\n    Properties: [\"properties\"],\n    Protobuf: [\"proto\"],\n    Puppet: [\"epp|pp\"],\n    Python: [\"py\"],\n    QML: [\"qml\"],\n    R: [\"r\"],\n    Raku: [\"raku|rakumod|rakutest|p6|pl6|pm6\"],\n    Razor: [\"cshtml|asp\"],\n    RDoc: [\"Rd\"],\n    Red: [\"red|reds\"],\n    RHTML: [\"Rhtml\"],\n    Robot: [\"robot|resource\"],\n    RST: [\"rst\"],\n    Ruby: [\"rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile\"],\n    Rust: [\"rs\"],\n    SaC: [\"sac\"],\n    SASS: [\"sass\"],\n    SCAD: [\"scad\"],\n    Scala: [\"scala|sbt\"],\n    Scheme: [\"scm|sm|rkt|oak|scheme\"],\n    Scrypt: [\"scrypt\"],\n    SCSS: [\"scss\"],\n    SH: [\"sh|bash|^.bashrc\"],\n    SJS: [\"sjs\"],\n    Slim: [\"slim|skim\"],\n    Smarty: [\"smarty|tpl\"],\n    Smithy: [\"smithy\"],\n    snippets: [\"snippets\"],\n    Soy_Template: [\"soy\"],\n    Space: [\"space\"],\n    SPARQL: [\"rq\"],\n    SQL: [\"sql\"],\n    SQLServer: [\"sqlserver\"],\n    Stylus: [\"styl|stylus\"],\n    SVG: [\"svg\"],\n    Swift: [\"swift\"],\n    Tcl: [\"tcl\"],\n    Terraform: [\"tf\", \"tfvars\", \"terragrunt\"],\n    Tex: [\"tex\"],\n    Text: [\"txt\"],\n    Textile: [\"textile\"],\n    Toml: [\"toml\"],\n    TSX: [\"tsx\"],\n    Turtle: [\"ttl\"],\n    Twig: [\"twig|swig\"],\n    Typescript: [\"ts|typescript|str\"],\n    Vala: [\"vala\"],\n    VBScript: [\"vbs|vb\"],\n    Velocity: [\"vm\"],\n    Verilog: [\"v|vh|sv|svh\"],\n    VHDL: [\"vhd|vhdl\"],\n    Visualforce: [\"vfp|component|page\"],\n    Wollok: [\"wlk|wpgm|wtest\"],\n    XML: [\"xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml\"],\n    XQuery: [\"xq\"],\n    YAML: [\"yaml|yml\"],\n    Zeek: [\"zeek|bro\"],\n    Django: [\"html\"]\n};\nvar nameOverrides = {\n    ObjectiveC: \"Objective-C\",\n    CSharp: \"C#\",\n    golang: \"Go\",\n    C_Cpp: \"C and C++\",\n    Csound_Document: \"Csound Document\",\n    Csound_Orchestra: \"Csound\",\n    Csound_Score: \"Csound Score\",\n    coffee: \"CoffeeScript\",\n    HTML_Ruby: \"HTML (Ruby)\",\n    HTML_Elixir: \"HTML (Elixir)\",\n    FTL: \"FreeMarker\",\n    PHP_Laravel_blade: \"PHP (Blade Template)\",\n    Perl6: \"Perl 6\",\n    AutoHotKey: \"AutoHotkey / AutoIt\"\n};\nvar modesByName = {};\nfor (var name in supportedModes) {\n    var data = supportedModes[name];\n    var displayName = (nameOverrides[name] || name).replace(/_/g, \" \");\n    var filename = name.toLowerCase();\n    var mode = new Mode(filename, displayName, data[0]);\n    modesByName[filename] = mode;\n    modes.push(mode);\n}\nmodule.exports = {\n    getModeForPath: getModeForPath,\n    modes: modes,\n    modesByName: modesByName\n};\n\n});\n\nace.define(\"ace/ext/prompt\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\",\"ace/ext/menu_tools/get_editor_keyboard_shortcuts\",\"ace/autocomplete\",\"ace/autocomplete/popup\",\"ace/autocomplete/popup\",\"ace/undomanager\",\"ace/tokenizer\",\"ace/ext/menu_tools/overlay_page\",\"ace/ext/modelist\"], function(require, exports, module){/**\n * Prompt plugin is used for getting input from user.\n *\n * @param {Object} editor                   Ouside editor related to this prompt. Will be blurred when prompt is open.\n * @param {String} message                  Predefined value of prompt input box.\n * @param {Object} options                  Cusomizable options for this prompt.\n * @param {String} options.name             Prompt name.\n * @param {String} options.$type            Use prompt of specific type (gotoLine|commands|modes or default if empty).\n * @param {[start, end]} options.selection  Defines which part of the predefined value should be highlited.\n * @param {Boolean} options.hasDescription  Set to true if prompt has description below input box.\n * @param {String} options.prompt           Description below input box.\n * @param {String} options.placeholder      Placeholder for value.\n * @param {Object} options.$rules           Specific rules for input like password or regexp.\n * @param {Boolean} options.ignoreFocusOut  Set to true to keep the prompt open when focus moves to another part of the editor.\n * @param {Function} options.getCompletions Function for defining list of options for value.\n * @param {Function} options.getPrefix      Function for defining current value prefix.\n * @param {Function} options.onAccept       Function called when Enter is pressed.\n * @param {Function} options.onInput        Function called when input is added to prompt input box.\n * @param {Function} options.onCancel       Function called when Esc|Shift-Esc is pressed.\n * @param {Function} callback               Function called after done.\n * */\n\"use strict\";\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\nvar shortcuts = require(\"../ext/menu_tools/get_editor_keyboard_shortcuts\");\nvar FilteredList = require(\"../autocomplete\").FilteredList;\nvar AcePopup = require('../autocomplete/popup').AcePopup;\nvar $singleLineEditor = require('../autocomplete/popup').$singleLineEditor;\nvar UndoManager = require(\"../undomanager\").UndoManager;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar overlayPage = require(\"./menu_tools/overlay_page\").overlayPage;\nvar modelist = require(\"./modelist\");\nvar openPrompt;\nfunction prompt(editor, message, options, callback) {\n    if (typeof message == \"object\") {\n        return prompt(editor, \"\", message, options);\n    }\n    if (openPrompt) {\n        var lastPrompt = openPrompt;\n        editor = lastPrompt.editor;\n        lastPrompt.close();\n        if (lastPrompt.name && lastPrompt.name == options.name)\n            return;\n    }\n    if (options.$type)\n        return prompt[options.$type](editor, callback);\n    var cmdLine = $singleLineEditor();\n    cmdLine.session.setUndoManager(new UndoManager());\n    var el = dom.buildDom([\"div\", { class: \"ace_prompt_container\" + (options.hasDescription ? \" input-box-with-description\" : \"\") }]);\n    var overlay = overlayPage(editor, el, done);\n    el.appendChild(cmdLine.container);\n    if (editor) {\n        editor.cmdLine = cmdLine;\n        cmdLine.setOption(\"fontSize\", editor.getOption(\"fontSize\"));\n    }\n    if (message) {\n        cmdLine.setValue(message, 1);\n    }\n    if (options.selection) {\n        cmdLine.selection.setRange({\n            start: cmdLine.session.doc.indexToPosition(options.selection[0]),\n            end: cmdLine.session.doc.indexToPosition(options.selection[1])\n        });\n    }\n    if (options.getCompletions) {\n        var popup = new AcePopup();\n        popup.renderer.setStyle(\"ace_autocomplete_inline\");\n        popup.container.style.display = \"block\";\n        popup.container.style.maxWidth = \"600px\";\n        popup.container.style.width = \"100%\";\n        popup.container.style.marginTop = \"3px\";\n        popup.renderer.setScrollMargin(2, 2, 0, 0);\n        popup.autoSelect = false;\n        popup.renderer.$maxLines = 15;\n        popup.setRow(-1);\n        popup.on(\"click\", function (e) {\n            var data = popup.getData(popup.getRow());\n            if (!data.error) {\n                cmdLine.setValue(data.value || data.name || data);\n                accept();\n                e.stop();\n            }\n        });\n        el.appendChild(popup.container);\n        updateCompletions();\n    }\n    if (options.$rules) {\n        var tokenizer = new Tokenizer(options.$rules);\n        cmdLine.session.bgTokenizer.setTokenizer(tokenizer);\n    }\n    if (options.placeholder) {\n        cmdLine.setOption(\"placeholder\", options.placeholder);\n    }\n    if (options.hasDescription) {\n        var promptTextContainer = dom.buildDom([\"div\", { class: \"ace_prompt_text_container\" }]);\n        dom.buildDom(options.prompt || \"Press 'Enter' to confirm or 'Escape' to cancel\", promptTextContainer);\n        el.appendChild(promptTextContainer);\n    }\n    overlay.setIgnoreFocusOut(options.ignoreFocusOut);\n    function accept() {\n        var val;\n        if (popup && popup.getCursorPosition().row > 0) {\n            val = valueFromRecentList();\n        }\n        else {\n            val = cmdLine.getValue();\n        }\n        var curData = popup ? popup.getData(popup.getRow()) : val;\n        if (curData && !curData.error) {\n            done();\n            options.onAccept && options.onAccept({\n                value: val,\n                item: curData\n            }, cmdLine);\n        }\n    }\n    var keys = {\n        \"Enter\": accept,\n        \"Esc|Shift-Esc\": function () {\n            options.onCancel && options.onCancel(cmdLine.getValue(), cmdLine);\n            done();\n        }\n    };\n    if (popup) {\n        Object.assign(keys, {\n            \"Up\": function (editor) { popup.goTo(\"up\"); valueFromRecentList(); },\n            \"Down\": function (editor) { popup.goTo(\"down\"); valueFromRecentList(); },\n            \"Ctrl-Up|Ctrl-Home\": function (editor) { popup.goTo(\"start\"); valueFromRecentList(); },\n            \"Ctrl-Down|Ctrl-End\": function (editor) { popup.goTo(\"end\"); valueFromRecentList(); },\n            \"Tab\": function (editor) { popup.goTo(\"down\"); valueFromRecentList(); },\n            \"PageUp\": function (editor) { popup.gotoPageUp(); valueFromRecentList(); },\n            \"PageDown\": function (editor) { popup.gotoPageDown(); valueFromRecentList(); }\n        });\n    }\n    cmdLine.commands.bindKeys(keys);\n    function done() {\n        overlay.close();\n        callback && callback();\n        openPrompt = null;\n    }\n    cmdLine.on(\"input\", function () {\n        options.onInput && options.onInput();\n        updateCompletions();\n    });\n    function updateCompletions() {\n        if (options.getCompletions) {\n            var prefix;\n            if (options.getPrefix) {\n                prefix = options.getPrefix(cmdLine);\n            }\n            var completions = options.getCompletions(cmdLine);\n            popup.setData(completions, prefix);\n            popup.resize(true);\n        }\n    }\n    function valueFromRecentList() {\n        var current = popup.getData(popup.getRow());\n        if (current && !current.error)\n            return current.value || current.caption || current;\n    }\n    cmdLine.resize(true);\n    if (popup) {\n        popup.resize(true);\n    }\n    cmdLine.focus();\n    openPrompt = {\n        close: done,\n        name: options.name,\n        editor: editor\n    };\n}\nprompt.gotoLine = function (editor, callback) {\n    function stringifySelection(selection) {\n        if (!Array.isArray(selection))\n            selection = [selection];\n        return selection.map(function (r) {\n            var cursor = r.isBackwards ? r.start : r.end;\n            var anchor = r.isBackwards ? r.end : r.start;\n            var row = anchor.row;\n            var s = (row + 1) + \":\" + anchor.column;\n            if (anchor.row == cursor.row) {\n                if (anchor.column != cursor.column)\n                    s += \">\" + \":\" + cursor.column;\n            }\n            else {\n                s += \">\" + (cursor.row + 1) + \":\" + cursor.column;\n            }\n            return s;\n        }).reverse().join(\", \");\n    }\n    prompt(editor, \":\" + stringifySelection(editor.selection.toJSON()), {\n        name: \"gotoLine\",\n        selection: [1, Number.MAX_VALUE],\n        onAccept: function (data) {\n            var value = data.value;\n            var _history = prompt.gotoLine._history;\n            if (!_history)\n                prompt.gotoLine._history = _history = [];\n            if (_history.indexOf(value) != -1)\n                _history.splice(_history.indexOf(value), 1);\n            _history.unshift(value);\n            if (_history.length > 20)\n                _history.length = 20;\n            var pos = editor.getCursorPosition();\n            var ranges = [];\n            value.replace(/^:/, \"\").split(/,/).map(function (str) {\n                var parts = str.split(/([<>:+-]|c?\\d+)|[^c\\d<>:+-]+/).filter(Boolean);\n                var i = 0;\n                function readPosition() {\n                    var c = parts[i++];\n                    if (!c)\n                        return;\n                    if (c[0] == \"c\") {\n                        var index = parseInt(c.slice(1)) || 0;\n                        return editor.session.doc.indexToPosition(index);\n                    }\n                    var row = pos.row;\n                    var column = 0;\n                    if (/\\d/.test(c)) {\n                        row = parseInt(c) - 1;\n                        c = parts[i++];\n                    }\n                    if (c == \":\") {\n                        c = parts[i++];\n                        if (/\\d/.test(c)) {\n                            column = parseInt(c) || 0;\n                        }\n                    }\n                    return { row: row, column: column };\n                }\n                pos = readPosition();\n                var range = Range.fromPoints(pos, pos);\n                if (parts[i] == \">\") {\n                    i++;\n                    range.end = readPosition();\n                }\n                else if (parts[i] == \"<\") {\n                    i++;\n                    range.start = readPosition();\n                }\n                ranges.unshift(range);\n            });\n            editor.selection.fromJSON(ranges);\n            var scrollTop = editor.renderer.scrollTop;\n            editor.renderer.scrollSelectionIntoView(editor.selection.anchor, editor.selection.cursor, 0.5);\n            editor.renderer.animateScrolling(scrollTop);\n        },\n        history: function () {\n            var undoManager = editor.session.getUndoManager();\n            if (!prompt.gotoLine._history)\n                return [];\n            return prompt.gotoLine._history;\n        },\n        getCompletions: function (cmdLine) {\n            var value = cmdLine.getValue();\n            var m = value.replace(/^:/, \"\").split(\":\");\n            var row = Math.min(parseInt(m[0]) || 1, editor.session.getLength()) - 1;\n            var line = editor.session.getLine(row);\n            var current = value + \"  \" + line;\n            return [current].concat(this.history());\n        },\n        $rules: {\n            start: [{\n                    regex: /\\d+/,\n                    token: \"string\"\n                }, {\n                    regex: /[:,><+\\-c]/,\n                    token: \"keyword\"\n                }]\n        }\n    });\n};\nprompt.commands = function (editor, callback) {\n    function normalizeName(name) {\n        return (name || \"\").replace(/^./, function (x) {\n            return x.toUpperCase(x);\n        }).replace(/[a-z][A-Z]/g, function (x) {\n            return x[0] + \" \" + x[1].toLowerCase(x);\n        });\n    }\n    function getEditorCommandsByName(excludeCommands) {\n        var commandsByName = [];\n        var commandMap = {};\n        editor.keyBinding.$handlers.forEach(function (handler) {\n            var platform = handler.platform;\n            var cbn = handler.byName;\n            for (var i in cbn) {\n                var key = cbn[i].bindKey;\n                if (typeof key !== \"string\") {\n                    key = key && key[platform] || \"\";\n                }\n                var commands = cbn[i];\n                var description = commands.description || normalizeName(commands.name);\n                if (!Array.isArray(commands))\n                    commands = [commands];\n                commands.forEach(function (command) {\n                    if (typeof command != \"string\")\n                        command = command.name;\n                    var needle = excludeCommands.find(function (el) {\n                        return el === command;\n                    });\n                    if (!needle) {\n                        if (commandMap[command]) {\n                            commandMap[command].key += \"|\" + key;\n                        }\n                        else {\n                            commandMap[command] = { key: key, command: command, description: description };\n                            commandsByName.push(commandMap[command]);\n                        }\n                    }\n                });\n            }\n        });\n        return commandsByName;\n    }\n    var excludeCommandsList = [\"insertstring\", \"inserttext\", \"setIndentation\", \"paste\"];\n    var shortcutsArray = getEditorCommandsByName(excludeCommandsList);\n    shortcutsArray = shortcutsArray.map(function (item) {\n        return { value: item.description, meta: item.key, command: item.command };\n    });\n    prompt(editor, \"\", {\n        name: \"commands\",\n        selection: [0, Number.MAX_VALUE],\n        maxHistoryCount: 5,\n        onAccept: function (data) {\n            if (data.item) {\n                var commandName = data.item.command;\n                this.addToHistory(data.item);\n                editor.execCommand(commandName);\n            }\n        },\n        addToHistory: function (item) {\n            var history = this.history();\n            history.unshift(item);\n            delete item.message;\n            for (var i = 1; i < history.length; i++) {\n                if (history[i][\"command\"] == item.command) {\n                    history.splice(i, 1);\n                    break;\n                }\n            }\n            if (this.maxHistoryCount > 0 && history.length > this.maxHistoryCount) {\n                history.splice(history.length - 1, 1);\n            }\n            prompt.commands.history = history;\n        },\n        history: function () {\n            return prompt.commands.history || [];\n        },\n        getPrefix: function (cmdLine) {\n            var currentPos = cmdLine.getCursorPosition();\n            var filterValue = cmdLine.getValue();\n            return filterValue.substring(0, currentPos.column);\n        },\n        getCompletions: function (cmdLine) {\n            function getFilteredCompletions(commands, prefix) {\n                var resultCommands = JSON.parse(JSON.stringify(commands));\n                var filtered = new FilteredList(resultCommands);\n                return filtered.filterCompletions(resultCommands, prefix);\n            }\n            function getUniqueCommandList(commands, usedCommands) {\n                if (!usedCommands || !usedCommands.length) {\n                    return commands;\n                }\n                var excludeCommands = [];\n                usedCommands.forEach(function (item) {\n                    excludeCommands.push(item.command);\n                });\n                var resultCommands = [];\n                commands.forEach(function (item) {\n                    if (excludeCommands.indexOf(item.command) === -1) {\n                        resultCommands.push(item);\n                    }\n                });\n                return resultCommands;\n            }\n            var prefix = this.getPrefix(cmdLine);\n            var recentlyUsedCommands = getFilteredCompletions(this.history(), prefix);\n            var otherCommands = getUniqueCommandList(shortcutsArray, recentlyUsedCommands);\n            otherCommands = getFilteredCompletions(otherCommands, prefix);\n            if (recentlyUsedCommands.length && otherCommands.length) {\n                recentlyUsedCommands[0][\"message\"] = \" Recently used\";\n                otherCommands[0][\"message\"] = \" Other commands\";\n            }\n            var completions = recentlyUsedCommands.concat(otherCommands);\n            return completions.length > 0 ? completions : [{\n                    value: \"No matching commands\",\n                    error: 1\n                }];\n        }\n    });\n};\nprompt.modes = function (editor, callback) {\n    var modesArray = modelist.modes;\n    modesArray = modesArray.map(function (item) {\n        return { value: item.caption, mode: item.name };\n    });\n    prompt(editor, \"\", {\n        name: \"modes\",\n        selection: [0, Number.MAX_VALUE],\n        onAccept: function (data) {\n            if (data.item) {\n                var modeName = \"ace/mode/\" + data.item.mode;\n                editor.session.setMode(modeName);\n            }\n        },\n        getPrefix: function (cmdLine) {\n            var currentPos = cmdLine.getCursorPosition();\n            var filterValue = cmdLine.getValue();\n            return filterValue.substring(0, currentPos.column);\n        },\n        getCompletions: function (cmdLine) {\n            function getFilteredCompletions(modes, prefix) {\n                var resultCommands = JSON.parse(JSON.stringify(modes));\n                var filtered = new FilteredList(resultCommands);\n                return filtered.filterCompletions(resultCommands, prefix);\n            }\n            var prefix = this.getPrefix(cmdLine);\n            var completions = getFilteredCompletions(modesArray, prefix);\n            return completions.length > 0 ? completions : [{\n                    \"caption\": \"No mode matching\",\n                    \"value\": \"No mode matching\",\n                    \"error\": 1\n                }];\n        }\n    });\n};\ndom.importCssString(\".ace_prompt_container {\\n    max-width: 600px;\\n    width: 100%;\\n    margin: 20px auto;\\n    padding: 3px;\\n    background: white;\\n    border-radius: 2px;\\n    box-shadow: 0px 2px 3px 0px #555;\\n}\", \"promtp.css\", false);\nexports.prompt = prompt;\n\n});                (function() {\n                    ace.require([\"ace/ext/prompt\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "],"mappings":"AAAAA,GAAG,CAACC,MAAM,CAAC,kDAAkD,EAAC,CAAC,SAAS,EAAC,SAAS,EAAC,QAAQ,EAAC,cAAc,CAAC,EAAE,UAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAAC;EAChJ,YAAY;;EACZ,IAAIC,IAAI,GAAGH,OAAO,CAAC,gBAAgB,CAAC;EACpCE,MAAM,CAACD,OAAO,CAACG,0BAA0B,GAAG,UAAUC,MAAM,EAAE;IAC1D,IAAIC,QAAQ,GAAGH,IAAI,CAACG,QAAQ;IAC5B,IAAIC,WAAW,GAAG,EAAE;IACpB,IAAIC,UAAU,GAAG,CAAC,CAAC;IACnBH,MAAM,CAACI,UAAU,CAACC,SAAS,CAACC,OAAO,CAAC,UAAUC,OAAO,EAAE;MACnD,IAAIC,GAAG,GAAGD,OAAO,CAACE,iBAAiB;MACnC,KAAK,IAAIC,CAAC,IAAIF,GAAG,EAAE;QACf,IAAIG,GAAG,GAAGD,CAAC,CAACE,OAAO,CAAC,UAAU,EAAE,UAAUC,CAAC,EAAE;UAAE,OAAOA,CAAC,CAACC,WAAW,EAAE;QAAE,CAAC,CAAC;QACzE,IAAIC,QAAQ,GAAGP,GAAG,CAACE,CAAC,CAAC;QACrB,IAAI,CAACM,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,EACxBA,QAAQ,GAAG,CAACA,QAAQ,CAAC;QACzBA,QAAQ,CAACT,OAAO,CAAC,UAAUY,OAAO,EAAE;UAChC,IAAI,OAAOA,OAAO,IAAI,QAAQ,EAC1BA,OAAO,GAAGA,OAAO,CAACC,IAAI;UAC1B,IAAIhB,UAAU,CAACe,OAAO,CAAC,EAAE;YACrBf,UAAU,CAACe,OAAO,CAAC,CAACP,GAAG,IAAI,GAAG,GAAGA,GAAG;UACxC,CAAC,MACI;YACDR,UAAU,CAACe,OAAO,CAAC,GAAG;cAAEP,GAAG,EAAEA,GAAG;cAAEO,OAAO,EAAEA;YAAQ,CAAC;YACpDhB,WAAW,CAACkB,IAAI,CAACjB,UAAU,CAACe,OAAO,CAAC,CAAC;UACzC;QACJ,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;IACF,OAAOhB,WAAW;EACtB,CAAC;AAED,CAAC,CAAC;AAEFT,GAAG,CAACC,MAAM,CAAC,wBAAwB,EAAC,CAAC,SAAS,EAAC,SAAS,EAAC,QAAQ,EAAC,sBAAsB,EAAC,YAAY,EAAC,WAAW,EAAC,eAAe,EAAC,cAAc,EAAC,aAAa,CAAC,EAAE,UAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAAC,YAAY;;EAChN,IAAIwB,QAAQ,GAAG1B,OAAO,CAAC,qBAAqB,CAAC,CAAC2B,eAAe;EAC7D,IAAIC,MAAM,GAAG5B,OAAO,CAAC,WAAW,CAAC,CAAC4B,MAAM;EACxC,IAAIC,KAAK,GAAG7B,OAAO,CAAC,UAAU,CAAC,CAAC6B,KAAK;EACrC,IAAIC,KAAK,GAAG9B,OAAO,CAAC,cAAc,CAAC;EACnC,IAAI+B,IAAI,GAAG/B,OAAO,CAAC,aAAa,CAAC;EACjC,IAAIgC,GAAG,GAAGhC,OAAO,CAAC,YAAY,CAAC;EAC/B,IAAIiC,SAAS,GAAG,UAAUC,KAAK,EAAE;IAC7B,OAAO,kBAAkB,CAACC,MAAM,CAACD,KAAK,CAAC;EAC3C,CAAC;EACD,IAAIE,iBAAiB,GAAG,UAAUC,EAAE,EAAE;IAClC,IAAIC,QAAQ,GAAG,IAAIZ,QAAQ,CAACW,EAAE,CAAC;IAC/BC,QAAQ,CAACC,SAAS,GAAG,CAAC;IACtB,IAAIlC,MAAM,GAAG,IAAIuB,MAAM,CAACU,QAAQ,CAAC;IACjCjC,MAAM,CAACmC,sBAAsB,CAAC,KAAK,CAAC;IACpCnC,MAAM,CAACoC,kBAAkB,CAAC,KAAK,CAAC;IAChCpC,MAAM,CAACiC,QAAQ,CAACI,aAAa,CAAC,KAAK,CAAC;IACpCrC,MAAM,CAACiC,QAAQ,CAACK,sBAAsB,CAAC,KAAK,CAAC;IAC7CtC,MAAM,CAACuC,aAAa,CAACC,aAAa,GAAG,CAAC;IACtCxC,MAAM,CAACyC,oBAAoB,GAAG,IAAI;IAClC,OAAOzC,MAAM;EACjB,CAAC;EACD,IAAI0C,QAAQ,GAAG,UAAUC,UAAU,EAAE;IACjC,IAAIX,EAAE,GAAGL,GAAG,CAACiB,aAAa,CAAC,KAAK,CAAC;IACjC,IAAIC,KAAK,GAAG,IAAId,iBAAiB,CAACC,EAAE,CAAC;IACrC,IAAIW,UAAU,EACVA,UAAU,CAACG,WAAW,CAACd,EAAE,CAAC;IAC9BA,EAAE,CAACe,KAAK,CAACC,OAAO,GAAG,MAAM;IACzBH,KAAK,CAACZ,QAAQ,CAACgB,OAAO,CAACF,KAAK,CAACG,MAAM,GAAG,SAAS;IAC/CL,KAAK,CAACZ,QAAQ,CAACkB,QAAQ,CAAC,kBAAkB,CAAC;IAC3CN,KAAK,CAACZ,QAAQ,CAACmB,SAAS,CAACC,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC;IACxDR,KAAK,CAACZ,QAAQ,CAACmB,SAAS,CAACC,YAAY,CAAC,YAAY,EAAE,0BAA0B,CAAC;IAC/ER,KAAK,CAACS,SAAS,CAAC,qBAAqB,EAAE,KAAK,CAAC;IAC7CT,KAAK,CAACS,SAAS,CAAC,WAAW,EAAE,GAAG,CAAC;IACjC,IAAIC,IAAI,GAAG,YAAY,CAAE,CAAC;IAC1BV,KAAK,CAACW,KAAK,GAAGD,IAAI;IAClBV,KAAK,CAACY,UAAU,GAAG,IAAI;IACvBZ,KAAK,CAACZ,QAAQ,CAACyB,YAAY,CAACC,YAAY,GAAGJ,IAAI;IAC/CV,KAAK,CAACZ,QAAQ,CAACyB,YAAY,CAACE,OAAO,CAACb,KAAK,CAACc,OAAO,GAAG,CAAC;IACrDhB,KAAK,CAACZ,QAAQ,CAACC,SAAS,GAAG,CAAC;IAC5BW,KAAK,CAACZ,QAAQ,CAAC6B,qBAAqB,GAAG,KAAK;IAC5CjB,KAAK,CAACV,sBAAsB,CAAC,KAAK,CAAC;IACnCU,KAAK,CAACkB,OAAO,CAACC,SAAS,CAAC,EAAE,CAAC;IAC3BnB,KAAK,CAACkB,OAAO,CAACE,gBAAgB,CAACC,KAAK,GAAG,sBAAsB;IAC7DrB,KAAK,CAACsB,EAAE,CAAC,WAAW,EAAE,UAAUC,CAAC,EAAE;MAC/B,IAAIC,GAAG,GAAGD,CAAC,CAACE,mBAAmB,EAAE;MACjCzB,KAAK,CAAC0B,SAAS,CAACC,cAAc,CAACH,GAAG,CAAC;MACnCI,eAAe,CAACC,KAAK,CAACC,GAAG,GAAGF,eAAe,CAACG,GAAG,CAACD,GAAG,GAAGN,GAAG,CAACM,GAAG;MAC7DP,CAAC,CAACS,IAAI,EAAE;IACZ,CAAC,CAAC;IACF,IAAIC,cAAc;IAClB,IAAIC,WAAW,GAAG,IAAIvD,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAEwD,QAAQ,CAAC;IAChD,IAAIP,eAAe,GAAG,IAAIjD,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAEwD,QAAQ,CAAC;IACpDP,eAAe,CAACQ,EAAE,GAAGpC,KAAK,CAACkB,OAAO,CAACmB,SAAS,CAACT,eAAe,EAAE,iBAAiB,EAAE,UAAU,CAAC;IAC5F5B,KAAK,CAACsC,gBAAgB,GAAG,UAAUC,GAAG,EAAE;MACpC,IAAI,CAACA,GAAG,EAAE;QACNL,WAAW,CAACE,EAAE,GAAGpC,KAAK,CAACkB,OAAO,CAACmB,SAAS,CAACH,WAAW,EAAE,gBAAgB,EAAE,UAAU,CAAC;MACvF,CAAC,MACI,IAAIA,WAAW,CAACE,EAAE,EAAE;QACrBpC,KAAK,CAACkB,OAAO,CAACsB,YAAY,CAACN,WAAW,CAACE,EAAE,CAAC;QAC1CF,WAAW,CAACE,EAAE,GAAG,IAAI;MACzB;IACJ,CAAC;IACDpC,KAAK,CAACsC,gBAAgB,CAAC,KAAK,CAAC;IAC7BtC,KAAK,CAACsB,EAAE,CAAC,WAAW,EAAE,UAAUC,CAAC,EAAE;MAC/B,IAAI,CAACU,cAAc,EAAE;QACjBA,cAAc,GAAGV,CAAC;QAClB;MACJ;MACA,IAAIU,cAAc,CAACjE,CAAC,IAAIuD,CAAC,CAACvD,CAAC,IAAIiE,cAAc,CAACQ,CAAC,IAAIlB,CAAC,CAACkB,CAAC,EAAE;QACpD;MACJ;MACAR,cAAc,GAAGV,CAAC;MAClBU,cAAc,CAACS,SAAS,GAAG1C,KAAK,CAACZ,QAAQ,CAACsD,SAAS;MACnD,IAAIZ,GAAG,GAAGG,cAAc,CAACR,mBAAmB,EAAE,CAACK,GAAG;MAClD,IAAII,WAAW,CAACL,KAAK,CAACC,GAAG,IAAIA,GAAG,EAAE;QAC9B,IAAI,CAACI,WAAW,CAACE,EAAE,EACfpC,KAAK,CAAC2C,MAAM,CAACb,GAAG,CAAC;QACrBc,cAAc,CAACd,GAAG,CAAC;MACvB;IACJ,CAAC,CAAC;IACF9B,KAAK,CAACZ,QAAQ,CAACkC,EAAE,CAAC,cAAc,EAAE,YAAY;MAC1C,IAAIW,cAAc,IAAIC,WAAW,CAACL,KAAK,CAACC,GAAG,IAAI,CAAC,CAAC,EAAE;QAC/CG,cAAc,CAACY,IAAI,GAAG,IAAI;QAC1B,IAAIf,GAAG,GAAGG,cAAc,CAACR,mBAAmB,EAAE,CAACK,GAAG;QAClD,IAAI,CAACI,WAAW,CAACE,EAAE,EACfpC,KAAK,CAAC2C,MAAM,CAACb,GAAG,CAAC;QACrBc,cAAc,CAACd,GAAG,EAAE,IAAI,CAAC;MAC7B;IACJ,CAAC,CAAC;IACF9B,KAAK,CAACZ,QAAQ,CAACkC,EAAE,CAAC,aAAa,EAAE,YAAY;MACzC,IAAIQ,GAAG,GAAG9B,KAAK,CAAC8C,MAAM,EAAE;MACxB,IAAIC,CAAC,GAAG/C,KAAK,CAACZ,QAAQ,CAAC4D,UAAU;MACjC,IAAIC,QAAQ,GAAGF,CAAC,CAAChC,OAAO,CAACmC,UAAU,CAACpB,GAAG,GAAGiB,CAAC,CAACI,MAAM,CAACC,QAAQ,CAAC;MAC5D,IAAIjE,EAAE,GAAGkE,QAAQ,CAACC,aAAa,CAAC,CAAC;MACjC,IAAIL,QAAQ,KAAKF,CAAC,CAACQ,YAAY,IAAIR,CAAC,CAACQ,YAAY,EAAE;QAC/CzE,GAAG,CAAC0E,cAAc,CAACT,CAAC,CAACQ,YAAY,EAAE,cAAc,CAAC;QAClDpE,EAAE,CAACsE,eAAe,CAAC,uBAAuB,CAAC;QAC3CV,CAAC,CAACQ,YAAY,CAACE,eAAe,CAAC,IAAI,CAAC;MACxC;MACAV,CAAC,CAACQ,YAAY,GAAGN,QAAQ;MACzB,IAAIA,QAAQ,EAAE;QACVnE,GAAG,CAAC4E,WAAW,CAACT,QAAQ,EAAE,cAAc,CAAC;QACzC,IAAIU,MAAM,GAAG5E,SAAS,CAAC+C,GAAG,CAAC;QAC3BmB,QAAQ,CAACb,EAAE,GAAGuB,MAAM;QACpB3D,KAAK,CAACZ,QAAQ,CAACmB,SAAS,CAACC,YAAY,CAAC,uBAAuB,EAAEmD,MAAM,CAAC;QACtExE,EAAE,CAACqB,YAAY,CAAC,uBAAuB,EAAEmD,MAAM,CAAC;QAChDV,QAAQ,CAACzC,YAAY,CAAC,YAAY,EAAER,KAAK,CAAC4D,OAAO,CAAC9B,GAAG,CAAC,CAAC+B,KAAK,CAAC;MACjE;IACJ,CAAC,CAAC;IACF,IAAIC,eAAe,GAAG,YAAY;MAAElB,cAAc,CAAC,CAAC,CAAC,CAAC;IAAE,CAAC;IACzD,IAAIA,cAAc,GAAG,UAAUd,GAAG,EAAEiC,cAAc,EAAE;MAChD,IAAIjC,GAAG,KAAKI,WAAW,CAACL,KAAK,CAACC,GAAG,EAAE;QAC/BI,WAAW,CAACL,KAAK,CAACC,GAAG,GAAGI,WAAW,CAACH,GAAG,CAACD,GAAG,GAAGA,GAAG;QACjD,IAAI,CAACiC,cAAc,EACf/D,KAAK,CAACkB,OAAO,CAAC8C,KAAK,CAAC,kBAAkB,CAAC;QAC3ChE,KAAK,CAACgE,KAAK,CAAC,mBAAmB,CAAC;MACpC;IACJ,CAAC;IACDhE,KAAK,CAACiE,aAAa,GAAG,YAAY;MAC9B,OAAO/B,WAAW,CAACL,KAAK,CAACC,GAAG;IAChC,CAAC;IACDlD,KAAK,CAACsF,WAAW,CAAClE,KAAK,CAACO,SAAS,EAAE,UAAU,EAAEuD,eAAe,CAAC;IAC/D9D,KAAK,CAACsB,EAAE,CAAC,MAAM,EAAEwC,eAAe,CAAC;IACjC9D,KAAK,CAACsB,EAAE,CAAC,iBAAiB,EAAEwC,eAAe,CAAC;IAC5C9D,KAAK,CAACkB,OAAO,CAACiD,GAAG,CAACC,SAAS,GAAG,YAAY;MACtC,OAAOpE,KAAK,CAACqE,IAAI,CAACC,MAAM;IAC5B,CAAC;IACDtE,KAAK,CAACkB,OAAO,CAACiD,GAAG,CAACI,OAAO,GAAG,UAAU1G,CAAC,EAAE;MACrC,IAAIwG,IAAI,GAAGrE,KAAK,CAACqE,IAAI,CAACxG,CAAC,CAAC;MACxB,IAAI,OAAOwG,IAAI,IAAI,QAAQ,EACvB,OAAOA,IAAI;MACf,OAAQA,IAAI,IAAIA,IAAI,CAACR,KAAK,IAAK,EAAE;IACrC,CAAC;IACD,IAAIW,WAAW,GAAGxE,KAAK,CAACkB,OAAO,CAACsD,WAAW;IAC3CA,WAAW,CAACC,YAAY,GAAG,UAAU3C,GAAG,EAAE;MACtC,IAAIuC,IAAI,GAAGrE,KAAK,CAACqE,IAAI,CAACvC,GAAG,CAAC;MAC1B,IAAI4C,MAAM,GAAG,EAAE;MACf,IAAI,CAACL,IAAI,EACL,OAAOK,MAAM;MACjB,IAAI,OAAOL,IAAI,IAAI,QAAQ,EACvBA,IAAI,GAAG;QAAER,KAAK,EAAEQ;MAAK,CAAC;MAC1B,IAAIM,OAAO,GAAGN,IAAI,CAACM,OAAO,IAAIN,IAAI,CAACR,KAAK,IAAIQ,IAAI,CAAC/F,IAAI;MACrD,SAASsG,QAAQ,CAACf,KAAK,EAAEgB,SAAS,EAAE;QAChChB,KAAK,IAAIa,MAAM,CAACnG,IAAI,CAAC;UACjBuG,IAAI,EAAE,CAACT,IAAI,CAACQ,SAAS,IAAI,EAAE,KAAKA,SAAS,IAAI,EAAE,CAAC;UAChDhB,KAAK,EAAEA;QACX,CAAC,CAAC;MACN;MACA,IAAIkB,KAAK,GAAGJ,OAAO,CAACK,WAAW,EAAE;MACjC,IAAIC,UAAU,GAAG,CAACjF,KAAK,CAACiF,UAAU,IAAI,EAAE,EAAED,WAAW,EAAE;MACvD,IAAIE,SAAS,GAAG,CAAC;MACjB,IAAIC,KAAK,GAAG,CAAC;MACb,KAAK,IAAItH,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIoH,UAAU,CAACX,MAAM,EAAEzG,CAAC,EAAE,EAAE;QACzC,IAAIA,CAAC,IAAIsH,KAAK,KAAKd,IAAI,CAACe,SAAS,GAAI,CAAC,IAAIvH,CAAE,IAAIA,CAAC,IAAIoH,UAAU,CAACX,MAAM,CAAC,EAAE;UACrE,IAAIe,GAAG,GAAGJ,UAAU,CAACK,KAAK,CAACH,KAAK,EAAEtH,CAAC,CAAC;UACpCsH,KAAK,GAAGtH,CAAC;UACT,IAAImB,KAAK,GAAG+F,KAAK,CAACQ,OAAO,CAACF,GAAG,EAAEH,SAAS,CAAC;UACzC,IAAIlG,KAAK,IAAI,CAAC,CAAC,EACX;UACJ4F,QAAQ,CAACD,OAAO,CAACW,KAAK,CAACJ,SAAS,EAAElG,KAAK,CAAC,EAAE,EAAE,CAAC;UAC7CkG,SAAS,GAAGlG,KAAK,GAAGqG,GAAG,CAACf,MAAM;UAC9BM,QAAQ,CAACD,OAAO,CAACW,KAAK,CAACtG,KAAK,EAAEkG,SAAS,CAAC,EAAE,sBAAsB,CAAC;QACrE;MACJ;MACAN,QAAQ,CAACD,OAAO,CAACW,KAAK,CAACJ,SAAS,EAAEP,OAAO,CAACL,MAAM,CAAC,EAAE,EAAE,CAAC;MACtD,IAAID,IAAI,CAACmB,IAAI,EACTd,MAAM,CAACnG,IAAI,CAAC;QAAEuG,IAAI,EAAE,iBAAiB;QAAEjB,KAAK,EAAEQ,IAAI,CAACmB;MAAK,CAAC,CAAC;MAC9D,IAAInB,IAAI,CAACoB,OAAO,EACZf,MAAM,CAACnG,IAAI,CAAC;QAAEuG,IAAI,EAAE,oBAAoB;QAAEjB,KAAK,EAAEQ,IAAI,CAACoB;MAAQ,CAAC,CAAC;MACpE,OAAOf,MAAM;IACjB,CAAC;IACDF,WAAW,CAACkB,eAAe,GAAGhF,IAAI;IAClC8D,WAAW,CAAC3C,KAAK,GAAGnB,IAAI;IACxBV,KAAK,CAACkB,OAAO,CAACyE,aAAa,GAAG,YAAY;MACtC,OAAO,IAAI,CAACC,WAAW,GAAG,CAAC;IAC/B,CAAC;IACD5F,KAAK,CAAC6F,MAAM,GAAG,KAAK;IACpB7F,KAAK,CAAC8F,SAAS,GAAG,KAAK;IACvB9F,KAAK,CAAC+F,UAAU,GAAG,IAAI;IACvB/F,KAAK,CAACiF,UAAU,GAAG,EAAE;IACrBjF,KAAK,CAACqE,IAAI,GAAG,EAAE;IACfrE,KAAK,CAACgG,OAAO,GAAG,UAAUC,IAAI,EAAEhB,UAAU,EAAE;MACxCjF,KAAK,CAACiF,UAAU,GAAGA,UAAU,IAAI,EAAE;MACnCjF,KAAK,CAACkG,QAAQ,CAACrH,IAAI,CAACsH,YAAY,CAAC,IAAI,EAAEF,IAAI,CAAC3B,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;MACxDtE,KAAK,CAACqE,IAAI,GAAG4B,IAAI,IAAI,EAAE;MACvBjG,KAAK,CAAC2C,MAAM,CAAC,CAAC,CAAC;IACnB,CAAC;IACD3C,KAAK,CAAC4D,OAAO,GAAG,UAAU9B,GAAG,EAAE;MAC3B,OAAO9B,KAAK,CAACqE,IAAI,CAACvC,GAAG,CAAC;IAC1B,CAAC;IACD9B,KAAK,CAAC8C,MAAM,GAAG,YAAY;MACvB,OAAOlB,eAAe,CAACC,KAAK,CAACC,GAAG;IACpC,CAAC;IACD9B,KAAK,CAAC2C,MAAM,GAAG,UAAUyD,IAAI,EAAE;MAC3BA,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACP,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEM,IAAI,CAACE,GAAG,CAAC,IAAI,CAAClC,IAAI,CAACC,MAAM,EAAE8B,IAAI,CAAC,CAAC;MAC3E,IAAIxE,eAAe,CAACC,KAAK,CAACC,GAAG,IAAIsE,IAAI,EAAE;QACnCpG,KAAK,CAAC0B,SAAS,CAAC8E,cAAc,EAAE;QAChC5E,eAAe,CAACC,KAAK,CAACC,GAAG,GAAGF,eAAe,CAACG,GAAG,CAACD,GAAG,GAAGsE,IAAI,IAAI,CAAC;QAC/DpG,KAAK,CAACkB,OAAO,CAAC8C,KAAK,CAAC,kBAAkB,CAAC;QACvChE,KAAK,CAACyG,YAAY,CAACL,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC;QAChC,IAAIpG,KAAK,CAAC6F,MAAM,EACZ7F,KAAK,CAAC0G,OAAO,CAAC,QAAQ,CAAC;MAC/B;IACJ,CAAC;IACD1G,KAAK,CAACsB,EAAE,CAAC,iBAAiB,EAAE,YAAY;MACpC,IAAItB,KAAK,CAAC6F,MAAM,EACZ7F,KAAK,CAAC2C,MAAM,CAAC3C,KAAK,CAAC0B,SAAS,CAACiF,IAAI,CAAC7E,GAAG,CAAC;MAC1C9B,KAAK,CAACZ,QAAQ,CAACwH,oBAAoB,EAAE;IACzC,CAAC,CAAC;IACF5G,KAAK,CAAC6G,IAAI,GAAG,YAAY;MACrB,IAAI,CAACtG,SAAS,CAACL,KAAK,CAACC,OAAO,GAAG,MAAM;MACrC,IAAI,CAACuG,OAAO,CAAC,MAAM,CAAC;MACpB1G,KAAK,CAAC6F,MAAM,GAAG,KAAK;IACxB,CAAC;IACD7F,KAAK,CAAC8G,IAAI,GAAG,UAAUtF,GAAG,EAAEuF,UAAU,EAAEC,WAAW,EAAE;MACjD,IAAI7H,EAAE,GAAG,IAAI,CAACoB,SAAS;MACvB,IAAI0G,YAAY,GAAGC,MAAM,CAACC,WAAW;MACrC,IAAIvB,WAAW,GAAGsB,MAAM,CAACE,UAAU;MACnC,IAAIhI,QAAQ,GAAG,IAAI,CAACA,QAAQ;MAC5B,IAAIiI,IAAI,GAAGjI,QAAQ,CAACC,SAAS,GAAG0H,UAAU,GAAG,GAAG;MAChD,IAAIO,GAAG,GAAG9F,GAAG,CAAC8F,GAAG,GAAG,IAAI,CAACC,WAAW;MACpC,IAAIC,YAAY,GAAGF,GAAG,GAAGL,YAAY,GAAG,CAAC,IAAI,CAACD,WAAW;MACzD,IAAIQ,YAAY,IAAIF,GAAG,GAAGP,UAAU,GAAGM,IAAI,GAAGJ,YAAY,EAAE;QACxD7H,QAAQ,CAACqI,eAAe,GAAGH,GAAG,GAAG,CAAC,GAAG,IAAI,CAACC,WAAW;QACrDpI,EAAE,CAACe,KAAK,CAACoH,GAAG,GAAG,EAAE;QACjBnI,EAAE,CAACe,KAAK,CAACwH,MAAM,GAAGT,YAAY,GAAGK,GAAG,GAAG,IAAI;QAC3CtH,KAAK,CAAC8F,SAAS,GAAG,KAAK;MAC3B,CAAC,MACI;QACDwB,GAAG,IAAIP,UAAU;QACjB3H,QAAQ,CAACqI,eAAe,GAAGR,YAAY,GAAGK,GAAG,GAAG,GAAG,GAAGP,UAAU;QAChE5H,EAAE,CAACe,KAAK,CAACoH,GAAG,GAAGA,GAAG,GAAG,IAAI;QACzBnI,EAAE,CAACe,KAAK,CAACwH,MAAM,GAAG,EAAE;QACpB1H,KAAK,CAAC8F,SAAS,GAAG,IAAI;MAC1B;MACA3G,EAAE,CAACe,KAAK,CAACC,OAAO,GAAG,EAAE;MACrB,IAAIwH,IAAI,GAAGnG,GAAG,CAACmG,IAAI;MACnB,IAAIA,IAAI,GAAGxI,EAAE,CAACyI,WAAW,GAAGhC,WAAW,EACnC+B,IAAI,GAAG/B,WAAW,GAAGzG,EAAE,CAACyI,WAAW;MACvCzI,EAAE,CAACe,KAAK,CAACyH,IAAI,GAAGA,IAAI,GAAG,IAAI;MAC3B,IAAI,CAACjB,OAAO,CAAC,MAAM,CAAC;MACpBzE,cAAc,GAAG,IAAI;MACrBjC,KAAK,CAAC6F,MAAM,GAAG,IAAI;IACvB,CAAC;IACD7F,KAAK,CAAC6H,IAAI,GAAG,UAAUC,KAAK,EAAE;MAC1B,IAAIhG,GAAG,GAAG,IAAI,CAACgB,MAAM,EAAE;MACvB,IAAIwD,GAAG,GAAG,IAAI,CAACpF,OAAO,CAACkD,SAAS,EAAE,GAAG,CAAC;MACtC,QAAQ0D,KAAK;QACT,KAAK,IAAI;UACLhG,GAAG,GAAGA,GAAG,IAAI,CAAC,GAAGwE,GAAG,GAAGxE,GAAG,GAAG,CAAC;UAC9B;QACJ,KAAK,MAAM;UACPA,GAAG,GAAGA,GAAG,IAAIwE,GAAG,GAAG,CAAC,CAAC,GAAGxE,GAAG,GAAG,CAAC;UAC/B;QACJ,KAAK,OAAO;UACRA,GAAG,GAAG,CAAC;UACP;QACJ,KAAK,KAAK;UACNA,GAAG,GAAGwE,GAAG;UACT;MAAM;MAEd,IAAI,CAAC3D,MAAM,CAACb,GAAG,CAAC;IACpB,CAAC;IACD9B,KAAK,CAAC+H,iBAAiB,GAAG,YAAY;MAClC,OAAO,IAAI,CAACR,WAAW,GAAG,IAAI,CAACnI,QAAQ,CAAC4I,QAAQ,GAAG,IAAI,CAACC,UAAU;IACtE,CAAC;IACDjI,KAAK,CAACiI,UAAU,GAAG,CAAC;IACpBjI,KAAK,CAACuH,WAAW,GAAG,CAAC;IACrB,OAAOvH,KAAK;EAChB,CAAC;EACDlB,GAAG,CAACoJ,eAAe,CAAC,+wCAA+wC,EAAE,oBAAoB,EAAE,KAAK,CAAC;EACj0CnL,OAAO,CAAC8C,QAAQ,GAAGA,QAAQ;EAC3B9C,OAAO,CAACmC,iBAAiB,GAAGA,iBAAiB;EAC7CnC,OAAO,CAACgC,SAAS,GAAGA,SAAS;AAE7B,CAAC,CAAC;AAEFnC,GAAG,CAACC,MAAM,CAAC,uBAAuB,EAAC,CAAC,SAAS,EAAC,SAAS,EAAC,QAAQ,CAAC,EAAE,UAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAAC,YAAY;;EAClHD,OAAO,CAACoL,UAAU,GAAG,UAAUC,KAAK,EAAEC,EAAE,EAAEC,QAAQ,EAAE;IAChD,IAAIC,SAAS,GAAG,CAAC;IACjB,IAAIC,QAAQ,GAAGJ,KAAK,CAAC9D,MAAM;IAC3B,IAAIkE,QAAQ,KAAK,CAAC,EACdF,QAAQ,EAAE;IACd,KAAK,IAAIzK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2K,QAAQ,EAAE3K,CAAC,EAAE,EAAE;MAC/BwK,EAAE,CAACD,KAAK,CAACvK,CAAC,CAAC,EAAE,UAAU4K,MAAM,EAAEC,GAAG,EAAE;QAChCH,SAAS,EAAE;QACX,IAAIA,SAAS,KAAKC,QAAQ,EACtBF,QAAQ,CAACG,MAAM,EAAEC,GAAG,CAAC;MAC7B,CAAC,CAAC;IACN;EACJ,CAAC;EACD,IAAIC,QAAQ,GAAG,4CAA4C;EAC3D5L,OAAO,CAAC6L,2BAA2B,GAAG,UAAUC,IAAI,EAAErH,GAAG,EAAEsH,KAAK,EAAE;IAC9DA,KAAK,GAAGA,KAAK,IAAIH,QAAQ;IACzB,IAAII,GAAG,GAAG,EAAE;IACZ,KAAK,IAAIlL,CAAC,GAAG2D,GAAG,GAAG,CAAC,EAAE3D,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MAC/B,IAAIiL,KAAK,CAACE,IAAI,CAACH,IAAI,CAAChL,CAAC,CAAC,CAAC,EACnBkL,GAAG,CAACxK,IAAI,CAACsK,IAAI,CAAChL,CAAC,CAAC,CAAC,CAAC,KAElB;IACR;IACA,OAAOkL,GAAG,CAACE,OAAO,EAAE,CAACC,IAAI,CAAC,EAAE,CAAC;EACjC,CAAC;EACDnM,OAAO,CAACoM,2BAA2B,GAAG,UAAUN,IAAI,EAAErH,GAAG,EAAEsH,KAAK,EAAE;IAC9DA,KAAK,GAAGA,KAAK,IAAIH,QAAQ;IACzB,IAAII,GAAG,GAAG,EAAE;IACZ,KAAK,IAAIlL,CAAC,GAAG2D,GAAG,EAAE3D,CAAC,GAAGgL,IAAI,CAACvE,MAAM,EAAEzG,CAAC,EAAE,EAAE;MACpC,IAAIiL,KAAK,CAACE,IAAI,CAACH,IAAI,CAAChL,CAAC,CAAC,CAAC,EACnBkL,GAAG,CAACxK,IAAI,CAACsK,IAAI,CAAChL,CAAC,CAAC,CAAC,CAAC,KAElB;IACR;IACA,OAAOkL,GAAG;EACd,CAAC;EACDhM,OAAO,CAACqM,mBAAmB,GAAG,UAAUjM,MAAM,EAAE;IAC5C,IAAIqE,GAAG,GAAGrE,MAAM,CAACkM,iBAAiB,EAAE;IACpC,IAAIjD,IAAI,GAAGjJ,MAAM,CAAC+D,OAAO,CAACqD,OAAO,CAAC/C,GAAG,CAACM,GAAG,CAAC;IAC1C,IAAIwH,MAAM;IACVnM,MAAM,CAACoM,UAAU,CAAC9L,OAAO,CAAC,UAAU+L,SAAS,EAAE;MAC3C,IAAIA,SAAS,CAACC,iBAAiB,EAAE;QAC7BD,SAAS,CAACC,iBAAiB,CAAChM,OAAO,CAAC,UAAUiM,eAAe,EAAE;UAC3D,IAAI,CAACJ,MAAM,IAAII,eAAe,EAC1BJ,MAAM,GAAG,IAAI,CAACV,2BAA2B,CAACxC,IAAI,EAAE5E,GAAG,CAACmI,MAAM,EAAED,eAAe,CAAC;QACpF,CAAC,CAACE,IAAI,CAAC,IAAI,CAAC,CAAC;MACjB;IACJ,CAAC,CAACA,IAAI,CAAC,IAAI,CAAC,CAAC;IACb,OAAON,MAAM,IAAI,IAAI,CAACV,2BAA2B,CAACxC,IAAI,EAAE5E,GAAG,CAACmI,MAAM,CAAC;EACvE,CAAC;AAED,CAAC,CAAC;AAEF/M,GAAG,CAACC,MAAM,CAAC,cAAc,EAAC,CAAC,SAAS,EAAC,SAAS,EAAC,QAAQ,EAAC,aAAa,EAAC,aAAa,EAAC,uBAAuB,EAAC,cAAc,EAAC,WAAW,EAAC,gBAAgB,EAAC,2BAA2B,EAAC,eAAe,EAAC,eAAe,EAAC,YAAY,CAAC,EAAE,UAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAAC,YAAY;;EAClR,IAAI8B,GAAG,GAAGhC,OAAO,CAAC,WAAW,CAAC;EAC9B,IAAI+M,GAAG,GAAG/M,OAAO,CAAC,WAAW,CAAC;EAC9B,IAAIgN,YAAY,GAAGhN,OAAO,CAAC,qBAAqB,CAAC,CAACgN,YAAY;EAC9D,IAAIjL,IAAI,GAAG/B,OAAO,CAAC,YAAY,CAAC;EAChC,IAAI6B,KAAK,GAAG7B,OAAO,CAAC,SAAS,CAAC,CAAC6B,KAAK;EACpC,IAAIoL,SAAS,GAAGjN,OAAO,CAAC,cAAc,CAAC,CAACiN,SAAS;EACjD,IAAIC,WAAW,GAAGlN,OAAO,CAAC,yBAAyB,CAAC,CAACkN,WAAW;EAChE,IAAIC,SAAS,GAAGnN,OAAO,CAAC,aAAa,CAAC,CAACmN,SAAS;EAChD,IAAIC,SAAS,GAAGpN,OAAO,CAAC,aAAa,CAAC;EACtC,IAAIqN,SAAS,GAAG;IACZC,YAAY,EAAE,UAAUjN,MAAM,EAAE;MAC5B,OAAOA,MAAM,CAAC+D,OAAO,CAACmJ,YAAY,CAAClN,MAAM,CAAC+D,OAAO,CAACoJ,YAAY,EAAE,CAAC;IACrE,CAAC;IACDC,SAAS,EAAE,UAAUpN,MAAM,EAAEmB,IAAI,EAAEkM,WAAW,EAAE;MAC5C,IAAI3B,IAAI,GAAG1L,MAAM,CAAC+D,OAAO,CAACmJ,YAAY,EAAE;MACxC,IAAIG,WAAW,EACX,OAAO3B,IAAI,CAAC9K,OAAO,CAAC,kBAAkB,EAAE,IAAI,GAAGyM,WAAW,GAAG,IAAI,CAAC;MACtE,OAAO3B,IAAI;IACf,CAAC;IACD4B,YAAY,EAAE,UAAUtN,MAAM,EAAE;MAC5B,OAAOA,MAAM,CAAC+D,OAAO,CAACqD,OAAO,CAACpH,MAAM,CAACkM,iBAAiB,EAAE,CAACvH,GAAG,CAAC;IACjE,CAAC;IACD4I,SAAS,EAAE,UAAUvN,MAAM,EAAE;MACzB,OAAOA,MAAM,CAAC+D,OAAO,CAACqD,OAAO,CAACpH,MAAM,CAACkM,iBAAiB,EAAE,CAACvH,GAAG,GAAG,CAAC,CAAC;IACrE,CAAC;IACD6I,UAAU,EAAE,UAAUxN,MAAM,EAAE;MAC1B,OAAOA,MAAM,CAACkM,iBAAiB,EAAE,CAACvH,GAAG;IACzC,CAAC;IACD8I,WAAW,EAAE,UAAUzN,MAAM,EAAE;MAC3B,OAAOA,MAAM,CAACkM,iBAAiB,EAAE,CAACvH,GAAG,GAAG,CAAC;IAC7C,CAAC;IACD+I,SAAS,EAAE,UAAU1N,MAAM,EAAE;MACzB,OAAOA,MAAM,CAAC+D,OAAO,CAAC4J,cAAc,EAAE,GAAG,KAAK,GAAG,IAAI;IACzD,CAAC;IACDC,QAAQ,EAAE,UAAU5N,MAAM,EAAE;MACxB,OAAOA,MAAM,CAAC+D,OAAO,CAAC8J,UAAU,EAAE;IACtC,CAAC;IACDC,SAAS,EAAE,UAAU9N,MAAM,EAAE;MACzB,OAAO+M,SAAS,CAACgB,OAAO,IAAIhB,SAAS,CAACgB,OAAO,EAAE;IACnD,CAAC;IACDC,QAAQ,EAAE,UAAUhO,MAAM,EAAE;MACxB,OAAO,UAAU,CAACiO,IAAI,CAAC,IAAI,CAACC,QAAQ,CAAClO,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,CAAC;IACDmO,aAAa,EAAE,UAAUnO,MAAM,EAAE;MAC7B,OAAO,UAAU,CAACiO,IAAI,CAAC,IAAI,CAACC,QAAQ,CAAClO,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAACY,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;IAC5E,CAAC;IACDwN,SAAS,EAAE,UAAUpO,MAAM,EAAE;MACzB,OAAO,IAAI,CAACkO,QAAQ,CAAClO,MAAM,CAAC,CAACY,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;IACxD,CAAC;IACDsN,QAAQ,EAAE,UAAUlO,MAAM,EAAE;MAAE,OAAO,sBAAsB;IAAE,CAAC;IAC9DqO,cAAc,EAAE,YAAY;MAAE,OAAO,SAAS;IAAE,CAAC;IACjDC,QAAQ,EAAE,YAAY;MAAE,OAAO,SAAS;IAAE,CAAC;IAC3CC,mBAAmB,EAAE,UAAUvO,MAAM,EAAE;MACnC,IAAIwO,IAAI,GAAGxO,MAAM,CAAC+D,OAAO,CAAC0K,KAAK,IAAI,CAAC,CAAC;MACrC,OAAOD,IAAI,CAACE,YAAY,IAAIF,IAAI,CAACE,YAAY,CAAChK,KAAK,IAAI,EAAE;IAC7D,CAAC;IACDiK,iBAAiB,EAAE,UAAU3O,MAAM,EAAE;MACjC,IAAIwO,IAAI,GAAGxO,MAAM,CAAC+D,OAAO,CAAC0K,KAAK,IAAI,CAAC,CAAC;MACrC,OAAOD,IAAI,CAACE,YAAY,IAAIF,IAAI,CAACE,YAAY,CAAC9J,GAAG,IAAI,EAAE;IAC3D,CAAC;IACDgK,YAAY,EAAE,UAAU5O,MAAM,EAAE;MAC5B,IAAIwO,IAAI,GAAGxO,MAAM,CAAC+D,OAAO,CAAC0K,KAAK,IAAI,CAAC,CAAC;MACrC,OAAOD,IAAI,CAACK,gBAAgB,IAAI,EAAE;IACtC,CAAC;IACDC,YAAY,EAAEC,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAEuC,IAAI,EAAE;IAAU,CAAC,CAAC;IAClDC,kBAAkB,EAAEF,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAEuC,IAAI,EAAE;IAAU,CAAC,CAAC;IACxDE,aAAa,EAAEH,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAE0C,KAAK,EAAE;IAAU,CAAC,CAAC;IACpDC,kBAAkB,EAAEL,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAE0C,KAAK,EAAE;IAAO,CAAC,CAAC;IACtDE,wBAAwB,EAAEN,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAE0C,KAAK,EAAE;IAAQ,CAAC,CAAC;IAC7DG,YAAY,EAAEP,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAE8C,GAAG,EAAE;IAAU,CAAC,CAAC;IACjDC,gBAAgB,EAAET,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAEgD,OAAO,EAAE;IAAO,CAAC,CAAC;IACtDC,sBAAsB,EAAEX,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAEgD,OAAO,EAAE;IAAQ,CAAC,CAAC;IAC7DE,YAAY,EAAEZ,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAEmD,IAAI,EAAE,SAAS;MAAEC,MAAM,EAAE;IAAM,CAAC,CAAC;IACjEC,cAAc,EAAEf,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAEsD,MAAM,EAAE;IAAU,CAAC,CAAC;IACtDC,cAAc,EAAEjB,IAAI,CAACtC,IAAI,CAAC,IAAI,EAAE;MAAEwD,MAAM,EAAE;IAAU,CAAC;EACzD,CAAC;EACDjD,SAAS,CAACkD,aAAa,GAAGlD,SAAS,CAACI,SAAS;EAC7C,SAAS2B,IAAI,CAACoB,UAAU,EAAE;IACtB,IAAIC,GAAG,GAAG,IAAIC,IAAI,EAAE,CAACC,cAAc,CAAC,OAAO,EAAEH,UAAU,CAAC;IACxD,OAAOC,GAAG,CAACjJ,MAAM,IAAI,CAAC,GAAG,GAAG,GAAGiJ,GAAG,GAAGA,GAAG;EAC5C;EACA,IAAIG,cAAc,GAAG,YAAY;IAC7B,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC;IACpB,IAAI,CAACC,cAAc,GAAG,CAAC,CAAC;EAC5B,CAAC;EACD,CAAC,YAAY;IACT/D,GAAG,CAACgE,SAAS,CAAC,IAAI,EAAE/D,YAAY,CAAC;IACjC,IAAI,CAACgE,YAAY,GAAG,YAAY;MAC5B,OAAOJ,cAAc,CAACK,UAAU,IAAI,IAAI,CAACC,eAAe,EAAE;IAC9D,CAAC;IACD,IAAI,CAACA,eAAe,GAAG,YAAY;MAC/B,SAASC,YAAY,CAACV,GAAG,EAAE;QACvBA,GAAG,GAAGA,GAAG,CAACW,MAAM,CAAC,CAAC,CAAC;QACnB,IAAI,OAAO,CAAClF,IAAI,CAACuE,GAAG,CAAC,EACjB,OAAO,CAAC;UAAEY,SAAS,EAAEC,QAAQ,CAACb,GAAG,EAAE,EAAE;QAAE,CAAC,CAAC;QAC7C,OAAO,CAAC;UAAE1E,IAAI,EAAE0E;QAAI,CAAC,CAAC;MAC1B;MACA,SAASc,MAAM,CAACC,EAAE,EAAE;QAChB,OAAO,WAAW,GAAGA,EAAE,GAAG,UAAU;MACxC;MACA,IAAIC,aAAa,GAAG;QAChBzF,KAAK,EAAE,IAAI,GAAGuF,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK;QACjCG,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;UAClC,IAAIC,EAAE,GAAGD,KAAK,CAAC,CAAC,CAAC;UACjBC,EAAE,CAACC,SAAS,GAAG,IAAI;UACnBD,EAAE,CAACE,KAAK,GAAGtM,GAAG,CAAC+C,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAC3BqJ,EAAE,CAACG,IAAI,GAAG,EAAE;UACZ,OAAO,EAAE;QACb,CAAC;QACDC,IAAI,EAAE;MACV,CAAC;MACDrB,cAAc,CAACK,UAAU,GAAG,IAAI9D,SAAS,CAAC;QACtCpI,KAAK,EAAE,CACH;UAAEiH,KAAK,EAAE,KAAK;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YAC9C,IAAIJ,EAAE,GAAG/L,GAAG,CAAC,CAAC,CAAC;YACf,IAAI+L,EAAE,IAAI,GAAG,IAAII,KAAK,CAACpK,MAAM,EAAE;cAC3B/B,GAAG,GAAG+L,EAAE;YACZ,CAAC,MACI,IAAI,MAAM,CAAC/I,OAAO,CAAC+I,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE;cAC/B/L,GAAG,GAAG+L,EAAE;YACZ;YACA,OAAO,CAAC/L,GAAG,CAAC;UAChB;QAAE,CAAC,EACP;UAAEuG,KAAK,EAAE,GAAG;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YAC5C,OAAO,CAACA,KAAK,CAACpK,MAAM,GAAGoK,KAAK,CAACM,KAAK,EAAE,GAAGzM,GAAG,CAAC;UAC/C;QAAE,CAAC,EACP;UAAEuG,KAAK,EAAE,eAAe;UAAE0F,OAAO,EAAEP;QAAa,CAAC,EACjD;UAAEnF,KAAK,EAAE,kBAAkB;UAAE0F,OAAO,EAAE,UAAUjB,GAAG,EAAEkB,KAAK,EAAEC,KAAK,EAAE;YAC3D,IAAI3L,CAAC,GAAGkL,YAAY,CAACV,GAAG,CAACW,MAAM,CAAC,CAAC,CAAC,CAAC;YACnCQ,KAAK,CAACO,OAAO,CAAClM,CAAC,CAAC,CAAC,CAAC,CAAC;YACnB,OAAOA,CAAC;UACZ,CAAC;UAAEgM,IAAI,EAAE;QAAa,CAAC,EAC3B;UAAEjG,KAAK,EAAE,IAAI;UAAEoG,KAAK,EAAE,SAAS;UAAEC,KAAK,EAAE;QAAM,CAAC,CAClD;QACDC,UAAU,EAAE,CACR;UAAEtG,KAAK,EAAE,KAAK,GAAGuF,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM;UAAEG,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YACvE,IAAIW,OAAO,GAAG9M,GAAG,CAAC+C,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACvH,OAAO,CAAC,aAAa,EAAE,UAAUuR,QAAQ,EAAE;cACtE,OAAOA,QAAQ,CAAChL,MAAM,IAAI,CAAC,GAAGgL,QAAQ,CAAC,CAAC,CAAC,GAAG,MAAM;YACtD,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,CAAC,CAACC,GAAG,CAAC,UAAU3L,KAAK,EAAE;cAClC,OAAO;gBAAEA,KAAK,EAAEA;cAAM,CAAC;YAC3B,CAAC,CAAC;YACF6K,KAAK,CAAC,CAAC,CAAC,CAACW,OAAO,GAAGA,OAAO;YAC1B,OAAO,CAACA,OAAO,CAAC,CAAC,CAAC,CAAC;UACvB,CAAC;UAAEN,IAAI,EAAE;QAAQ,CAAC,EACtBR,aAAa,EACb;UAAEzF,KAAK,EAAE,sBAAsB;UAAEoG,KAAK,EAAE,EAAE;UAAEH,IAAI,EAAE;QAAQ,CAAC,CAC9D;QACDU,YAAY,EAAE,CACV;UAAE3G,KAAK,EAAE,GAAG;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YAC5C,IAAIA,KAAK,CAACpK,MAAM,IAAIoK,KAAK,CAAC,CAAC,CAAC,CAACgB,UAAU,EAAE;cACrChB,KAAK,CAAC,CAAC,CAAC,CAACgB,UAAU,GAAG,KAAK;cAC3BhB,KAAK,CAAC,CAAC,CAAC,CAACiB,KAAK,GAAG;gBAAEC,OAAO,EAAElB,KAAK,CAAC,CAAC;cAAE,CAAC;cACtC,OAAO,CAACA,KAAK,CAAC,CAAC,CAAC,CAACiB,KAAK,CAAC;YAC3B;YACA,OAAO,GAAG;UACd;QAAE,CAAC,EACP;UAAE7G,KAAK,EAAE,KAAK;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YAC9C,IAAIJ,EAAE,GAAG/L,GAAG,CAAC,CAAC,CAAC;YACf,IAAI+L,EAAE,IAAI,GAAG,IAAII,KAAK,CAACpK,MAAM,EACzB/B,GAAG,GAAG+L,EAAE,CAAC,KACR,IAAI,MAAM,CAAC/I,OAAO,CAAC+I,EAAE,CAAC,IAAI,CAAC,CAAC,EAC7B/L,GAAG,GAAG+L,EAAE,CAAC,KACR,IAAIA,EAAE,IAAI,GAAG,EACd/L,GAAG,GAAG,IAAI,CAAC,KACV,IAAI+L,EAAE,IAAI,GAAG,EACd/L,GAAG,GAAG,IAAI,CAAC,KACV,IAAI,OAAO,CAACgD,OAAO,CAAC+I,EAAE,CAAC,IAAI,CAAC,CAAC,EAC9B/L,GAAG,GAAG;cAAEsN,UAAU,EAAEvB,EAAE;cAAEwB,KAAK,EAAExB,EAAE,GAAG;YAAI,CAAC;YAC7C,OAAO,CAAC/L,GAAG,CAAC;UAChB;QAAE,CAAC,EACP;UAAEuG,KAAK,EAAE,QAAQ;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YACjD,IAAIK,IAAI,GAAGL,KAAK,CAACM,KAAK,EAAE;YACxB,IAAID,IAAI,EACJA,IAAI,CAACD,IAAI,GAAGvM,GAAG,CAAC+C,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAChC,IAAI,CAACyJ,IAAI,GAAGA,IAAI,IAAIA,IAAI,CAACZ,SAAS,GAAG,OAAO,GAAG,EAAE;YACjD,OAAO,CAACY,IAAI,IAAIxM,GAAG,CAAC;UACxB,CAAC;UAAEwM,IAAI,EAAE;QAAQ,CAAC,EACtB;UAAEjG,KAAK,EAAE,eAAe;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YACxD,OAAO,CAAC;cAAE7F,IAAI,EAAEtG,GAAG,CAAC+C,KAAK,CAAC,CAAC;YAAE,CAAC,CAAC;UACnC;QAAE,CAAC,EACP;UAAEwD,KAAK,EAAE,QAAQ;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YACjD,IAAIQ,KAAK,GAAG;cAAErG,IAAI,EAAEtG,GAAG,CAAC+C,KAAK,CAAC,CAAC;YAAE,CAAC;YAClCoJ,KAAK,CAACO,OAAO,CAACC,KAAK,CAAC;YACpB,OAAO,CAACA,KAAK,CAAC;UAClB,CAAC;UAAEH,IAAI,EAAE;QAAkB,CAAC,EAChC;UAAEjG,KAAK,EAAE,IAAI;UAAEoG,KAAK,EAAE,SAAS;UAAEC,KAAK,EAAE;QAAM,CAAC,EAC/C;UAAErG,KAAK,EAAE,GAAG;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YAC5C,IAAIK,IAAI,GAAGL,KAAK,CAACM,KAAK,EAAE;YACxB,IAAI,CAACD,IAAI,GAAGA,IAAI,IAAIA,IAAI,CAACZ,SAAS,GAAG,OAAO,GAAG,EAAE;YACjD,OAAO,CAACY,IAAI,IAAIxM,GAAG,CAAC;UACxB,CAAC;UAAEwM,IAAI,EAAE;QAAQ,CAAC,CACzB;QACDgB,eAAe,EAAE,CACb;UAAEjH,KAAK,EAAE,SAAS;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YAClD,IAAIC,EAAE,GAAGD,KAAK,CAAC,CAAC,CAAC;YACjBC,EAAE,CAACqB,cAAc,GAAGzN,GAAG,CAAC+C,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACpC,OAAO,CAACoJ,KAAK,CAACM,KAAK,EAAE,CAAC;UAC1B,CAAC;UAAED,IAAI,EAAE;QAAe,CAAC,EAC7BR,aAAa,EACb;UAAEzF,KAAK,EAAE,WAAW;UAAE0F,OAAO,EAAE,UAAUjM,GAAG,EAAEkM,KAAK,EAAEC,KAAK,EAAE;YACpD,IAAInM,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,EACbmM,KAAK,CAAC,CAAC,CAAC,CAACiB,KAAK,GAAGjB,KAAK,CAAC,CAAC,CAAC;YAC7B,IAAInM,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,EACbmM,KAAK,CAAC,CAAC,CAAC,CAACgB,UAAU,GAAG,IAAI;UAClC,CAAC;UAAEX,IAAI,EAAE;QAAe,CAAC,EAC7B;UAAEjG,KAAK,EAAE,sBAAsB;UAAEoG,KAAK,EAAE,EAAE;UAAEH,IAAI,EAAE;QAAe,CAAC;MAE1E,CAAC,CAAC;MACF,OAAOrB,cAAc,CAACK,UAAU;IACpC,CAAC;IACD,IAAI,CAACkC,iBAAiB,GAAG,UAAU1C,GAAG,EAAE2C,UAAU,EAAE;MAChD,OAAO,IAAI,CAACpC,YAAY,EAAE,CAACqC,aAAa,CAAC5C,GAAG,EAAE2C,UAAU,CAAC,CAACxL,MAAM,CAAC8K,GAAG,CAAC,UAAUxR,CAAC,EAAE;QAC9E,OAAOA,CAAC,CAAC6F,KAAK,IAAI7F,CAAC;MACvB,CAAC,CAAC;IACN,CAAC;IACD,IAAI,CAACoS,gBAAgB,GAAG,UAAUjT,MAAM,EAAEmB,IAAI,EAAEkM,WAAW,EAAE;MACzD,IAAI,OAAO,CAACxB,IAAI,CAAC1K,IAAI,CAAC,EAClB,OAAO,CAAC,IAAI,CAAC+R,SAAS,CAACC,EAAE,IAAI,CAAC,CAAC,EAAEhS,IAAI,CAAC,IAAI,EAAE;MAChD,IAAI,YAAY,CAAC0K,IAAI,CAAC1K,IAAI,CAAC,EACvB,OAAO,CAAC,IAAI,CAAC+R,SAAS,CAAC/R,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,EAAEA,IAAI,CAAC4P,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;MACvE5P,IAAI,GAAGA,IAAI,CAACP,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;MAC/B,IAAI,CAAC,IAAI,CAACsS,SAAS,CAACE,cAAc,CAACjS,IAAI,CAAC,EACpC,OAAO,EAAE;MACb,IAAIuF,KAAK,GAAG,IAAI,CAACwM,SAAS,CAAC/R,IAAI,CAAC;MAChC,IAAI,OAAOuF,KAAK,IAAI,UAAU,EAC1BA,KAAK,GAAG,IAAI,CAACwM,SAAS,CAAC/R,IAAI,CAAC,CAACnB,MAAM,EAAEmB,IAAI,EAAEkM,WAAW,CAAC;MAC3D,OAAO3G,KAAK,IAAI,IAAI,GAAG,EAAE,GAAGA,KAAK;IACrC,CAAC;IACD,IAAI,CAACwM,SAAS,GAAGlG,SAAS;IAC1B,IAAI,CAACqG,WAAW,GAAG,UAAUjD,GAAG,EAAEe,EAAE,EAAEnR,MAAM,EAAE;MAC1C,IAAI,CAACmR,EAAE,CAACmC,GAAG,EACP,OAAOlD,GAAG;MACd,IAAIuB,IAAI,GAAGR,EAAE,CAACQ,IAAI,IAAI,EAAE;MACxB,IAAI4B,EAAE,GAAGpC,EAAE,CAACO,KAAK;MACjB6B,EAAE,GAAG,IAAIC,MAAM,CAACD,EAAE,EAAE5B,IAAI,CAAC/Q,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;MAChD,IAAI6S,SAAS,GAAG,OAAOtC,EAAE,CAACmC,GAAG,IAAI,QAAQ,GAAG,IAAI,CAACR,iBAAiB,CAAC3B,EAAE,CAACmC,GAAG,EAAE,cAAc,CAAC,GAAGnC,EAAE,CAACmC,GAAG;MACnG,IAAII,KAAK,GAAG,IAAI;MAChB,IAAIC,SAAS,GAAGvD,GAAG,CAACxP,OAAO,CAAC2S,EAAE,EAAE,YAAY;QACxC,IAAIK,OAAO,GAAGF,KAAK,CAACR,SAAS,CAACC,EAAE;QAChCO,KAAK,CAACR,SAAS,CAACC,EAAE,GAAG,EAAE,CAAChL,KAAK,CAAC0L,IAAI,CAACC,SAAS,CAAC;QAC7C,IAAIC,QAAQ,GAAGL,KAAK,CAACM,gBAAgB,CAACP,SAAS,EAAEzT,MAAM,CAAC;QACxD,IAAIiU,WAAW,GAAG,GAAG;QACrB,KAAK,IAAIvT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqT,QAAQ,CAAC5M,MAAM,EAAEzG,CAAC,EAAE,EAAE;UACtC,IAAIyQ,EAAE,GAAG4C,QAAQ,CAACrT,CAAC,CAAC;UACpB,IAAI,OAAOyQ,EAAE,IAAI,QAAQ,EAAE;YACvB4C,QAAQ,CAACrT,CAAC,CAAC,GAAG,EAAE;YAChB,IAAIyQ,EAAE,CAACuB,UAAU,IAAIvB,EAAE,CAACwB,KAAK,EAAE;cAC3B,IAAIf,IAAI,GAAGmC,QAAQ,CAACrT,CAAC,GAAG,CAAC,CAAC;cAC1B,IAAIkR,IAAI,IAAI,OAAOA,IAAI,IAAI,QAAQ,EAAE;gBACjC,IAAIT,EAAE,CAACuB,UAAU,IAAI,GAAG,EACpBqB,QAAQ,CAACrT,CAAC,CAAC,GAAGkR,IAAI,CAAC,CAAC,CAAC,CAAC9Q,WAAW,EAAE,CAAC,KAEpCiT,QAAQ,CAACrT,CAAC,CAAC,GAAGkR,IAAI,CAAC,CAAC,CAAC,CAAC/J,WAAW,EAAE;gBACvCkM,QAAQ,CAACrT,CAAC,GAAG,CAAC,CAAC,GAAGkR,IAAI,CAACb,MAAM,CAAC,CAAC,CAAC;cACpC;YACJ,CAAC,MACI,IAAII,EAAE,CAACuB,UAAU,EAAE;cACpBuB,WAAW,GAAG9C,EAAE,CAACuB,UAAU;YAC/B;UACJ,CAAC,MACI,IAAIuB,WAAW,IAAI,GAAG,EAAE;YACzBF,QAAQ,CAACrT,CAAC,CAAC,GAAGyQ,EAAE,CAACrQ,WAAW,EAAE;UAClC,CAAC,MACI,IAAImT,WAAW,IAAI,GAAG,EAAE;YACzBF,QAAQ,CAACrT,CAAC,CAAC,GAAGyQ,EAAE,CAACtJ,WAAW,EAAE;UAClC;QACJ;QACA6L,KAAK,CAACR,SAAS,CAACC,EAAE,GAAGS,OAAO;QAC5B,OAAOG,QAAQ,CAAChI,IAAI,CAAC,EAAE,CAAC;MAC5B,CAAC,CAAC;MACF,OAAO4H,SAAS;IACpB,CAAC;IACD,IAAI,CAACO,gBAAgB,GAAG,UAAU9D,GAAG,EAAEe,EAAE,EAAEnR,MAAM,EAAE;MAC/C,IAAImR,EAAE,CAAC0B,cAAc,IAAI,QAAQ,EAC7B,OAAOzC,GAAG,CAACtP,WAAW,EAAE;MAC5B,IAAIqQ,EAAE,CAAC0B,cAAc,IAAI,UAAU,EAC/B,OAAOzC,GAAG,CAACvI,WAAW,EAAE;MAC5B,OAAOuI,GAAG;IACd,CAAC;IACD,IAAI,CAAC4D,gBAAgB,GAAG,UAAUG,OAAO,EAAEnU,MAAM,EAAE;MAC/C,IAAIsL,MAAM,GAAG,EAAE;MACf,IAAI+B,WAAW,GAAG,EAAE;MACpB,IAAI+G,YAAY,GAAG,IAAI;MACvB,KAAK,IAAI1T,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyT,OAAO,CAAChN,MAAM,EAAEzG,CAAC,EAAE,EAAE;QACrC,IAAIyQ,EAAE,GAAGgD,OAAO,CAACzT,CAAC,CAAC;QACnB,IAAI,OAAOyQ,EAAE,IAAI,QAAQ,EAAE;UACvB7F,MAAM,CAAClK,IAAI,CAAC+P,EAAE,CAAC;UACf,IAAIA,EAAE,IAAI,IAAI,EAAE;YACZiD,YAAY,GAAG,IAAI;YACnB/G,WAAW,GAAG,EAAE;UACpB,CAAC,MACI,IAAI+G,YAAY,EAAE;YACnB/G,WAAW,GAAG,MAAM,CAACY,IAAI,CAACkD,EAAE,CAAC,CAAC,CAAC,CAAC;YAChCiD,YAAY,GAAG,IAAI,CAACvI,IAAI,CAACsF,EAAE,CAAC;UAChC;UACA;QACJ;QACA,IAAI,CAACA,EAAE,EACH;QACJiD,YAAY,GAAG,KAAK;QACpB,IAAIjD,EAAE,CAACM,SAAS,EAAE;UACd,IAAI4C,CAAC,GAAGF,OAAO,CAAC/L,OAAO,CAAC+I,EAAE,EAAEzQ,CAAC,GAAG,CAAC,CAAC;UAClC,IAAI2T,CAAC,IAAI,CAAC,CAAC,EACPA,CAAC,GAAGF,OAAO,CAAChN,MAAM;UACtBgK,EAAE,CAACmC,GAAG,GAAGa,OAAO,CAAChM,KAAK,CAACzH,CAAC,GAAG,CAAC,EAAE2T,CAAC,CAAC;UAChC3T,CAAC,GAAG2T,CAAC;QACT;QACA,IAAIlD,EAAE,CAACzF,IAAI,EAAE;UACT,IAAIhF,KAAK,GAAG,IAAI,CAACuM,gBAAgB,CAACjT,MAAM,EAAEmR,EAAE,CAACzF,IAAI,EAAE2B,WAAW,CAAC,GAAG,EAAE;UACpE,IAAI8D,EAAE,CAACM,SAAS,EACZ/K,KAAK,GAAG,IAAI,CAAC2M,WAAW,CAAC3M,KAAK,EAAEyK,EAAE,EAAEnR,MAAM,CAAC;UAC/C,IAAImR,EAAE,CAAC0B,cAAc,EACjBnM,KAAK,GAAG,IAAI,CAACwN,gBAAgB,CAACxN,KAAK,EAAEyK,EAAE,EAAEnR,MAAM,CAAC;UACpD,IAAI0G,KAAK,IAAI,CAACyK,EAAE,CAACqB,KAAK,EAAE;YACpBlH,MAAM,CAAClK,IAAI,CAACsF,KAAK,CAAC;YAClB4N,QAAQ,CAACnD,EAAE,CAAC;UAChB,CAAC,MACI,IAAI,CAACzK,KAAK,IAAIyK,EAAE,CAACqB,KAAK,EAAE;YACzB8B,QAAQ,CAACnD,EAAE,CAACqB,KAAK,CAAC;UACtB;QACJ,CAAC,MACI,IAAIrB,EAAE,CAACsB,OAAO,EAAE;UACjB6B,QAAQ,CAACnD,EAAE,CAACsB,OAAO,CAAC;QACxB,CAAC,MACI,IAAItB,EAAE,CAACH,SAAS,IAAI,IAAI,EAAE;UAC3B1F,MAAM,CAAClK,IAAI,CAAC+P,EAAE,CAAC;QACnB,CAAC,MACI,IAAIA,EAAE,CAACuB,UAAU,IAAI,IAAI,EAAE;UAC5BpH,MAAM,CAAClK,IAAI,CAAC+P,EAAE,CAAC;QACnB;MACJ;MACA,SAASmD,QAAQ,CAACnD,EAAE,EAAE;QAClB,IAAIoD,EAAE,GAAGJ,OAAO,CAAC/L,OAAO,CAAC+I,EAAE,EAAEzQ,CAAC,GAAG,CAAC,CAAC;QACnC,IAAI6T,EAAE,IAAI,CAAC,CAAC,EACR7T,CAAC,GAAG6T,EAAE;MACd;MACA,OAAOjJ,MAAM;IACjB,CAAC;IACD,IAAI,CAACkJ,yBAAyB,GAAG,UAAUxU,MAAM,EAAEyU,WAAW,EAAE;MAC5D,IAAIvR,MAAM,GAAGlD,MAAM,CAACkM,iBAAiB,EAAE;MACvC,IAAIjD,IAAI,GAAGjJ,MAAM,CAAC+D,OAAO,CAACqD,OAAO,CAAClE,MAAM,CAACyB,GAAG,CAAC;MAC7C,IAAI+P,SAAS,GAAG1U,MAAM,CAAC+D,OAAO,CAAC4Q,YAAY,EAAE;MAC7C,IAAIC,YAAY,GAAG3L,IAAI,CAAC4L,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;MACxC,IAAI3R,MAAM,CAACsJ,MAAM,GAAGoI,YAAY,CAACzN,MAAM,EACnCyN,YAAY,GAAGA,YAAY,CAACzM,KAAK,CAAC,CAAC,EAAEjF,MAAM,CAACsJ,MAAM,CAAC;MACvDiI,WAAW,GAAGA,WAAW,CAAC7T,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MAC5C,IAAI2G,MAAM,GAAG,IAAI,CAACuL,iBAAiB,CAAC2B,WAAW,CAAC;MAChDlN,MAAM,GAAG,IAAI,CAACyM,gBAAgB,CAACzM,MAAM,EAAEvH,MAAM,CAAC;MAC9CuH,MAAM,GAAGA,MAAM,CAAC8K,GAAG,CAAC,UAAUxR,CAAC,EAAE;QAC7B,IAAIA,CAAC,IAAI,IAAI,EACT,OAAOA,CAAC,GAAG+T,YAAY;QAC3B,IAAI,OAAO/T,CAAC,IAAI,QAAQ,EACpB,OAAOA,CAAC,CAACD,OAAO,CAAC,KAAK,EAAE8T,SAAS,CAAC;QACtC,OAAO7T,CAAC;MACZ,CAAC,CAAC;MACF,IAAIiU,QAAQ,GAAG,EAAE;MACjBvN,MAAM,CAACjH,OAAO,CAAC,UAAUyU,CAAC,EAAErU,CAAC,EAAE;QAC3B,IAAI,OAAOqU,CAAC,IAAI,QAAQ,EACpB;QACJ,IAAI9P,EAAE,GAAG8P,CAAC,CAAC/D,SAAS;QACpB,IAAIQ,EAAE,GAAGsD,QAAQ,CAAC7P,EAAE,CAAC;QACrB,IAAI,CAACuM,EAAE,EAAE;UACLA,EAAE,GAAGsD,QAAQ,CAAC7P,EAAE,CAAC,GAAG,EAAE;UACtBuM,EAAE,CAAC3P,KAAK,GAAGoD,EAAE;UACbuM,EAAE,CAAC9K,KAAK,GAAG,EAAE;UACb8K,EAAE,CAACwD,OAAO,GAAG,CAAC,CAAC;QACnB;QACA,IAAIxD,EAAE,CAACpJ,OAAO,CAAC2M,CAAC,CAAC,KAAK,CAAC,CAAC,EACpB;QACJ,IAAIA,CAAC,CAAC7C,OAAO,IAAI,CAACV,EAAE,CAACU,OAAO,EACxBV,EAAE,CAACU,OAAO,GAAG6C,CAAC,CAAC7C,OAAO;QAC1BV,EAAE,CAACpQ,IAAI,CAAC2T,CAAC,CAAC;QACV,IAAIR,EAAE,GAAGhN,MAAM,CAACa,OAAO,CAAC2M,CAAC,EAAErU,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI6T,EAAE,KAAK,CAAC,CAAC,EACT;QACJ,IAAI7N,KAAK,GAAGa,MAAM,CAACY,KAAK,CAACzH,CAAC,GAAG,CAAC,EAAE6T,EAAE,CAAC;QACnC,IAAIU,QAAQ,GAAGvO,KAAK,CAACwO,IAAI,CAAC,UAAUtP,CAAC,EAAE;UAAE,OAAO,OAAOA,CAAC,KAAK,QAAQ;QAAE,CAAC,CAAC;QACzE,IAAIqP,QAAQ,IAAI,CAACzD,EAAE,CAAC9K,KAAK,EAAE;UACvB8K,EAAE,CAAC9K,KAAK,GAAGA,KAAK;QACpB,CAAC,MACI,IAAIA,KAAK,CAACS,MAAM,KAAK,CAACqK,EAAE,CAAC9K,KAAK,IAAI,OAAO8K,EAAE,CAAC9K,KAAK,KAAK,QAAQ,CAAC,EAAE;UAClE8K,EAAE,CAAC9K,KAAK,GAAGA,KAAK,CAACqF,IAAI,CAAC,EAAE,CAAC;QAC7B;MACJ,CAAC,CAAC;MACF+I,QAAQ,CAACxU,OAAO,CAAC,UAAUkR,EAAE,EAAE;QAAEA,EAAE,CAACrK,MAAM,GAAG,CAAC;MAAE,CAAC,CAAC;MAClD,IAAIgO,SAAS,GAAG,CAAC,CAAC;MAClB,SAASC,SAAS,CAAChQ,GAAG,EAAE;QACpB,IAAIiQ,IAAI,GAAG,EAAE;QACb,KAAK,IAAI3U,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0E,GAAG,CAAC+B,MAAM,EAAEzG,CAAC,EAAE,EAAE;UACjC,IAAIqU,CAAC,GAAG3P,GAAG,CAAC1E,CAAC,CAAC;UACd,IAAI,OAAOqU,CAAC,IAAI,QAAQ,EAAE;YACtB,IAAII,SAAS,CAACJ,CAAC,CAAC/D,SAAS,CAAC,EACtB;YACJ,IAAIqD,CAAC,GAAGjP,GAAG,CAACkQ,WAAW,CAACP,CAAC,EAAErU,CAAC,GAAG,CAAC,CAAC;YACjCqU,CAAC,GAAGM,IAAI,CAAChB,CAAC,CAAC,IAAI;cAAErD,SAAS,EAAE+D,CAAC,CAAC/D;YAAU,CAAC;UAC7C;UACAqE,IAAI,CAAC3U,CAAC,CAAC,GAAGqU,CAAC;QACf;QACA,OAAOM,IAAI;MACf;MACA,KAAK,IAAI3U,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6G,MAAM,CAACJ,MAAM,EAAEzG,CAAC,EAAE,EAAE;QACpC,IAAIqU,CAAC,GAAGxN,MAAM,CAAC7G,CAAC,CAAC;QACjB,IAAI,OAAOqU,CAAC,IAAI,QAAQ,EACpB;QACJ,IAAI9P,EAAE,GAAG8P,CAAC,CAAC/D,SAAS;QACpB,IAAIQ,EAAE,GAAGsD,QAAQ,CAAC7P,EAAE,CAAC;QACrB,IAAIsP,EAAE,GAAGhN,MAAM,CAACa,OAAO,CAAC2M,CAAC,EAAErU,CAAC,GAAG,CAAC,CAAC;QACjC,IAAIyU,SAAS,CAAClQ,EAAE,CAAC,EAAE;UACf,IAAIkQ,SAAS,CAAClQ,EAAE,CAAC,KAAK8P,CAAC,EAAE;YACrB,OAAOI,SAAS,CAAClQ,EAAE,CAAC;YACpBsQ,MAAM,CAACzV,IAAI,CAACqV,SAAS,CAAC,CAAC7U,OAAO,CAAC,UAAUkV,QAAQ,EAAE;cAC/ChE,EAAE,CAACwD,OAAO,CAACQ,QAAQ,CAAC,GAAG,IAAI;YAC/B,CAAC,CAAC;UACN;UACA;QACJ;QACAL,SAAS,CAAClQ,EAAE,CAAC,GAAG8P,CAAC;QACjB,IAAIrO,KAAK,GAAG8K,EAAE,CAAC9K,KAAK;QACpB,IAAI,OAAOA,KAAK,KAAK,QAAQ,EACzBA,KAAK,GAAG0O,SAAS,CAAC1O,KAAK,CAAC,CAAC,KACxB,IAAIqO,CAAC,CAACzB,GAAG,EACV5M,KAAK,GAAG,IAAI,CAAC2M,WAAW,CAAC3M,KAAK,EAAEqO,CAAC,EAAE/U,MAAM,CAAC;QAC9CuH,MAAM,CAACkO,MAAM,CAACC,KAAK,CAACnO,MAAM,EAAE,CAAC7G,CAAC,GAAG,CAAC,EAAEwI,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEoL,EAAE,GAAG7T,CAAC,CAAC,CAAC,CAACoB,MAAM,CAAC4E,KAAK,EAAEqO,CAAC,CAAC,CAAC;QAC1E,IAAIvD,EAAE,CAACpJ,OAAO,CAAC2M,CAAC,CAAC,KAAK,CAAC,CAAC,EACpBvD,EAAE,CAACpQ,IAAI,CAAC2T,CAAC,CAAC;MAClB;MACA,IAAIpQ,GAAG,GAAG,CAAC;QAAE6H,MAAM,GAAG,CAAC;MACvB,IAAId,IAAI,GAAG,EAAE;MACbnE,MAAM,CAACjH,OAAO,CAAC,UAAUsF,CAAC,EAAE;QACxB,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAAE;UACvB,IAAI+P,KAAK,GAAG/P,CAAC,CAACwM,KAAK,CAAC,IAAI,CAAC;UACzB,IAAIuD,KAAK,CAACxO,MAAM,GAAG,CAAC,EAAE;YAClBqF,MAAM,GAAGmJ,KAAK,CAACA,KAAK,CAACxO,MAAM,GAAG,CAAC,CAAC,CAACA,MAAM;YACvCxC,GAAG,IAAIgR,KAAK,CAACxO,MAAM,GAAG,CAAC;UAC3B,CAAC,MAEGqF,MAAM,IAAI5G,CAAC,CAACuB,MAAM;UACtBuE,IAAI,IAAI9F,CAAC;QACb,CAAC,MACI,IAAIA,CAAC,EAAE;UACR,IAAI,CAACA,CAAC,CAAClB,KAAK,EACRkB,CAAC,CAAClB,KAAK,GAAG;YAAEC,GAAG,EAAEA,GAAG;YAAE6H,MAAM,EAAEA;UAAO,CAAC,CAAC,KAEvC5G,CAAC,CAAChB,GAAG,GAAG;YAAED,GAAG,EAAEA,GAAG;YAAE6H,MAAM,EAAEA;UAAO,CAAC;QAC5C;MACJ,CAAC,CAAC;MACF,IAAIoJ,KAAK,GAAG5V,MAAM,CAAC6V,iBAAiB,EAAE;MACtC,IAAIjR,GAAG,GAAG5E,MAAM,CAAC+D,OAAO,CAACnD,OAAO,CAACgV,KAAK,EAAElK,IAAI,CAAC;MAC7C,IAAIoK,cAAc,GAAG,IAAIC,cAAc,CAAC/V,MAAM,CAAC;MAC/C,IAAIgW,WAAW,GAAGhW,MAAM,CAACiW,sBAAsB,IAAIjW,MAAM,CAACuE,SAAS,CAAC1C,KAAK;MACzEiU,cAAc,CAACI,WAAW,CAACpB,QAAQ,EAAEc,KAAK,CAAClR,KAAK,EAAEE,GAAG,EAAEoR,WAAW,CAAC;IACvE,CAAC;IACD,IAAI,CAACG,aAAa,GAAG,UAAUnW,MAAM,EAAEyU,WAAW,EAAE;MAChD,IAAI2B,IAAI,GAAG,IAAI;MACf,IAAIpW,MAAM,CAACiW,sBAAsB,EAC7B,OAAOG,IAAI,CAAC5B,yBAAyB,CAACxU,MAAM,EAAEyU,WAAW,CAAC;MAC9DzU,MAAM,CAACqW,gBAAgB,CAAC,YAAY;QAChCD,IAAI,CAAC5B,yBAAyB,CAACxU,MAAM,EAAEyU,WAAW,CAAC;MACvD,CAAC,EAAE,IAAI,EAAE;QAAE6B,SAAS,EAAE;MAAK,CAAC,CAAC;MAC7B,IAAItW,MAAM,CAAC8V,cAAc,EACrB9V,MAAM,CAAC8V,cAAc,CAACS,OAAO,EAAE;IACvC,CAAC;IACD,IAAI,CAACC,SAAS,GAAG,UAAUxW,MAAM,EAAE;MAC/B,IAAIyW,KAAK,GAAGzW,MAAM,CAAC+D,OAAO,CAAC0K,KAAK,CAACiI,GAAG,IAAI,EAAE;MAC1CD,KAAK,GAAGA,KAAK,CAACrE,KAAK,CAAC,GAAG,CAAC,CAACuE,GAAG,EAAE;MAC9B,IAAIF,KAAK,KAAK,MAAM,IAAIA,KAAK,KAAK,KAAK,EAAE;QACrC,IAAIA,KAAK,KAAK,KAAK,IAAI,CAACzW,MAAM,CAAC+D,OAAO,CAAC0K,KAAK,CAACmI,SAAS,EAClDH,KAAK,GAAG,MAAM;QAClB,IAAII,CAAC,GAAG7W,MAAM,CAACkM,iBAAiB,EAAE;QAClC,IAAIoF,KAAK,GAAGtR,MAAM,CAAC+D,OAAO,CAAC+S,QAAQ,CAACD,CAAC,CAAClS,GAAG,CAAC;QAC1C,IAAI,OAAO2M,KAAK,KAAK,QAAQ,EAAE;UAC3BA,KAAK,GAAGA,KAAK,CAAC,CAAC,CAAC;QACpB;QACA,IAAIA,KAAK,CAACyF,SAAS,EAAE;UACjB,IAAIzF,KAAK,CAACyF,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,EAC9BN,KAAK,GAAG,YAAY,CAAC,KACpB,IAAInF,KAAK,CAACyF,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,MAAM,EACpCN,KAAK,GAAG,KAAK,CAAC,KACb,IAAInF,KAAK,CAACyF,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,MAAM,EACpCN,KAAK,GAAG,KAAK;QACrB;MACJ;MACA,OAAOA,KAAK;IAChB,CAAC;IACD,IAAI,CAACO,eAAe,GAAG,UAAUhX,MAAM,EAAE;MACrC,IAAIyW,KAAK,GAAG,IAAI,CAACD,SAAS,CAACxW,MAAM,CAAC;MAClC,IAAIiX,MAAM,GAAG,CAACR,KAAK,CAAC;MACpB,IAAIjG,UAAU,GAAG,IAAI,CAACA,UAAU;MAChC,IAAIA,UAAU,CAACiG,KAAK,CAAC,IAAIjG,UAAU,CAACiG,KAAK,CAAC,CAACS,aAAa,EAAE;QACtDD,MAAM,CAAC7V,IAAI,CAACsU,KAAK,CAACuB,MAAM,EAAEzG,UAAU,CAACiG,KAAK,CAAC,CAACS,aAAa,CAAC;MAC9D;MACAD,MAAM,CAAC7V,IAAI,CAAC,GAAG,CAAC;MAChB,OAAO6V,MAAM;IACjB,CAAC;IACD,IAAI,CAACE,aAAa,GAAG,UAAUnX,MAAM,EAAEoX,OAAO,EAAE;MAC5C,IAAIhB,IAAI,GAAG,IAAI;MACf,IAAI9K,MAAM,GAAGtL,MAAM,CAACqW,gBAAgB,CAAC,YAAY;QAC7C,OAAOD,IAAI,CAACiB,yBAAyB,CAACrX,MAAM,EAAEoX,OAAO,CAAC;MAC1D,CAAC,EAAE,IAAI,EAAE;QAAEd,SAAS,EAAE;MAAK,CAAC,CAAC;MAC7B,IAAIhL,MAAM,IAAItL,MAAM,CAAC8V,cAAc,EAC/B9V,MAAM,CAAC8V,cAAc,CAACS,OAAO,EAAE;MACnC,OAAOjL,MAAM;IACjB,CAAC;IACD,IAAI,CAAC+L,yBAAyB,GAAG,UAAUrX,MAAM,EAAEoX,OAAO,EAAE;MACxD,IAAIlU,MAAM,GAAGlD,MAAM,CAACkM,iBAAiB,EAAE;MACvC,IAAIjD,IAAI,GAAGjJ,MAAM,CAAC+D,OAAO,CAACqD,OAAO,CAAClE,MAAM,CAACyB,GAAG,CAAC;MAC7C,IAAI2S,MAAM,GAAGrO,IAAI,CAAC8N,SAAS,CAAC,CAAC,EAAE7T,MAAM,CAACsJ,MAAM,CAAC;MAC7C,IAAI+K,KAAK,GAAGtO,IAAI,CAAC8H,MAAM,CAAC7N,MAAM,CAACsJ,MAAM,CAAC;MACtC,IAAIgE,UAAU,GAAG,IAAI,CAACA,UAAU;MAChC,IAAI2D,OAAO;MACX,IAAI,CAAC6C,eAAe,CAAChX,MAAM,CAAC,CAACkV,IAAI,CAAC,UAAUuB,KAAK,EAAE;QAC/C,IAAIe,QAAQ,GAAGhH,UAAU,CAACiG,KAAK,CAAC;QAChC,IAAIe,QAAQ,EACRrD,OAAO,GAAG,IAAI,CAACsD,mBAAmB,CAACD,QAAQ,EAAEF,MAAM,EAAEC,KAAK,CAAC;QAC/D,OAAO,CAAC,CAACpD,OAAO;MACpB,CAAC,EAAE,IAAI,CAAC;MACR,IAAI,CAACA,OAAO,EACR,OAAO,KAAK;MAChB,IAAIiD,OAAO,IAAIA,OAAO,CAACM,MAAM,EACzB,OAAO,IAAI;MACf1X,MAAM,CAAC+D,OAAO,CAACiD,GAAG,CAAC2Q,YAAY,CAACzU,MAAM,CAACyB,GAAG,EAAEzB,MAAM,CAACsJ,MAAM,GAAG2H,OAAO,CAACyD,aAAa,CAACzQ,MAAM,EAAEjE,MAAM,CAACsJ,MAAM,GAAG2H,OAAO,CAAC0D,YAAY,CAAC1Q,MAAM,CAAC;MACtI,IAAI,CAAC+L,SAAS,CAAC4E,GAAG,GAAG3D,OAAO,CAAC4D,WAAW;MACxC,IAAI,CAAC7E,SAAS,CAAC8E,GAAG,GAAG7D,OAAO,CAAC8D,UAAU;MACvC,IAAI,CAACzD,yBAAyB,CAACxU,MAAM,EAAEmU,OAAO,CAAClR,OAAO,CAAC;MACvD,IAAI,CAACiQ,SAAS,CAAC4E,GAAG,GAAG,IAAI,CAAC5E,SAAS,CAAC8E,GAAG,GAAG,IAAI;MAC9C,OAAO,IAAI;IACf,CAAC;IACD,IAAI,CAACP,mBAAmB,GAAG,UAAUS,WAAW,EAAEZ,MAAM,EAAEC,KAAK,EAAE;MAC7D,KAAK,IAAI7W,CAAC,GAAGwX,WAAW,CAAC/Q,MAAM,EAAEzG,CAAC,EAAE,GAAG;QACnC,IAAIyX,CAAC,GAAGD,WAAW,CAACxX,CAAC,CAAC;QACtB,IAAIyX,CAAC,CAACC,OAAO,IAAI,CAACD,CAAC,CAACC,OAAO,CAACvM,IAAI,CAACyL,MAAM,CAAC,EACpC;QACJ,IAAIa,CAAC,CAACE,KAAK,IAAI,CAACF,CAAC,CAACE,KAAK,CAACxM,IAAI,CAAC0L,KAAK,CAAC,EAC/B;QACJ,IAAI,CAACY,CAAC,CAACC,OAAO,IAAI,CAACD,CAAC,CAACE,KAAK,EACtB;QACJF,CAAC,CAACJ,WAAW,GAAGI,CAAC,CAACC,OAAO,GAAGD,CAAC,CAACC,OAAO,CAACnK,IAAI,CAACqJ,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC;QACzDa,CAAC,CAACF,UAAU,GAAGE,CAAC,CAACE,KAAK,GAAGF,CAAC,CAACE,KAAK,CAACpK,IAAI,CAACsJ,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC;QACnDY,CAAC,CAACP,aAAa,GAAGO,CAAC,CAACG,SAAS,GAAGH,CAAC,CAACG,SAAS,CAACrK,IAAI,CAACqJ,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;QAChEa,CAAC,CAACN,YAAY,GAAGM,CAAC,CAACI,YAAY,GAAGJ,CAAC,CAACI,YAAY,CAACtK,IAAI,CAACsJ,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;QACpE,OAAOY,CAAC;MACZ;IACJ,CAAC;IACD,IAAI,CAAC3H,UAAU,GAAG,CAAC,CAAC;IACpB,IAAI,CAACC,cAAc,GAAG,CAAC,CAAC;IACxB,IAAI,CAAC+H,QAAQ,GAAG,UAAUhB,QAAQ,EAAEf,KAAK,EAAE;MACvC,IAAIjG,UAAU,GAAG,IAAI,CAACA,UAAU;MAChC,IAAIC,cAAc,GAAG,IAAI,CAACA,cAAc;MACxC,IAAI2F,IAAI,GAAG,IAAI;MACf,IAAI,CAACoB,QAAQ,EACTA,QAAQ,GAAG,EAAE;MACjB,SAASiB,UAAU,CAACC,GAAG,EAAE;QACrB,IAAIA,GAAG,IAAI,CAAC,sBAAsB,CAAC7M,IAAI,CAAC6M,GAAG,CAAC,EACxCA,GAAG,GAAG,KAAK,GAAGA,GAAG,GAAG,GAAG;QAC3B,OAAOA,GAAG,IAAI,EAAE;MACpB;MACA,SAASC,aAAa,CAACpF,EAAE,EAAE7B,KAAK,EAAEkH,OAAO,EAAE;QACvCrF,EAAE,GAAGkF,UAAU,CAAClF,EAAE,CAAC;QACnB7B,KAAK,GAAG+G,UAAU,CAAC/G,KAAK,CAAC;QACzB,IAAIkH,OAAO,EAAE;UACTrF,EAAE,GAAG7B,KAAK,GAAG6B,EAAE;UACf,IAAIA,EAAE,IAAIA,EAAE,CAACA,EAAE,CAACpM,MAAM,GAAG,CAAC,CAAC,IAAI,GAAG,EAC9BoM,EAAE,GAAGA,EAAE,GAAG,GAAG;QACrB,CAAC,MACI;UACDA,EAAE,GAAGA,EAAE,GAAG7B,KAAK;UACf,IAAI6B,EAAE,IAAIA,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,EAClBA,EAAE,GAAG,GAAG,GAAGA,EAAE;QACrB;QACA,OAAO,IAAIC,MAAM,CAACD,EAAE,CAAC;MACzB;MACA,SAASsF,UAAU,CAACV,CAAC,EAAE;QACnB,IAAI,CAACA,CAAC,CAAC1B,KAAK,EACR0B,CAAC,CAAC1B,KAAK,GAAGA,KAAK,IAAI,GAAG;QAC1BA,KAAK,GAAG0B,CAAC,CAAC1B,KAAK;QACf,IAAI,CAACjG,UAAU,CAACiG,KAAK,CAAC,EAAE;UACpBjG,UAAU,CAACiG,KAAK,CAAC,GAAG,EAAE;UACtBhG,cAAc,CAACgG,KAAK,CAAC,GAAG,CAAC,CAAC;QAC9B;QACA,IAAIpE,GAAG,GAAG5B,cAAc,CAACgG,KAAK,CAAC;QAC/B,IAAI0B,CAAC,CAAChX,IAAI,EAAE;UACR,IAAI2X,GAAG,GAAGzG,GAAG,CAAC8F,CAAC,CAAChX,IAAI,CAAC;UACrB,IAAI2X,GAAG,EACH1C,IAAI,CAAC2C,UAAU,CAACD,GAAG,CAAC;UACxBzG,GAAG,CAAC8F,CAAC,CAAChX,IAAI,CAAC,GAAGgX,CAAC;QACnB;QACA3H,UAAU,CAACiG,KAAK,CAAC,CAACrV,IAAI,CAAC+W,CAAC,CAAC;QACzB,IAAIA,CAAC,CAAChM,MAAM,EACRgM,CAAC,CAACa,UAAU,GAAGb,CAAC,CAAChM,MAAM;QAC3B,IAAI,CAACgM,CAAC,CAAClV,OAAO,IAAIkV,CAAC,CAACc,IAAI,EACpBd,CAAC,CAAClV,OAAO,GAAGjC,KAAK,CAACC,OAAO,CAACkX,CAAC,CAACc,IAAI,CAAC,GAAGd,CAAC,CAACc,IAAI,CAAClN,IAAI,CAAC,IAAI,CAAC,GAAGoM,CAAC,CAACc,IAAI;QAClE,IAAId,CAAC,CAACa,UAAU,IAAI,CAACb,CAAC,CAACe,OAAO,EAAE;UAC5B,IAAI,CAACf,CAAC,CAACzG,KAAK,IAAI,KAAK,CAAC7F,IAAI,CAACsM,CAAC,CAACa,UAAU,CAAC,EACpCb,CAAC,CAACzG,KAAK,GAAG,KAAK;UACnByG,CAAC,CAACe,OAAO,GAAGxX,IAAI,CAACyX,YAAY,CAAChB,CAAC,CAACa,UAAU,CAAC;QAC/C;QACA,IAAI,CAACb,CAAC,CAACe,OAAO,IAAI,CAACf,CAAC,CAACzG,KAAK,IAAI,CAACyG,CAAC,CAACiB,UAAU,IAAI,CAACjB,CAAC,CAACkB,QAAQ,EACtD;QACJlB,CAAC,CAACC,OAAO,GAAGO,aAAa,CAACR,CAAC,CAACe,OAAO,EAAEf,CAAC,CAACzG,KAAK,EAAE,IAAI,CAAC;QACnDyG,CAAC,CAACG,SAAS,GAAG,IAAI9E,MAAM,CAAC2E,CAAC,CAACe,OAAO,CAAC;QACnCf,CAAC,CAACE,KAAK,GAAGM,aAAa,CAACR,CAAC,CAACiB,UAAU,EAAEjB,CAAC,CAACkB,QAAQ,EAAE,IAAI,CAAC;QACvDlB,CAAC,CAACI,YAAY,GAAG,IAAI/E,MAAM,CAAC2E,CAAC,CAACiB,UAAU,CAAC;MAC7C;MACA,IAAIpY,KAAK,CAACC,OAAO,CAACuW,QAAQ,CAAC,EAAE;QACzBA,QAAQ,CAAClX,OAAO,CAACuY,UAAU,CAAC;MAChC,CAAC,MACI;QACDtD,MAAM,CAACzV,IAAI,CAAC0X,QAAQ,CAAC,CAAClX,OAAO,CAAC,UAAUK,GAAG,EAAE;UACzCkY,UAAU,CAACrB,QAAQ,CAAC7W,GAAG,CAAC,CAAC;QAC7B,CAAC,CAAC;MACN;MACA,IAAI,CAAC4I,OAAO,CAAC,kBAAkB,EAAE;QAAEkN,KAAK,EAAEA;MAAM,CAAC,CAAC;IACtD,CAAC;IACD,IAAI,CAACsC,UAAU,GAAG,UAAUvB,QAAQ,EAAEf,KAAK,EAAE;MACzC,IAAIjG,UAAU,GAAG,IAAI,CAACA,UAAU;MAChC,IAAIC,cAAc,GAAG,IAAI,CAACA,cAAc;MACxC,SAAS6I,aAAa,CAACnB,CAAC,EAAE;QACtB,IAAIoB,OAAO,GAAG9I,cAAc,CAAC0H,CAAC,CAAC1B,KAAK,IAAIA,KAAK,CAAC;QAC9C,IAAI8C,OAAO,IAAIA,OAAO,CAACpB,CAAC,CAAChX,IAAI,CAAC,EAAE;UAC5B,OAAOoY,OAAO,CAACpB,CAAC,CAAChX,IAAI,CAAC;UACtB,IAAIkR,GAAG,GAAG7B,UAAU,CAAC2H,CAAC,CAAC1B,KAAK,IAAIA,KAAK,CAAC;UACtC,IAAI/V,CAAC,GAAG2R,GAAG,IAAIA,GAAG,CAACjK,OAAO,CAAC+P,CAAC,CAAC;UAC7B,IAAIzX,CAAC,IAAI,CAAC,EACN2R,GAAG,CAACoD,MAAM,CAAC/U,CAAC,EAAE,CAAC,CAAC;QACxB;MACJ;MACA,IAAI8W,QAAQ,CAACvU,OAAO,EAChBqW,aAAa,CAAC9B,QAAQ,CAAC,CAAC,KACvB,IAAIxW,KAAK,CAACC,OAAO,CAACuW,QAAQ,CAAC,EAC5BA,QAAQ,CAAClX,OAAO,CAACgZ,aAAa,CAAC;IACvC,CAAC;IACD,IAAI,CAACE,gBAAgB,GAAG,UAAUpJ,GAAG,EAAE;MACnCA,GAAG,GAAGA,GAAG,CAACxP,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MAC5B,IAAIkI,IAAI,GAAG,EAAE;QAAEqL,OAAO,GAAG,CAAC,CAAC;MAC3B,IAAIZ,EAAE,GAAG,sDAAsD;MAC/D,IAAIkG,CAAC;MACL,OAAOA,CAAC,GAAGlG,EAAE,CAACtF,IAAI,CAACmC,GAAG,CAAC,EAAE;QACrB,IAAIqJ,CAAC,CAAC,CAAC,CAAC,EAAE;UACN,IAAI;YACAtF,OAAO,GAAGuF,IAAI,CAACC,KAAK,CAACF,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1B3Q,IAAI,CAAC1H,IAAI,CAAC+S,OAAO,CAAC;UACtB,CAAC,CACD,OAAO/P,CAAC,EAAE,CAAE;QAChB;QACA,IAAIqV,CAAC,CAAC,CAAC,CAAC,EAAE;UACNtF,OAAO,CAAClR,OAAO,GAAGwW,CAAC,CAAC,CAAC,CAAC,CAAC7Y,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;UAC3CkI,IAAI,CAAC1H,IAAI,CAAC+S,OAAO,CAAC;UAClBA,OAAO,GAAG,CAAC,CAAC;QAChB,CAAC,MACI;UACD,IAAIxT,GAAG,GAAG8Y,CAAC,CAAC,CAAC,CAAC;YAAErU,GAAG,GAAGqU,CAAC,CAAC,CAAC,CAAC;UAC1B,IAAI9Y,GAAG,IAAI,OAAO,EAAE;YAChB,IAAIiZ,OAAO,GAAG,yBAAyB;YACvCzF,OAAO,CAACzC,KAAK,GAAGkI,OAAO,CAAC3L,IAAI,CAAC7I,GAAG,CAAC,CAAC,CAAC,CAAC;YACpC+O,OAAO,CAAC+E,OAAO,GAAGU,OAAO,CAAC3L,IAAI,CAAC7I,GAAG,CAAC,CAAC,CAAC,CAAC;YACtC+O,OAAO,CAACiF,UAAU,GAAGQ,OAAO,CAAC3L,IAAI,CAAC7I,GAAG,CAAC,CAAC,CAAC,CAAC;YACzC+O,OAAO,CAACkF,QAAQ,GAAGO,OAAO,CAAC3L,IAAI,CAAC7I,GAAG,CAAC,CAAC,CAAC,CAAC;UAC3C,CAAC,MACI,IAAIzE,GAAG,IAAI,SAAS,EAAE;YACvBwT,OAAO,CAAC6E,UAAU,GAAG5T,GAAG,CAACyP,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,CAACV,OAAO,CAAChT,IAAI,EACbgT,OAAO,CAAChT,IAAI,GAAGiE,GAAG;UAC1B,CAAC,MACI,IAAIzE,GAAG,EAAE;YACVwT,OAAO,CAACxT,GAAG,CAAC,GAAGyE,GAAG;UACtB;QACJ;MACJ;MACA,OAAO0D,IAAI;IACf,CAAC;IACD,IAAI,CAAC+Q,gBAAgB,GAAG,UAAU1Y,IAAI,EAAEnB,MAAM,EAAE;MAC5C,IAAIwQ,UAAU,GAAG,IAAI,CAACC,cAAc;MACpC,IAAI0D,OAAO;MACX,IAAI,CAAC6C,eAAe,CAAChX,MAAM,CAAC,CAACkV,IAAI,CAAC,UAAUuB,KAAK,EAAE;QAC/C,IAAIe,QAAQ,GAAGhH,UAAU,CAACiG,KAAK,CAAC;QAChC,IAAIe,QAAQ,EACRrD,OAAO,GAAGqD,QAAQ,CAACrW,IAAI,CAAC;QAC5B,OAAO,CAAC,CAACgT,OAAO;MACpB,CAAC,EAAE,IAAI,CAAC;MACR,OAAOA,OAAO;IAClB,CAAC;EACL,CAAC,EAAEN,IAAI,CAACtD,cAAc,CAACuJ,SAAS,CAAC;EACjC,IAAI/D,cAAc,GAAG,UAAU/V,MAAM,EAAE;IACnC,IAAIA,MAAM,CAAC8V,cAAc,EACrB,OAAO9V,MAAM,CAAC8V,cAAc;IAChC9V,MAAM,CAAC8V,cAAc,GAAG,IAAI;IAC5B,IAAI,CAACiE,SAAS,GAAG,IAAI,CAACC,QAAQ,CAACvN,IAAI,CAAC,IAAI,CAAC;IACzC,IAAI,CAACwN,kBAAkB,GAAGvY,IAAI,CAACwY,WAAW,CAAC,IAAI,CAACC,iBAAiB,CAAC1N,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC2N,QAAQ;IACtF,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACC,eAAe,CAAC7N,IAAI,CAAC,IAAI,CAAC;IACvD,IAAI,CAAC8N,YAAY,GAAG,IAAI,CAACC,WAAW,CAAC/N,IAAI,CAAC,IAAI,CAAC;IAC/C,IAAI,CAACgO,MAAM,CAACza,MAAM,CAAC;EACvB,CAAC;EACD,CAAC,YAAY;IACT,IAAI,CAACya,MAAM,GAAG,UAAUza,MAAM,EAAE;MAC5B,IAAI,CAAC6B,KAAK,GAAG,CAAC;MACd,IAAI,CAAC6Y,MAAM,GAAG,EAAE;MAChB,IAAI,CAAC5F,QAAQ,GAAG,EAAE;MAClB,IAAI,CAAC6F,aAAa,GAAG,IAAI;MACzB,IAAI,CAACC,eAAe,GAAG,IAAI;MAC3B,IAAI,CAAC5a,MAAM,GAAGA,MAAM;MACpB,IAAI,CAACA,MAAM,CAACmE,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC4V,SAAS,CAAC;MACxC,IAAI,CAAC/Z,MAAM,CAACmE,EAAE,CAAC,iBAAiB,EAAE,IAAI,CAAC8V,kBAAkB,CAAC;MAC1D,IAAI,CAACja,MAAM,CAACmE,EAAE,CAAC,eAAe,EAAE,IAAI,CAACkW,gBAAgB,CAAC;MACtD,IAAI,CAACra,MAAM,CAACe,QAAQ,CAACoD,EAAE,CAAC,WAAW,EAAE,IAAI,CAACoW,YAAY,CAAC;MACvD,IAAI,CAACva,MAAM,CAACI,UAAU,CAACya,kBAAkB,CAAC,IAAI,CAACC,eAAe,CAAC;IACnE,CAAC;IACD,IAAI,CAACC,MAAM,GAAG,YAAY;MACtB,IAAI,CAACjG,QAAQ,CAACxU,OAAO,CAAC,IAAI,CAAC0a,oBAAoB,EAAE,IAAI,CAAC;MACtD,IAAI,CAACN,MAAM,GAAG,IAAI;MAClB,IAAI,CAAC5F,QAAQ,GAAG,IAAI;MACpB,IAAI,CAAC8F,eAAe,GAAG,IAAI;MAC3B,IAAI,CAAC5a,MAAM,CAACib,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAClB,SAAS,CAAC;MACpD,IAAI,CAAC/Z,MAAM,CAACib,cAAc,CAAC,iBAAiB,EAAE,IAAI,CAAChB,kBAAkB,CAAC;MACtE,IAAI,CAACja,MAAM,CAACib,cAAc,CAAC,eAAe,EAAE,IAAI,CAACZ,gBAAgB,CAAC;MAClE,IAAI,CAACra,MAAM,CAACe,QAAQ,CAACka,cAAc,CAAC,WAAW,EAAE,IAAI,CAACV,YAAY,CAAC;MACnE,IAAI,CAACva,MAAM,CAACI,UAAU,CAAC8a,qBAAqB,CAAC,IAAI,CAACJ,eAAe,CAAC;MAClE,IAAI,CAAC9a,MAAM,CAAC8V,cAAc,GAAG,IAAI;MACjC,IAAI,CAAC9V,MAAM,GAAG,IAAI;IACtB,CAAC;IACD,IAAI,CAACga,QAAQ,GAAG,UAAUmB,KAAK,EAAE;MAC7B,IAAIC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG;MACrC,IAAIT,eAAe,GAAG,IAAI,CAACA,eAAe,IAAI,CAAC,CAAC;MAChD,IAAI5F,OAAO,GAAG4F,eAAe,CAAC5F,OAAO,IAAI,CAAC,CAAC;MAC3C,IAAIF,QAAQ,GAAG,CAAC,IAAI,CAACA,QAAQ,IAAI,EAAE,EAAE3M,KAAK,EAAE;MAC5C,KAAK,IAAIzH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoU,QAAQ,CAAC3N,MAAM,EAAEzG,CAAC,EAAE,EAAE;QACtC,IAAI8Q,EAAE,GAAGsD,QAAQ,CAACpU,CAAC,CAAC;QACpB,IAAI4a,MAAM,GAAG9J,EAAE,IAAIoJ,eAAe,IAAI5F,OAAO,CAACxD,EAAE,CAAC3P,KAAK,CAAC;QACvD2P,EAAE,CAAC+J,SAAS,CAACC,KAAK,GAAGF,MAAM,GAAG,CAAC,GAAG,CAAC;QACnC,IAAIH,KAAK,CAACE,MAAM,IAAI,QAAQ,IAAI7J,EAAE,KAAKoJ,eAAe,EAAE;UACpD,IAAIa,YAAY,GAAGjK,EAAE,CAACwD,OAAO,IAAIxD,EAAE,CAACwD,OAAO,CAAC4F,eAAe,CAAC/Y,KAAK,CAAC;UAClE,IAAI6Z,UAAU,GAAGlK,EAAE,CAAC+J,SAAS,CAACI,UAAU,CAACR,KAAK,CAACzW,KAAK,EAAE+W,YAAY,CAAC;UACnEC,UAAU,GAAGA,UAAU,GAAG,CAAC,GAAG,CAACA,UAAU,GAAG,CAAC,GAAGA,UAAU,GAAG,CAAC;UAC9D,IAAIE,QAAQ,GAAGpK,EAAE,CAAC+J,SAAS,CAACI,UAAU,CAACR,KAAK,CAACvW,GAAG,EAAE6W,YAAY,CAAC;UAC/DG,QAAQ,GAAGA,QAAQ,GAAG,CAAC,GAAG,CAACA,QAAQ,GAAG,CAAC,GAAGA,QAAQ,GAAG,CAAC;UACtD,IAAIC,QAAQ,GAAGrK,EAAE,CAAC+J,SAAS,CAACb,MAAM,CAACvS,KAAK,CAACuT,UAAU,EAAEE,QAAQ,CAAC;UAC9D,KAAK,IAAIvH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwH,QAAQ,CAAC1U,MAAM,EAAEkN,CAAC,EAAE,EACpC,IAAI,CAACyH,WAAW,CAACD,QAAQ,CAACxH,CAAC,CAAC,CAAC;QACrC;QACA7C,EAAE,CAAC+J,SAAS,CAACxB,SAAS,CAACoB,KAAK,CAAC;MACjC;MACA,IAAIpX,OAAO,GAAG,IAAI,CAAC/D,MAAM,CAAC+D,OAAO;MACjC,IAAI,CAAC,IAAI,CAACgY,SAAS,IAAIX,QAAQ,IAAIrX,OAAO,CAACkD,SAAS,EAAE,IAAI,CAAC,IAAI,CAAClD,OAAO,CAACiY,QAAQ,EAAE,EAC9E,IAAI,CAACjB,MAAM,EAAE;IACrB,CAAC;IACD,IAAI,CAACkB,kBAAkB,GAAG,YAAY;MAClC,IAAIzK,EAAE,GAAG,IAAI,CAACoJ,eAAe;MAC7B,IAAI,CAACpJ,EAAE,IAAI,CAACA,EAAE,CAAC0K,eAAe,IAAI,CAAC1K,EAAE,CAAC2K,cAAc,EAChD;MACJ,IAAI,CAACJ,SAAS,GAAG,IAAI;MACrB,IAAIhY,OAAO,GAAG,IAAI,CAAC/D,MAAM,CAAC+D,OAAO;MACjC,IAAI2H,IAAI,GAAG3H,OAAO,CAACmJ,YAAY,CAACsE,EAAE,CAAC2K,cAAc,CAAC;MAClD,KAAK,IAAIzb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8Q,EAAE,CAACrK,MAAM,EAAEzG,CAAC,EAAE,EAAE;QAChC,IAAIkV,KAAK,GAAGpE,EAAE,CAAC9Q,CAAC,CAAC;QACjB,IAAI,CAACkV,KAAK,CAACwG,MAAM,EACb;QACJ,IAAIC,QAAQ,GAAGzG,KAAK,CAACyG,QAAQ;QAC7B,IAAI/I,GAAG,GAAG1T,OAAO,CAAC0c,cAAc,CAACjJ,WAAW,CAAC3H,IAAI,EAAE2Q,QAAQ,EAAE,IAAI,CAACrc,MAAM,CAAC;QACzE+D,OAAO,CAACnD,OAAO,CAACgV,KAAK,EAAEtC,GAAG,CAAC;MAC/B;MACA,IAAI,CAACyI,SAAS,GAAG,KAAK;IAC1B,CAAC;IACD,IAAI,CAACvB,WAAW,GAAG,UAAUpW,CAAC,EAAE;MAC5B,IAAIA,CAAC,CAAClD,OAAO,IAAI,CAACkD,CAAC,CAAClD,OAAO,CAACqb,QAAQ,EAChC,IAAI,CAACN,kBAAkB,EAAE;IACjC,CAAC;IACD,IAAI,CAAC9B,iBAAiB,GAAG,YAAY;MACjC,IAAI,CAAC,IAAI,CAACna,MAAM,EACZ;MACJ,IAAIwJ,IAAI,GAAG,IAAI,CAACxJ,MAAM,CAACuE,SAAS,CAACiF,IAAI;MACrC,IAAIgT,MAAM,GAAG,IAAI,CAACxc,MAAM,CAACuE,SAAS,CAACiY,MAAM;MACzC,IAAIC,OAAO,GAAG,IAAI,CAACzc,MAAM,CAACuE,SAAS,CAACkY,OAAO,EAAE;MAC7C,KAAK,IAAI/b,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACga,MAAM,CAACvT,MAAM,EAAEzG,CAAC,EAAE,EAAE;QACzC,IAAI,IAAI,CAACga,MAAM,CAACha,CAAC,CAAC,CAAC0b,MAAM,EACrB;QACJ,IAAIM,YAAY,GAAG,IAAI,CAAChC,MAAM,CAACha,CAAC,CAAC,CAACic,QAAQ,CAACnT,IAAI,CAAC7E,GAAG,EAAE6E,IAAI,CAACgD,MAAM,CAAC;QACjE,IAAIoQ,cAAc,GAAGH,OAAO,IAAI,IAAI,CAAC/B,MAAM,CAACha,CAAC,CAAC,CAACic,QAAQ,CAACH,MAAM,CAAC7X,GAAG,EAAE6X,MAAM,CAAChQ,MAAM,CAAC;QAClF,IAAIkQ,YAAY,IAAIE,cAAc,EAC9B;MACR;MACA,IAAI,CAAC7B,MAAM,EAAE;IACjB,CAAC;IACD,IAAI,CAACT,eAAe,GAAG,YAAY;MAC/B,IAAI,CAACS,MAAM,EAAE;IACjB,CAAC;IACD,IAAI,CAACxE,OAAO,GAAG,UAAUsG,GAAG,EAAE;MAC1B,IAAI1T,GAAG,GAAG,IAAI,CAAC2L,QAAQ,CAAC3N,MAAM;MAC9B,IAAItF,KAAK,GAAG,IAAI,CAACA,KAAK,IAAIgb,GAAG,IAAI,CAAC,CAAC;MACnChb,KAAK,GAAGqH,IAAI,CAACE,GAAG,CAACF,IAAI,CAACC,GAAG,CAACtH,KAAK,EAAE,CAAC,CAAC,EAAEsH,GAAG,CAAC;MACzC,IAAItH,KAAK,IAAIsH,GAAG,EACZtH,KAAK,GAAG,CAAC;MACb,IAAI,CAACib,aAAa,CAACjb,KAAK,CAAC;MACzB,IAAIA,KAAK,KAAK,CAAC,EACX,IAAI,CAACkZ,MAAM,EAAE;IACrB,CAAC;IACD,IAAI,CAAC+B,aAAa,GAAG,UAAUjb,KAAK,EAAE;MAClC,IAAI,CAAC8Y,aAAa,GAAG,IAAI;MACzB,IAAInJ,EAAE,GAAG,IAAI,CAACsD,QAAQ,CAAC,IAAI,CAACjT,KAAK,CAAC;MAClC,IAAI2P,EAAE,EACF,IAAI,CAACuL,iBAAiB,CAACvL,EAAE,CAAC;MAC9B,IAAI,CAAC3P,KAAK,GAAGA,KAAK;MAClB2P,EAAE,GAAG,IAAI,CAACsD,QAAQ,CAAC,IAAI,CAACjT,KAAK,CAAC;MAC9B,IAAI,CAAC2P,EAAE,IAAI,CAACA,EAAE,CAACrK,MAAM,EACjB;MACJ,IAAI,CAACyT,eAAe,GAAGpJ,EAAE;MACzB,IAAIoE,KAAK,GAAGpE,EAAE,CAAC2K,cAAc,IAAI3K,EAAE;MACnC,IAAIA,EAAE,CAACU,OAAO,EACV0D,KAAK,CAAC1S,MAAM,GAAG0S,KAAK,CAAClR,KAAK;MAC9B,IAAI,CAAC,IAAI,CAAC1E,MAAM,CAACiW,sBAAsB,EAAE;QACrC,IAAI+G,GAAG,GAAG,IAAI,CAAChd,MAAM,CAACid,WAAW;QACjCD,GAAG,CAACE,aAAa,CAACtH,KAAK,CAAC;QACxB,KAAK,IAAIlV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8Q,EAAE,CAACrK,MAAM,EAAEzG,CAAC,EAAE,EAAE;UAChC,IAAI8Q,EAAE,CAAC0K,eAAe,IAAI1K,EAAE,CAAC9Q,CAAC,CAAC,CAAC0b,MAAM,EAClC;UACJY,GAAG,CAACG,QAAQ,CAAC3L,EAAE,CAAC9Q,CAAC,CAAC,CAAC0c,KAAK,EAAE,EAAE,IAAI,CAAC;QACrC;MACJ,CAAC,MACI;QACD,IAAI,CAACpd,MAAM,CAACuE,SAAS,CAAC8Y,iBAAiB,CAACzH,KAAK,CAAC;MAClD;MACA,IAAI,CAAC5V,MAAM,CAACI,UAAU,CAACya,kBAAkB,CAAC,IAAI,CAACC,eAAe,CAAC;MAC/D,IAAI,IAAI,CAACF,eAAe,IAAI,IAAI,CAACA,eAAe,CAAC1I,OAAO,EACpD,IAAI,CAAClS,MAAM,CAACsd,WAAW,CAAC,mBAAmB,EAAE;QAAEC,OAAO,EAAE,IAAI,CAAC3C,eAAe,CAAC1I;MAAQ,CAAC,CAAC;IAC/F,CAAC;IACD,IAAI,CAACgE,WAAW,GAAG,UAAUpB,QAAQ,EAAEpQ,KAAK,EAAEE,GAAG,EAAE;MAC/C,IAAI4Y,OAAO,GAAG,IAAI,CAACA,OAAO,IAAI,CAAC,IAAI,CAACxd,MAAM,CAACyd,SAAS,CAAC,mBAAmB,CAAC;MACzE,IAAI,CAAC,IAAI,CAAC9C,aAAa,EACnB,IAAI,CAACA,aAAa,GAAG,EAAE;MAC3B,IAAI,CAAC7F,QAAQ,CAAC,CAAC,CAAC,EAAE;QACd,IAAIC,CAAC,GAAGvT,KAAK,CAACkc,UAAU,CAAC9Y,GAAG,EAAEA,GAAG,CAAC;QAClC+Y,YAAY,CAAC5I,CAAC,CAACrQ,KAAK,EAAEA,KAAK,CAAC;QAC5BiZ,YAAY,CAAC5I,CAAC,CAACnQ,GAAG,EAAEF,KAAK,CAAC;QAC1BoQ,QAAQ,CAAC,CAAC,CAAC,GAAG,CAACC,CAAC,CAAC;QACjBD,QAAQ,CAAC,CAAC,CAAC,CAACjT,KAAK,GAAG,CAAC;MACzB;MACA,IAAInB,CAAC,GAAG,IAAI,CAACmB,KAAK;MAClB,IAAI+b,GAAG,GAAG,CAACld,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;MACpB,IAAIga,MAAM,GAAG,IAAI,CAACA,MAAM;MACxB5F,QAAQ,CAACxU,OAAO,CAAC,UAAUkR,EAAE,EAAE3P,KAAK,EAAE;QAClC,IAAIgc,IAAI,GAAG,IAAI,CAAClD,aAAa,CAAC9Y,KAAK,CAAC,IAAI2P,EAAE;QAC1C,KAAK,IAAI9Q,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8Q,EAAE,CAACrK,MAAM,EAAEzG,CAAC,EAAE,EAAE;UAChC,IAAIqU,CAAC,GAAGvD,EAAE,CAAC9Q,CAAC,CAAC;UACb,IAAIkV,KAAK,GAAGpU,KAAK,CAACkc,UAAU,CAAC3I,CAAC,CAACrQ,KAAK,EAAEqQ,CAAC,CAACnQ,GAAG,IAAImQ,CAAC,CAACrQ,KAAK,CAAC;UACvDoZ,SAAS,CAAClI,KAAK,CAAClR,KAAK,EAAEA,KAAK,CAAC;UAC7BoZ,SAAS,CAAClI,KAAK,CAAChR,GAAG,EAAEF,KAAK,CAAC;UAC3BkR,KAAK,CAACyG,QAAQ,GAAGtH,CAAC;UAClBa,KAAK,CAACmI,OAAO,GAAGF,IAAI;UACpBnD,MAAM,CAACtZ,IAAI,CAACwU,KAAK,CAAC;UAClB,IAAIiI,IAAI,IAAIrM,EAAE,EACVqM,IAAI,CAAC/L,OAAO,CAAC8D,KAAK,CAAC,CAAC,KAEpBiI,IAAI,CAACnd,CAAC,CAAC,GAAGkV,KAAK;UACnB,IAAIb,CAAC,CAACtD,SAAS,IAAKoM,IAAI,CAAC1B,cAAc,IAAIqB,OAAQ,EAAE;YACjD5H,KAAK,CAACwG,MAAM,GAAG,IAAI;YACnByB,IAAI,CAAC3B,eAAe,GAAG,IAAI;UAC/B,CAAC,MACI,IAAI,CAAC2B,IAAI,CAAC1B,cAAc,EACzB0B,IAAI,CAAC1B,cAAc,GAAGvG,KAAK;QACnC;QACA,IAAI,CAACiI,IAAI,CAAC1B,cAAc,EACpB0B,IAAI,CAAC3B,eAAe,GAAG,KAAK;QAChC,IAAI2B,IAAI,KAAKrM,EAAE,EAAE;UACboM,GAAG,CAACxc,IAAI,CAACyc,IAAI,CAAC;UACd,IAAI,CAAClD,aAAa,CAAC9Y,KAAK,CAAC,GAAGgc,IAAI;QACpC;QACA,IAAI,CAACd,iBAAiB,CAACc,IAAI,CAAC;QAC5BA,IAAI,CAACtC,SAAS,GAAGsC,IAAI,CAACtC,SAAS,IAAI,IAAI3O,SAAS,EAAE;QAClDiR,IAAI,CAACtC,SAAS,CAACC,KAAK,GAAG,CAAC;QACxBqC,IAAI,CAACtC,SAAS,CAACyC,OAAO,CAACH,IAAI,CAAC;MAChC,CAAC,EAAE,IAAI,CAAC;MACR,IAAID,GAAG,CAACzW,MAAM,GAAG,CAAC,EAAE;QAChB,IAAI,IAAI,CAAC2N,QAAQ,CAAC3N,MAAM,EACpByW,GAAG,CAACxc,IAAI,CAACwc,GAAG,CAACnI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,IAAI,CAACX,QAAQ,CAACW,MAAM,CAACC,KAAK,CAAC,IAAI,CAACZ,QAAQ,EAAE8I,GAAG,CAAC;MAClD;IACJ,CAAC;IACD,IAAI,CAACb,iBAAiB,GAAG,UAAUvL,EAAE,EAAE;MACnC,IAAIzN,OAAO,GAAG,IAAI,CAAC/D,MAAM,CAAC+D,OAAO;MACjCyN,EAAE,CAAClR,OAAO,CAAC,UAAUsV,KAAK,EAAE;QACxB,IAAI,CAACA,KAAK,CAACqI,QAAQ,EACfrI,KAAK,CAACqI,QAAQ,GAAGla,OAAO,CAACmB,SAAS,CAAC0Q,KAAK,EAAE,oBAAoB,EAAE,MAAM,CAAC;MAC/E,CAAC,CAAC;IACN,CAAC;IACD,IAAI,CAACoF,oBAAoB,GAAG,UAAUxJ,EAAE,EAAE;MACtC,IAAIzN,OAAO,GAAG,IAAI,CAAC/D,MAAM,CAAC+D,OAAO;MACjCyN,EAAE,CAAClR,OAAO,CAAC,UAAUsV,KAAK,EAAE;QACxB7R,OAAO,CAACsB,YAAY,CAACuQ,KAAK,CAACqI,QAAQ,CAAC;QACpCrI,KAAK,CAACqI,QAAQ,GAAG,IAAI;MACzB,CAAC,CAAC;IACN,CAAC;IACD,IAAI,CAACnC,WAAW,GAAG,UAAUlG,KAAK,EAAE;MAChC,IAAIlV,CAAC,GAAGkV,KAAK,CAACmI,OAAO,CAAC3V,OAAO,CAACwN,KAAK,CAAC;MACpC,IAAIlV,CAAC,IAAI,CAAC,CAAC,EACPkV,KAAK,CAACmI,OAAO,CAACtI,MAAM,CAAC/U,CAAC,EAAE,CAAC,CAAC;MAC9BA,CAAC,GAAG,IAAI,CAACga,MAAM,CAACtS,OAAO,CAACwN,KAAK,CAAC;MAC9B,IAAIlV,CAAC,IAAI,CAAC,CAAC,EACP,IAAI,CAACga,MAAM,CAACjF,MAAM,CAAC/U,CAAC,EAAE,CAAC,CAAC;MAC5BA,CAAC,GAAGkV,KAAK,CAACmI,OAAO,CAACxC,SAAS,CAACb,MAAM,CAACtS,OAAO,CAACwN,KAAK,CAAC;MACjD,IAAIlV,CAAC,IAAI,CAAC,CAAC,EACPkV,KAAK,CAACmI,OAAO,CAACtI,MAAM,CAAC/U,CAAC,EAAE,CAAC,CAAC;MAC9B,IAAI,CAACV,MAAM,CAAC+D,OAAO,CAACsB,YAAY,CAACuQ,KAAK,CAACqI,QAAQ,CAAC;MAChD,IAAI,CAACrI,KAAK,CAACmI,OAAO,CAAC5W,MAAM,EAAE;QACvBzG,CAAC,GAAG,IAAI,CAACoU,QAAQ,CAAC1M,OAAO,CAACwN,KAAK,CAACmI,OAAO,CAAC;QACxC,IAAIrd,CAAC,IAAI,CAAC,CAAC,EACP,IAAI,CAACoU,QAAQ,CAACW,MAAM,CAAC/U,CAAC,EAAE,CAAC,CAAC;QAC9B,IAAI,CAAC,IAAI,CAACoU,QAAQ,CAAC3N,MAAM,EACrB,IAAI,CAAC4T,MAAM,EAAE;MACrB;IACJ,CAAC;IACD,IAAI,CAACD,eAAe,GAAG,IAAIjO,WAAW,EAAE;IACxC,IAAI,CAACiO,eAAe,CAACoD,QAAQ,CAAC;MAC1B,KAAK,EAAE,UAAUle,MAAM,EAAE;QACrB,IAAIJ,OAAO,CAAC0c,cAAc,IAAI1c,OAAO,CAAC0c,cAAc,CAACnF,aAAa,CAACnX,MAAM,CAAC,EACtE;QACJA,MAAM,CAAC8V,cAAc,CAACS,OAAO,CAAC,CAAC,CAAC;QAChCvW,MAAM,CAACiC,QAAQ,CAACwH,oBAAoB,EAAE;MAC1C,CAAC;MACD,WAAW,EAAE,UAAUzJ,MAAM,EAAE;QAC3BA,MAAM,CAAC8V,cAAc,CAACS,OAAO,CAAC,CAAC,CAAC,CAAC;QACjCvW,MAAM,CAACiC,QAAQ,CAACwH,oBAAoB,EAAE;MAC1C,CAAC;MACD,KAAK,EAAE,UAAUzJ,MAAM,EAAE;QACrBA,MAAM,CAAC8V,cAAc,CAACiF,MAAM,EAAE;MAClC;IACJ,CAAC,CAAC;EACN,CAAC,EAAElH,IAAI,CAACkC,cAAc,CAAC+D,SAAS,CAAC;EACjC,IAAIgE,SAAS,GAAG,UAAUK,KAAK,EAAEC,IAAI,EAAE;IACnC,IAAID,KAAK,CAACxZ,GAAG,IAAI,CAAC,EACdwZ,KAAK,CAAC3R,MAAM,IAAI4R,IAAI,CAAC5R,MAAM;IAC/B2R,KAAK,CAACxZ,GAAG,IAAIyZ,IAAI,CAACzZ,GAAG;EACzB,CAAC;EACD,IAAIgZ,YAAY,GAAG,UAAUQ,KAAK,EAAEzZ,KAAK,EAAE;IACvC,IAAIyZ,KAAK,CAACxZ,GAAG,IAAID,KAAK,CAACC,GAAG,EACtBwZ,KAAK,CAAC3R,MAAM,IAAI9H,KAAK,CAAC8H,MAAM;IAChC2R,KAAK,CAACxZ,GAAG,IAAID,KAAK,CAACC,GAAG;EAC1B,CAAC;EACDhD,GAAG,CAACoJ,eAAe,CAAC,mNAAmN,EAAE,cAAc,EAAE,KAAK,CAAC;EAC/PnL,OAAO,CAAC0c,cAAc,GAAG,IAAI/L,cAAc,EAAE;EAC7C,IAAIhP,MAAM,GAAG5B,OAAO,CAAC,UAAU,CAAC,CAAC4B,MAAM;EACvC,CAAC,YAAY;IACT,IAAI,CAAC4U,aAAa,GAAG,UAAUlT,OAAO,EAAEmU,OAAO,EAAE;MAC7C,OAAOxX,OAAO,CAAC0c,cAAc,CAACnG,aAAa,CAAC,IAAI,EAAElT,OAAO,EAAEmU,OAAO,CAAC;IACvE,CAAC;IACD,IAAI,CAACiH,aAAa,GAAG,UAAUjH,OAAO,EAAE;MACpC,OAAOxX,OAAO,CAAC0c,cAAc,CAACnF,aAAa,CAAC,IAAI,EAAEC,OAAO,CAAC;IAC9D,CAAC;EACL,CAAC,EAAEvD,IAAI,CAACtS,MAAM,CAACuY,SAAS,CAAC;AAEzB,CAAC,CAAC;AAEFra,GAAG,CAACC,MAAM,CAAC,kBAAkB,EAAC,CAAC,SAAS,EAAC,SAAS,EAAC,QAAQ,EAAC,2BAA2B,EAAC,wBAAwB,EAAC,wBAAwB,EAAC,uBAAuB,EAAC,cAAc,EAAC,aAAa,EAAC,cAAc,EAAC,YAAY,CAAC,EAAE,UAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAAC,YAAY;;EAC5Q,IAAIgN,WAAW,GAAGlN,OAAO,CAAC,yBAAyB,CAAC,CAACkN,WAAW;EAChE,IAAInK,QAAQ,GAAG/C,OAAO,CAAC,sBAAsB,CAAC,CAAC+C,QAAQ;EACvD,IAAId,SAAS,GAAGjC,OAAO,CAAC,sBAAsB,CAAC,CAACiC,SAAS;EACzD,IAAI0c,IAAI,GAAG3e,OAAO,CAAC,qBAAqB,CAAC;EACzC,IAAI+B,IAAI,GAAG/B,OAAO,CAAC,YAAY,CAAC;EAChC,IAAIgC,GAAG,GAAGhC,OAAO,CAAC,WAAW,CAAC;EAC9B,IAAI2c,cAAc,GAAG3c,OAAO,CAAC,YAAY,CAAC,CAAC2c,cAAc;EACzD,IAAItW,MAAM,GAAGrG,OAAO,CAAC,UAAU,CAAC;EAChC,IAAI4e,YAAY,GAAG,YAAY;IAC3B,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAAC5V,UAAU,GAAG,IAAI;IACtB,IAAI,CAAC6V,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,mBAAmB,GAAG,CAAC;IAC5B,IAAI,CAAC5D,eAAe,GAAG,IAAIjO,WAAW,EAAE;IACxC,IAAI,CAACiO,eAAe,CAACoD,QAAQ,CAAC,IAAI,CAACnd,QAAQ,CAAC;IAC5C,IAAI,CAAC4d,YAAY,GAAG,IAAI,CAACA,YAAY,CAAClS,IAAI,CAAC,IAAI,CAAC;IAChD,IAAI,CAACmS,cAAc,GAAG,IAAI,CAACA,cAAc,CAACnS,IAAI,CAAC,IAAI,CAAC;IACpD,IAAI,CAACoS,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACpS,IAAI,CAAC,IAAI,CAAC;IAC1D,IAAI,CAACqS,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,CAACrS,IAAI,CAAC,IAAI,CAAC;IAC5D,IAAI,CAACsS,WAAW,GAAGrd,IAAI,CAACwY,WAAW,CAAC,YAAY;MAC5C,IAAI,CAAC8E,iBAAiB,CAAC,IAAI,CAAC;IAChC,CAAC,CAACvS,IAAI,CAAC,IAAI,CAAC,CAAC;IACb,IAAI,CAACwS,YAAY,GAAGvd,IAAI,CAACwY,WAAW,CAAC,IAAI,CAACgF,gBAAgB,CAACzS,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;EAC9E,CAAC;EACD,CAAC,YAAY;IACT,IAAI,CAAC0S,KAAK,GAAG,YAAY;MACrB,IAAI,CAACtc,KAAK,GAAG,IAAIH,QAAQ,CAACwD,QAAQ,CAAC+S,IAAI,IAAI/S,QAAQ,CAACkZ,eAAe,CAAC;MACpE,IAAI,CAACvc,KAAK,CAACsB,EAAE,CAAC,OAAO,EAAE,UAAUC,CAAC,EAAE;QAChC,IAAI,CAACib,WAAW,EAAE;QAClBjb,CAAC,CAACS,IAAI,EAAE;MACZ,CAAC,CAAC4H,IAAI,CAAC,IAAI,CAAC,CAAC;MACb,IAAI,CAAC5J,KAAK,CAACW,KAAK,GAAG,IAAI,CAACxD,MAAM,CAACwD,KAAK,CAACiJ,IAAI,CAAC,IAAI,CAACzM,MAAM,CAAC;MACtD,IAAI,CAAC6C,KAAK,CAACsB,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC8a,YAAY,CAACxS,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;MACzD,IAAI,CAAC5J,KAAK,CAACsB,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC8a,YAAY,CAACxS,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;MAC3D,IAAI,CAAC5J,KAAK,CAACsB,EAAE,CAAC,mBAAmB,EAAE,IAAI,CAAC8a,YAAY,CAACxS,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;MACtE,OAAO,IAAI,CAAC5J,KAAK;IACrB,CAAC;IACD,IAAI,CAACyc,QAAQ,GAAG,YAAY;MACxB,OAAO,IAAI,CAACzc,KAAK,IAAI,IAAI,CAACsc,KAAK,EAAE;IACrC,CAAC;IACD,IAAI,CAACI,SAAS,GAAG,UAAUvf,MAAM,EAAEmM,MAAM,EAAEqT,iBAAiB,EAAE;MAC1D,IAAI,CAAC,IAAI,CAAC3c,KAAK,EACX,IAAI,CAACsc,KAAK,EAAE;MAChB,IAAI,CAACtc,KAAK,CAAC+F,UAAU,GAAG,IAAI,CAACA,UAAU;MACvC,IAAI,CAAC/F,KAAK,CAACgG,OAAO,CAAC,IAAI,CAAC4W,WAAW,CAACC,QAAQ,EAAE,IAAI,CAACD,WAAW,CAAC3X,UAAU,CAAC;MAC1E,IAAI,CAAC9H,MAAM,CAAC2f,SAAS,CAACC,cAAc,CAAC;QAAEC,gBAAgB,EAAEje,SAAS,CAAC,IAAI,CAACiB,KAAK,CAAC8C,MAAM,EAAE;MAAE,CAAC,CAAC;MAC1F3F,MAAM,CAACI,UAAU,CAACya,kBAAkB,CAAC,IAAI,CAACC,eAAe,CAAC;MAC1D,IAAI7Y,QAAQ,GAAGjC,MAAM,CAACiC,QAAQ;MAC9B,IAAI,CAACY,KAAK,CAAC2C,MAAM,CAAC,IAAI,CAACoD,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;MAC3C,IAAI,CAAC4W,iBAAiB,EAAE;QACpB,IAAI,CAAC3c,KAAK,CAACid,QAAQ,CAAC9f,MAAM,CAAC+f,QAAQ,EAAE,CAAC;QACtC,IAAI,CAACld,KAAK,CAACmd,WAAW,CAAChgB,MAAM,CAACigB,WAAW,EAAE,CAAC;QAC5C,IAAIrW,UAAU,GAAG3H,QAAQ,CAACie,WAAW,CAACtW,UAAU;QAChD,IAAIvF,GAAG,GAAGpC,QAAQ,CAACyB,YAAY,CAACyc,gBAAgB,CAAC,IAAI,CAACC,IAAI,EAAE,IAAI,CAAC;QACjE/b,GAAG,CAACmG,IAAI,IAAI,IAAI,CAAC3H,KAAK,CAAC+H,iBAAiB,EAAE;QAC1C,IAAIyV,IAAI,GAAGrgB,MAAM,CAACoD,SAAS,CAACkd,qBAAqB,EAAE;QACnDjc,GAAG,CAAC8F,GAAG,IAAIkW,IAAI,CAAClW,GAAG,GAAGlI,QAAQ,CAACie,WAAW,CAACK,MAAM;QACjDlc,GAAG,CAACmG,IAAI,IAAI6V,IAAI,CAAC7V,IAAI,GAAGxK,MAAM,CAACiC,QAAQ,CAACue,UAAU;QAClDnc,GAAG,CAACmG,IAAI,IAAIvI,QAAQ,CAACwe,WAAW;QAChC,IAAI,CAAC5d,KAAK,CAAC8G,IAAI,CAACtF,GAAG,EAAEuF,UAAU,CAAC;MACpC,CAAC,MACI,IAAI4V,iBAAiB,IAAI,CAACrT,MAAM,EAAE;QACnC,IAAI,CAAC4O,MAAM,EAAE;MACjB;MACA,IAAI,CAACgE,WAAW,CAAC2B,MAAM,EAAE;IAC7B,CAAC;IACD,IAAI,CAAC3F,MAAM,GAAG,YAAY;MACtB,IAAI,CAAC/a,MAAM,CAACI,UAAU,CAAC8a,qBAAqB,CAAC,IAAI,CAACJ,eAAe,CAAC;MAClE,IAAI,CAAC9a,MAAM,CAAC2gB,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC/B,cAAc,CAAC;MACvD,IAAI,CAAC5e,MAAM,CAAC2gB,GAAG,CAAC,MAAM,EAAE,IAAI,CAAChC,YAAY,CAAC;MAC1C,IAAI,CAAC3e,MAAM,CAAC2gB,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC9B,iBAAiB,CAAC;MACpD,IAAI,CAAC7e,MAAM,CAAC2gB,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC7B,kBAAkB,CAAC;MACtD,IAAI,CAACC,WAAW,CAAC2B,MAAM,EAAE;MACzB,IAAI,CAACE,cAAc,EAAE;MACrB,IAAI,CAAClC,mBAAmB,IAAI,CAAC;MAC7B,IAAI,IAAI,CAAC7b,KAAK,IAAI,IAAI,CAACA,KAAK,CAAC6F,MAAM,EAC/B,IAAI,CAAC7F,KAAK,CAAC6G,IAAI,EAAE;MACrB,IAAI,IAAI,CAAC0W,IAAI,EACT,IAAI,CAACA,IAAI,CAACrF,MAAM,EAAE;MACtB,IAAI,CAAC8F,SAAS,GAAG,KAAK;MACtB,IAAI,CAACpB,WAAW,GAAG,IAAI,CAACW,IAAI,GAAG,IAAI;IACvC,CAAC;IACD,IAAI,CAACxB,cAAc,GAAG,UAAUxa,CAAC,EAAE;MAC/B,IAAIlB,MAAM,GAAG,IAAI,CAAClD,MAAM,CAACuE,SAAS,CAACiF,IAAI;MACvC,IAAItG,MAAM,CAACyB,GAAG,IAAI,IAAI,CAACyb,IAAI,CAACzb,GAAG,IAAIzB,MAAM,CAACsJ,MAAM,GAAG,IAAI,CAAC4T,IAAI,CAAC5T,MAAM,EAAE;QACjE,IAAI,CAACuO,MAAM,EAAE;MACjB;MACA,IAAI,IAAI,CAAC8F,SAAS,EACd,IAAI,CAAC9B,WAAW,CAAC3E,QAAQ,EAAE,CAAC,KAE5B,IAAI,CAACW,MAAM,EAAE;IACrB,CAAC;IACD,IAAI,CAAC4D,YAAY,GAAG,UAAUva,CAAC,EAAE;MAC7B,IAAIpC,EAAE,GAAGkE,QAAQ,CAACC,aAAa;MAC/B,IAAIuF,IAAI,GAAG,IAAI,CAAC1L,MAAM,CAAC2f,SAAS,CAACmB,UAAU,EAAE;MAC7C,IAAIC,WAAW,GAAG3c,CAAC,CAAC4c,aAAa,IAAI,IAAI,CAACC,WAAW,IAAI,IAAI,CAACA,WAAW,CAACtE,QAAQ,CAACvY,CAAC,CAAC4c,aAAa,CAAC;MACnG,IAAI5d,SAAS,GAAG,IAAI,CAACP,KAAK,IAAI,IAAI,CAACA,KAAK,CAACO,SAAS;MAClD,IAAIpB,EAAE,IAAI0J,IAAI,IAAI1J,EAAE,CAACW,UAAU,IAAIS,SAAS,IAAI,CAAC2d,WAAW,IACrD/e,EAAE,IAAI,IAAI,CAACif,WAAW,IAAI7c,CAAC,CAAC4c,aAAa,IAAItV,IAAI,EAAE;QACtD,IAAI,CAACqP,MAAM,EAAE;MACjB;IACJ,CAAC;IACD,IAAI,CAAC8D,iBAAiB,GAAG,UAAUza,CAAC,EAAE;MAClC,IAAI,CAAC2W,MAAM,EAAE;IACjB,CAAC;IACD,IAAI,CAAC+D,kBAAkB,GAAG,UAAU1a,CAAC,EAAE;MACnC,IAAI,CAAC2W,MAAM,EAAE;IACjB,CAAC;IACD,IAAI,CAACrQ,IAAI,GAAG,UAAUC,KAAK,EAAE;MACzB,IAAI,CAAC9H,KAAK,CAAC6H,IAAI,CAACC,KAAK,CAAC;IAC1B,CAAC;IACD,IAAI,CAAC0U,WAAW,GAAG,UAAUnY,IAAI,EAAEkQ,OAAO,EAAE;MACxC,IAAI,CAAClQ,IAAI,EACLA,IAAI,GAAG,IAAI,CAACrE,KAAK,CAAC4D,OAAO,CAAC,IAAI,CAAC5D,KAAK,CAAC8C,MAAM,EAAE,CAAC;MAClD,IAAI,CAACuB,IAAI,EACL,OAAO,KAAK;MAChB,IAAIuY,WAAW,GAAG,IAAI,CAACA,WAAW;MAClC,IAAI,CAACzf,MAAM,CAACkhB,cAAc,CAAC;QAAEhgB,OAAO,EAAE;UAAEC,IAAI,EAAE;QAAc;MAAE,CAAC,CAAC;MAChE,IAAI+F,IAAI,CAACmF,SAAS,IAAInF,IAAI,CAACmF,SAAS,CAACgT,WAAW,EAAE;QAC9CnY,IAAI,CAACmF,SAAS,CAACgT,WAAW,CAAC,IAAI,CAACrf,MAAM,EAAEkH,IAAI,CAAC;MACjD,CAAC,MACI;QACD,IAAI,CAACuY,WAAW,EACZ,OAAO,KAAK;QAChB,IAAIA,WAAW,CAAC3X,UAAU,EAAE;UACxB,IAAI4S,MAAM,GAAG,IAAI,CAAC1a,MAAM,CAACuE,SAAS,CAAC4c,YAAY,EAAE;UACjD,KAAK,IAAIzgB,CAAC,GAAG,CAAC,EAAEkV,KAAK,EAAEA,KAAK,GAAG8E,MAAM,CAACha,CAAC,CAAC,EAAEA,CAAC,EAAE,EAAE;YAC3CkV,KAAK,CAAClR,KAAK,CAAC8H,MAAM,IAAIiT,WAAW,CAAC3X,UAAU,CAACX,MAAM;YACnD,IAAI,CAACnH,MAAM,CAAC+D,OAAO,CAACqd,MAAM,CAACxL,KAAK,CAAC;UACrC;QACJ;QACA,IAAI1O,IAAI,CAACiN,OAAO,EACZmI,cAAc,CAACnG,aAAa,CAAC,IAAI,CAACnW,MAAM,EAAEkH,IAAI,CAACiN,OAAO,CAAC,CAAC,KAExD,IAAI,CAACnU,MAAM,CAACsd,WAAW,CAAC,cAAc,EAAEpW,IAAI,CAACR,KAAK,IAAIQ,IAAI,CAAC;MACnE;MACA,IAAI,IAAI,CAACuY,WAAW,IAAIA,WAAW,EAC/B,IAAI,CAAC1E,MAAM,EAAE;MACjB,IAAI,CAAC/a,MAAM,CAACqhB,YAAY,EAAE;IAC9B,CAAC;IACD,IAAI,CAACtgB,QAAQ,GAAG;MACZ,IAAI,EAAE,UAAUf,MAAM,EAAE;QAAEA,MAAM,CAACqM,SAAS,CAAC3B,IAAI,CAAC,IAAI,CAAC;MAAE,CAAC;MACxD,MAAM,EAAE,UAAU1K,MAAM,EAAE;QAAEA,MAAM,CAACqM,SAAS,CAAC3B,IAAI,CAAC,MAAM,CAAC;MAAE,CAAC;MAC5D,mBAAmB,EAAE,UAAU1K,MAAM,EAAE;QAAEA,MAAM,CAACqM,SAAS,CAAC3B,IAAI,CAAC,OAAO,CAAC;MAAE,CAAC;MAC1E,oBAAoB,EAAE,UAAU1K,MAAM,EAAE;QAAEA,MAAM,CAACqM,SAAS,CAAC3B,IAAI,CAAC,KAAK,CAAC;MAAE,CAAC;MACzE,KAAK,EAAE,UAAU1K,MAAM,EAAE;QAAEA,MAAM,CAACqM,SAAS,CAAC0O,MAAM,EAAE;MAAE,CAAC;MACvD,QAAQ,EAAE,UAAU/a,MAAM,EAAE;QAAE,OAAOA,MAAM,CAACqM,SAAS,CAACgT,WAAW,EAAE;MAAE,CAAC;MACtE,cAAc,EAAE,UAAUrf,MAAM,EAAE;QAAEA,MAAM,CAACqM,SAAS,CAACgT,WAAW,CAAC,IAAI,EAAE;UAAEiC,YAAY,EAAE;QAAK,CAAC,CAAC;MAAE,CAAC;MACjG,KAAK,EAAE,UAAUthB,MAAM,EAAE;QACrB,IAAIsL,MAAM,GAAGtL,MAAM,CAACqM,SAAS,CAACgT,WAAW,EAAE;QAC3C,IAAI,CAAC/T,MAAM,IAAI,CAACtL,MAAM,CAAC8V,cAAc,EACjC9V,MAAM,CAACqM,SAAS,CAAC3B,IAAI,CAAC,MAAM,CAAC,CAAC,KAE9B,OAAOY,MAAM;MACrB,CAAC;MACD,QAAQ,EAAE,UAAUtL,MAAM,EAAE;QAAEA,MAAM,CAACqM,SAAS,CAACxJ,KAAK,CAAC0e,UAAU,EAAE;MAAE,CAAC;MACpE,UAAU,EAAE,UAAUvhB,MAAM,EAAE;QAAEA,MAAM,CAACqM,SAAS,CAACxJ,KAAK,CAAC2e,YAAY,EAAE;MAAE;IAC3E,CAAC;IACD,IAAI,CAACC,iBAAiB,GAAG,UAAUzhB,MAAM,EAAEmL,QAAQ,EAAE;MACjD,IAAIpH,OAAO,GAAG/D,MAAM,CAAC0hB,UAAU,EAAE;MACjC,IAAIrd,GAAG,GAAGrE,MAAM,CAACkM,iBAAiB,EAAE;MACpC,IAAIC,MAAM,GAAGmS,IAAI,CAACrS,mBAAmB,CAACjM,MAAM,CAAC;MAC7C,IAAI,CAACogB,IAAI,GAAGrc,OAAO,CAACiD,GAAG,CAAC2a,YAAY,CAACtd,GAAG,CAACM,GAAG,EAAEN,GAAG,CAACmI,MAAM,GAAGL,MAAM,CAAChF,MAAM,CAAC;MACzE,IAAI,CAACiZ,IAAI,CAACwB,YAAY,GAAG,IAAI;MAC7B,IAAIrE,OAAO,GAAG,EAAE;MAChB,IAAIsE,KAAK,GAAG7hB,MAAM,CAACoM,UAAU,CAACjF,MAAM;MACpCnH,MAAM,CAACoM,UAAU,CAAC9L,OAAO,CAAC,UAAU+L,SAAS,EAAE3L,CAAC,EAAE;QAC9C2L,SAAS,CAACyV,cAAc,CAAC9hB,MAAM,EAAE+D,OAAO,EAAEM,GAAG,EAAE8H,MAAM,EAAE,UAAUZ,GAAG,EAAEwW,OAAO,EAAE;UAC3E,IAAI,CAACxW,GAAG,IAAIwW,OAAO,EACfxE,OAAO,GAAGA,OAAO,CAACzb,MAAM,CAACigB,OAAO,CAAC;UACrC5W,QAAQ,CAAC,IAAI,EAAE;YACXgB,MAAM,EAAEmS,IAAI,CAACrS,mBAAmB,CAACjM,MAAM,CAAC;YACxCud,OAAO,EAAEA,OAAO;YAChByE,QAAQ,EAAG,EAAEH,KAAK,KAAK;UAC3B,CAAC,CAAC;QACN,CAAC,CAAC;MACN,CAAC,CAAC;MACF,OAAO,IAAI;IACf,CAAC;IACD,IAAI,CAACI,SAAS,GAAG,UAAUjiB,MAAM,EAAEoX,OAAO,EAAE;MACxC,IAAI,IAAI,CAACpX,MAAM,EACX,IAAI,CAAC+a,MAAM,EAAE;MACjB,IAAI,CAAC8F,SAAS,GAAG,IAAI;MACrB,IAAI,CAAC7gB,MAAM,GAAGA,MAAM;MACpB,IAAIA,MAAM,CAACqM,SAAS,IAAI,IAAI,EAAE;QAC1B,IAAIrM,MAAM,CAACqM,SAAS,EAChBrM,MAAM,CAACqM,SAAS,CAAC0O,MAAM,EAAE;QAC7B/a,MAAM,CAACqM,SAAS,GAAG,IAAI;MAC3B;MACArM,MAAM,CAACmE,EAAE,CAAC,iBAAiB,EAAE,IAAI,CAACya,cAAc,CAAC;MACjD5e,MAAM,CAACmE,EAAE,CAAC,MAAM,EAAE,IAAI,CAACwa,YAAY,CAAC;MACpC3e,MAAM,CAACmE,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC0a,iBAAiB,CAAC;MAC9C7e,MAAM,CAACmE,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC2a,kBAAkB,CAAC;MAChD,IAAI,CAACE,iBAAiB,CAAC,KAAK,EAAE5H,OAAO,CAAC;IAC1C,CAAC;IACD,IAAI,CAAC4H,iBAAiB,GAAG,UAAUQ,iBAAiB,EAAEpI,OAAO,EAAE;MAC3D,IAAIoI,iBAAiB,IAAI,IAAI,CAACY,IAAI,IAAI,IAAI,CAACX,WAAW,EAAE;QACpD,IAAIpb,GAAG,GAAG,IAAI,CAACrE,MAAM,CAACkM,iBAAiB,EAAE;QACzC,IAAIC,MAAM,GAAG,IAAI,CAACnM,MAAM,CAAC+D,OAAO,CAACmJ,YAAY,CAAC;UAAExI,KAAK,EAAE,IAAI,CAAC0b,IAAI;UAAExb,GAAG,EAAEP;QAAI,CAAC,CAAC;QAC7E,IAAI8H,MAAM,IAAI,IAAI,CAACsT,WAAW,CAAC3X,UAAU,EACrC;QACJ,IAAI,CAAC2X,WAAW,CAACyC,SAAS,CAAC/V,MAAM,CAAC;QAClC,IAAI,CAAC,IAAI,CAACsT,WAAW,CAACC,QAAQ,CAACvY,MAAM,EACjC,OAAO,IAAI,CAAC4T,MAAM,EAAE;QACxB,IAAI,IAAI,CAAC0E,WAAW,CAACC,QAAQ,CAACvY,MAAM,IAAI,CAAC,IAClC,IAAI,CAACsY,WAAW,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAChZ,KAAK,IAAIyF,MAAM,IAC5C,CAAC,IAAI,CAACsT,WAAW,CAACC,QAAQ,CAAC,CAAC,CAAC,CAACvL,OAAO,EACxC,OAAO,IAAI,CAAC4G,MAAM,EAAE;QACxB,IAAI,CAACwE,SAAS,CAAC,IAAI,CAACvf,MAAM,EAAEmM,MAAM,EAAEqT,iBAAiB,CAAC;QACtD;MACJ;MACA,IAAIpI,OAAO,IAAIA,OAAO,CAACmG,OAAO,EAAE;QAC5B,IAAIlZ,GAAG,GAAG,IAAI,CAACrE,MAAM,CAAC6V,iBAAiB,EAAE,CAACnR,KAAK;QAC/C,IAAI,CAAC0b,IAAI,GAAG,IAAI,CAACpgB,MAAM,CAAC+D,OAAO,CAACiD,GAAG,CAAC2a,YAAY,CAACtd,GAAG,CAACM,GAAG,EAAEN,GAAG,CAACmI,MAAM,CAAC;QACrE,IAAI,CAAC4T,IAAI,CAACwB,YAAY,GAAG,IAAI;QAC7B,IAAI,CAACnC,WAAW,GAAG,IAAI0C,YAAY,CAAC/K,OAAO,CAACmG,OAAO,CAAC;QACpD,OAAO,IAAI,CAACgC,SAAS,CAAC,IAAI,CAACvf,MAAM,EAAE,EAAE,EAAEwf,iBAAiB,CAAC;MAC7D;MACA,IAAI4C,GAAG,GAAG,IAAI,CAAC1D,mBAAmB;MAClC,IAAI2D,gBAAgB,GAAG,UAAUN,OAAO,EAAE;QACtC,IAAI,CAACA,OAAO,CAACC,QAAQ,EACjB;QACJ,OAAO,IAAI,CAACjH,MAAM,EAAE;MACxB,CAAC,CAACtO,IAAI,CAAC,IAAI,CAAC;MACZ,IAAI6V,cAAc,GAAG,UAAUP,OAAO,EAAE;QACpC,IAAI5V,MAAM,GAAG4V,OAAO,CAAC5V,MAAM;QAC3B,IAAIoR,OAAO,GAAGwE,OAAO,CAACxE,OAAO;QAC7B,IAAI,CAACkC,WAAW,GAAG,IAAI0C,YAAY,CAAC5E,OAAO,CAAC;QAC5C,IAAI,IAAI,CAACkB,UAAU,EACf,IAAI,CAACgB,WAAW,CAAChB,UAAU,GAAG,IAAI;QACtC,IAAI,CAACgB,WAAW,CAACyC,SAAS,CAAC/V,MAAM,CAAC;QAClC,IAAIuT,QAAQ,GAAG,IAAI,CAACD,WAAW,CAACC,QAAQ;QACxC,IAAI,CAACA,QAAQ,CAACvY,MAAM,EAChB,OAAOkb,gBAAgB,CAACN,OAAO,CAAC;QACpC,IAAIrC,QAAQ,CAACvY,MAAM,IAAI,CAAC,IAAIuY,QAAQ,CAAC,CAAC,CAAC,CAAChZ,KAAK,IAAIyF,MAAM,IAAI,CAACuT,QAAQ,CAAC,CAAC,CAAC,CAACvL,OAAO,EAC3E,OAAOkO,gBAAgB,CAACN,OAAO,CAAC;QACpC,IAAI,IAAI,CAACvD,UAAU,IAAIkB,QAAQ,CAACvY,MAAM,IAAI,CAAC,IAAI4a,OAAO,CAACC,QAAQ,EAC3D,OAAO,IAAI,CAAC3C,WAAW,CAACK,QAAQ,CAAC,CAAC,CAAC,CAAC;QACxC,IAAI,CAACH,SAAS,CAAC,IAAI,CAACvf,MAAM,EAAEmM,MAAM,EAAEqT,iBAAiB,CAAC;MAC1D,CAAC,CAAC/S,IAAI,CAAC,IAAI,CAAC;MACZ,IAAI8V,WAAW,GAAG,IAAI;MACtB,IAAIC,gBAAgB,GAAG,IAAI;MAC3B,IAAI,CAACf,iBAAiB,CAAC,IAAI,CAACzhB,MAAM,EAAE,UAAUuL,GAAG,EAAEwW,OAAO,EAAE;QACxD,IAAI5V,MAAM,GAAG4V,OAAO,CAAC5V,MAAM;QAC3B,IAAIoR,OAAO,GAAGwE,OAAO,IAAIA,OAAO,CAACxE,OAAO;QACxC,IAAI,CAACA,OAAO,IAAI,CAACA,OAAO,CAACpW,MAAM,EAC3B,OAAOkb,gBAAgB,CAACN,OAAO,CAAC;QACpC,IAAI5V,MAAM,CAAC/D,OAAO,CAAC2Z,OAAO,CAAC5V,MAAM,CAAC,KAAK,CAAC,IAAIiW,GAAG,IAAI,IAAI,CAAC1D,mBAAmB,EACvE;QACJ,IAAI6D,WAAW,EAAE;UACbC,gBAAgB,GAAGT,OAAO;UAC1B;QACJ;QACAO,cAAc,CAACP,OAAO,CAAC;MAC3B,CAAC,CAACtV,IAAI,CAAC,IAAI,CAAC,CAAC;MACb8V,WAAW,GAAG,KAAK;MACnB,IAAIC,gBAAgB,EAAE;QAClB,IAAIT,OAAO,GAAGS,gBAAgB;QAC9BA,gBAAgB,GAAG,IAAI;QACvBF,cAAc,CAACP,OAAO,CAAC;MAC3B;IACJ,CAAC;IACD,IAAI,CAACU,iBAAiB,GAAG,YAAY;MACjC,IAAI,CAACziB,MAAM,CAACuC,aAAa,CAACkgB,iBAAiB,EAAE;IACjD,CAAC;IACD,IAAI,CAACvD,gBAAgB,GAAG,YAAY;MAChC,IAAIrc,KAAK,GAAG,IAAI,CAACA,KAAK;MACtB,IAAI6f,GAAG,GAAG7f,KAAK,CAACqE,IAAI;MACpB,IAAIpB,QAAQ,GAAG4c,GAAG,KAAKA,GAAG,CAAC7f,KAAK,CAACiE,aAAa,EAAE,CAAC,IAAI4b,GAAG,CAAC7f,KAAK,CAAC8C,MAAM,EAAE,CAAC,CAAC;MACzE,IAAIqB,GAAG,GAAG,IAAI;MACd,IAAI,CAAClB,QAAQ,IAAI,CAAC,IAAI,CAAC9F,MAAM,IAAI,CAAC,IAAI,CAAC6C,KAAK,CAAC6F,MAAM,EAC/C,OAAO,IAAI,CAACkY,cAAc,EAAE;MAChC,IAAI,CAAC5gB,MAAM,CAACoM,UAAU,CAAC8I,IAAI,CAAC,UAAU7I,SAAS,EAAE;QAC7C,IAAIA,SAAS,CAACsW,aAAa,EACvB3b,GAAG,GAAGqF,SAAS,CAACsW,aAAa,CAAC7c,QAAQ,CAAC;QAC3C,OAAOkB,GAAG;MACd,CAAC,CAAC;MACF,IAAI,CAACA,GAAG,IAAI,OAAOlB,QAAQ,IAAI,QAAQ,EACnCkB,GAAG,GAAGlB,QAAQ;MAClB,IAAI,OAAOkB,GAAG,IAAI,QAAQ,EACtBA,GAAG,GAAG;QAAE4b,OAAO,EAAE5b;MAAI,CAAC;MAC1B,IAAI,CAACA,GAAG,IAAI,EAAEA,GAAG,CAAC6b,OAAO,IAAI7b,GAAG,CAAC4b,OAAO,CAAC,EACrC,OAAO,IAAI,CAAChC,cAAc,EAAE;MAChC,IAAI,CAACkC,cAAc,CAAC9b,GAAG,CAAC;IAC5B,CAAC;IACD,IAAI,CAAC8b,cAAc,GAAG,UAAUC,IAAI,EAAE;MAClC,IAAI,CAAC,IAAI,CAAC9B,WAAW,EAAE;QACnB,IAAI,CAACA,WAAW,GAAGtf,GAAG,CAACiB,aAAa,CAAC,KAAK,CAAC;QAC3C,IAAI,CAACqe,WAAW,CAACvZ,SAAS,GAAG,6BAA6B;QAC1D,IAAI,CAACuZ,WAAW,CAACle,KAAK,CAACigB,MAAM,GAAG,CAAC;QACjC,IAAI,CAAC/B,WAAW,CAACle,KAAK,CAACkgB,aAAa,GAAG,MAAM;QAC7C,IAAI,CAAChC,WAAW,CAACiC,QAAQ,GAAG,CAAC,CAAC;QAC9B,IAAI,CAACjC,WAAW,CAACkC,MAAM,GAAG,IAAI,CAACxE,YAAY,CAAClS,IAAI,CAAC,IAAI,CAAC;QACtD,IAAI,CAACwU,WAAW,CAACmC,OAAO,GAAG,IAAI,CAACC,cAAc,CAAC5W,IAAI,CAAC,IAAI,CAAC;MAC7D;MACA,IAAIwU,WAAW,GAAG,IAAI,CAACA,WAAW;MAClC,IAAI8B,IAAI,CAACF,OAAO,EAAE;QACd5B,WAAW,CAACqC,SAAS,GAAGP,IAAI,CAACF,OAAO;MACxC,CAAC,MACI,IAAIE,IAAI,CAACH,OAAO,EAAE;QACnB3B,WAAW,CAACsC,WAAW,GAAGR,IAAI,CAACH,OAAO;MAC1C;MACA,IAAI,CAAC3B,WAAW,CAACte,UAAU,EACvBuD,QAAQ,CAAC+S,IAAI,CAACnW,WAAW,CAACme,WAAW,CAAC;MAC1C,IAAIpe,KAAK,GAAG,IAAI,CAACA,KAAK;MACtB,IAAIwd,IAAI,GAAGxd,KAAK,CAACO,SAAS,CAACkd,qBAAqB,EAAE;MAClDW,WAAW,CAACle,KAAK,CAACoH,GAAG,GAAGtH,KAAK,CAACO,SAAS,CAACL,KAAK,CAACoH,GAAG;MACjD8W,WAAW,CAACle,KAAK,CAACwH,MAAM,GAAG1H,KAAK,CAACO,SAAS,CAACL,KAAK,CAACwH,MAAM;MACvD0W,WAAW,CAACle,KAAK,CAACC,OAAO,GAAG,OAAO;MACnC,IAAI+G,MAAM,CAACE,UAAU,GAAGoW,IAAI,CAACmD,KAAK,GAAG,GAAG,EAAE;QACtC,IAAInD,IAAI,CAAC7V,IAAI,GAAG,GAAG,EAAE;UACjB,IAAI3H,KAAK,CAAC8F,SAAS,EAAE;YACjBsY,WAAW,CAACle,KAAK,CAACoH,GAAG,GAAGkW,IAAI,CAAC9V,MAAM,GAAG,IAAI;YAC1C0W,WAAW,CAACle,KAAK,CAACyH,IAAI,GAAG6V,IAAI,CAAC7V,IAAI,GAAG,IAAI;YACzCyW,WAAW,CAACle,KAAK,CAACygB,KAAK,GAAG,EAAE;YAC5BvC,WAAW,CAACle,KAAK,CAACwH,MAAM,GAAG,EAAE;UACjC,CAAC,MACI;YACD0W,WAAW,CAACle,KAAK,CAACoH,GAAG,GAAGtH,KAAK,CAACO,SAAS,CAACqgB,SAAS,GAAGxC,WAAW,CAACyC,YAAY,GAAG,IAAI;YACnFzC,WAAW,CAACle,KAAK,CAACyH,IAAI,GAAG6V,IAAI,CAAC7V,IAAI,GAAG,IAAI;YACzCyW,WAAW,CAACle,KAAK,CAACygB,KAAK,GAAG,EAAE;YAC5BvC,WAAW,CAACle,KAAK,CAACwH,MAAM,GAAG,EAAE;UACjC;QACJ,CAAC,MACI;UACD0W,WAAW,CAACle,KAAK,CAACygB,KAAK,GAAGzZ,MAAM,CAACE,UAAU,GAAGoW,IAAI,CAAC7V,IAAI,GAAG,IAAI;UAC9DyW,WAAW,CAACle,KAAK,CAACyH,IAAI,GAAG,EAAE;QAC/B;MACJ,CAAC,MACI;QACDyW,WAAW,CAACle,KAAK,CAACyH,IAAI,GAAI6V,IAAI,CAACmD,KAAK,GAAG,CAAC,GAAI,IAAI;QAChDvC,WAAW,CAACle,KAAK,CAACygB,KAAK,GAAG,EAAE;MAChC;IACJ,CAAC;IACD,IAAI,CAAC5C,cAAc,GAAG,YAAY;MAC9B,IAAI,CAAC3B,YAAY,CAACyB,MAAM,EAAE;MAC1B,IAAI,CAAC,IAAI,CAACO,WAAW,EACjB;MACJ,IAAIjf,EAAE,GAAG,IAAI,CAACif,WAAW;MACzB,IAAI,CAAC,IAAI,CAACjhB,MAAM,CAAC2jB,SAAS,EAAE,IAAIzd,QAAQ,CAACC,aAAa,IAAInE,EAAE,EACxD,IAAI,CAAChC,MAAM,CAACwD,KAAK,EAAE;MACvB,IAAI,CAACyd,WAAW,GAAG,IAAI;MACvB,IAAIjf,EAAE,CAACW,UAAU,EACbX,EAAE,CAACW,UAAU,CAACihB,WAAW,CAAC5hB,EAAE,CAAC;IACrC,CAAC;IACD,IAAI,CAACqhB,cAAc,GAAG,UAAUjf,CAAC,EAAE;MAC/B,IAAIyf,CAAC,GAAGzf,CAAC,CAAC0f,MAAM;MAChB,OAAOD,CAAC,IAAIA,CAAC,IAAI,IAAI,CAAC5C,WAAW,EAAE;QAC/B,IAAI4C,CAAC,CAACE,QAAQ,IAAI,GAAG,IAAIF,CAAC,CAACG,IAAI,EAAE;UAC7BH,CAAC,CAACI,GAAG,GAAG,YAAY;UACpBJ,CAAC,CAACC,MAAM,GAAG,QAAQ;UACnB;QACJ;QACAD,CAAC,GAAGA,CAAC,CAAClhB,UAAU;MACpB;IACJ,CAAC;IACD,IAAI,CAACuhB,OAAO,GAAG,YAAY;MACvB,IAAI,CAACnJ,MAAM,EAAE;MACb,IAAI,IAAI,CAAClY,KAAK,EAAE;QACZ,IAAI,CAACA,KAAK,CAACqhB,OAAO,EAAE;QACpB,IAAIliB,EAAE,GAAG,IAAI,CAACa,KAAK,CAACO,SAAS;QAC7B,IAAIpB,EAAE,IAAIA,EAAE,CAACW,UAAU,EACnBX,EAAE,CAACW,UAAU,CAACihB,WAAW,CAAC5hB,EAAE,CAAC;MACrC;MACA,IAAI,IAAI,CAAChC,MAAM,IAAI,IAAI,CAACA,MAAM,CAACqM,SAAS,IAAI,IAAI,EAC5C,IAAI,CAACrM,MAAM,CAACqM,SAAS,IAAI,IAAI;MACjC,IAAI,CAACxJ,KAAK,GAAG,IAAI;IACrB,CAAC;EACL,CAAC,EAAEgR,IAAI,CAAC0K,YAAY,CAACzE,SAAS,CAAC;EAC/ByE,YAAY,CAAC4F,GAAG,GAAG,UAAUnkB,MAAM,EAAE;IACjC,IAAIA,MAAM,CAACqM,SAAS,EAAE;MAClB,OAAOrM,MAAM,CAACqM,SAAS;IAC3B;IACA,IAAIrG,MAAM,CAACoe,GAAG,CAAC,cAAc,CAAC,EAAE;MAC5B,IAAI,CAAC7F,YAAY,CAAC8F,OAAO,EACrB9F,YAAY,CAAC+F,eAAe,GAAG,IAAI/F,YAAY,EAAE;MACrDve,MAAM,CAACqM,SAAS,GAAGkS,YAAY,CAAC+F,eAAe;IACnD,CAAC,MACI;MACDtkB,MAAM,CAACqM,SAAS,GAAG,IAAIkS,YAAY,EAAE;MACrCve,MAAM,CAACukB,IAAI,CAAC,SAAS,EAAE,UAAUngB,CAAC,EAAEpE,MAAM,EAAE;QACxCA,MAAM,CAACqM,SAAS,CAAC6X,OAAO,EAAE;MAC9B,CAAC,CAAC;IACN;IACA,OAAOlkB,MAAM,CAACqM,SAAS;EAC3B,CAAC;EACDkS,YAAY,CAACiG,YAAY,GAAG;IACxBrjB,IAAI,EAAE,mBAAmB;IACzB8M,IAAI,EAAE,UAAUjO,MAAM,EAAEoX,OAAO,EAAE;MAC7B,IAAI/K,SAAS,GAAGkS,YAAY,CAAC4F,GAAG,CAACnkB,MAAM,CAAC;MACxCqM,SAAS,CAACmS,UAAU,GAAG,KAAK;MAC5BnS,SAAS,CAACzD,UAAU,GAAG,IAAI;MAC3ByD,SAAS,CAAC4V,SAAS,CAACjiB,MAAM,EAAEoX,OAAO,CAAC;MACpC/K,SAAS,CAACoW,iBAAiB,EAAE;IACjC,CAAC;IACDgC,OAAO,EAAE;EACb,CAAC;EACD,IAAItC,YAAY,GAAG,UAAUlX,KAAK,EAAEnD,UAAU,EAAE;IAC5C,IAAI,CAAC4a,GAAG,GAAGzX,KAAK;IAChB,IAAI,CAACyU,QAAQ,GAAGzU,KAAK;IACrB,IAAI,CAACnD,UAAU,GAAGA,UAAU,IAAI,EAAE;IAClC,IAAI,CAAC2W,UAAU,GAAG,KAAK;EAC3B,CAAC;EACD,CAAC,YAAY;IACT,IAAI,CAACyD,SAAS,GAAG,UAAU9R,GAAG,EAAE;MAC5B,IAAIA,GAAG,CAACjJ,MAAM,GAAG,IAAI,CAACW,UAAU,IAAIsI,GAAG,CAACkF,WAAW,CAAC,IAAI,CAACxN,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC,EACzE,IAAIyV,OAAO,GAAG,IAAI,CAACmC,QAAQ,CAAC,KAE5B,IAAInC,OAAO,GAAG,IAAI,CAACmF,GAAG;MAC1B,IAAI,CAAC5a,UAAU,GAAGsI,GAAG;MACrBmN,OAAO,GAAG,IAAI,CAACmH,iBAAiB,CAACnH,OAAO,EAAE,IAAI,CAACzV,UAAU,CAAC;MAC1DyV,OAAO,GAAGA,OAAO,CAACoH,IAAI,CAAC,UAAUd,CAAC,EAAEe,CAAC,EAAE;QACnC,OAAOA,CAAC,CAACnG,UAAU,GAAGoF,CAAC,CAACpF,UAAU,IAAImG,CAAC,CAACC,MAAM,GAAGhB,CAAC,CAACgB,MAAM,IAClD,CAAChB,CAAC,CAACrc,OAAO,IAAIqc,CAAC,CAACnd,KAAK,EAAEoe,aAAa,CAACF,CAAC,CAACpd,OAAO,IAAIod,CAAC,CAACle,KAAK,CAAC;MACrE,CAAC,CAAC;MACF,IAAIqe,IAAI,GAAG,IAAI;MACfxH,OAAO,GAAGA,OAAO,CAACyH,MAAM,CAAC,UAAUjC,IAAI,EAAE;QACrC,IAAIvb,OAAO,GAAGub,IAAI,CAAC5O,OAAO,IAAI4O,IAAI,CAACvb,OAAO,IAAIub,IAAI,CAACrc,KAAK;QACxD,IAAIc,OAAO,KAAKud,IAAI,EAChB,OAAO,KAAK;QAChBA,IAAI,GAAGvd,OAAO;QACd,OAAO,IAAI;MACf,CAAC,CAAC;MACF,IAAI,CAACkY,QAAQ,GAAGnC,OAAO;IAC3B,CAAC;IACD,IAAI,CAACmH,iBAAiB,GAAG,UAAUO,KAAK,EAAEC,MAAM,EAAE;MAC9C,IAAInD,OAAO,GAAG,EAAE;MAChB,IAAIoD,KAAK,GAAGD,MAAM,CAACpkB,WAAW,EAAE;MAChC,IAAI8G,KAAK,GAAGsd,MAAM,CAACrd,WAAW,EAAE;MAChCud,IAAI,EAAE,KAAK,IAAI1kB,CAAC,GAAG,CAAC,EAAEqiB,IAAI,EAAEA,IAAI,GAAGkC,KAAK,CAACvkB,CAAC,CAAC,EAAEA,CAAC,EAAE,EAAE;QAC9C,IAAI8G,OAAO,GAAGub,IAAI,CAACvb,OAAO,IAAIub,IAAI,CAACrc,KAAK,IAAIqc,IAAI,CAAC5O,OAAO;QACxD,IAAI,CAAC3M,OAAO,EACR;QACJ,IAAIO,SAAS,GAAG,CAAC,CAAC;QAClB,IAAIE,SAAS,GAAG,CAAC;QACjB,IAAIod,OAAO,GAAG,CAAC;QACf,IAAIxjB,KAAK,EAAEyjB,QAAQ;QACnB,IAAI,IAAI,CAAC7G,UAAU,EAAE;UACjB,IAAIyG,MAAM,KAAK1d,OAAO,CAACuJ,MAAM,CAAC,CAAC,EAAEmU,MAAM,CAAC/d,MAAM,CAAC,EAC3C,SAASie,IAAI;QACrB,CAAC,MACI;UACD,IAAIG,cAAc,GAAG/d,OAAO,CAACK,WAAW,EAAE,CAACO,OAAO,CAACR,KAAK,CAAC;UACzD,IAAI2d,cAAc,GAAG,CAAC,CAAC,EAAE;YACrBF,OAAO,GAAGE,cAAc;UAC5B,CAAC,MACI;YACD,KAAK,IAAIlR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6Q,MAAM,CAAC/d,MAAM,EAAEkN,CAAC,EAAE,EAAE;cACpC,IAAIE,EAAE,GAAG/M,OAAO,CAACY,OAAO,CAACR,KAAK,CAACyM,CAAC,CAAC,EAAEtM,SAAS,GAAG,CAAC,CAAC;cACjD,IAAIyd,EAAE,GAAGhe,OAAO,CAACY,OAAO,CAAC+c,KAAK,CAAC9Q,CAAC,CAAC,EAAEtM,SAAS,GAAG,CAAC,CAAC;cACjDlG,KAAK,GAAI0S,EAAE,IAAI,CAAC,GAAMiR,EAAE,GAAG,CAAC,IAAIjR,EAAE,GAAGiR,EAAE,GAAIjR,EAAE,GAAGiR,EAAE,GAAIA,EAAE;cACxD,IAAI3jB,KAAK,GAAG,CAAC,EACT,SAASujB,IAAI;cACjBE,QAAQ,GAAGzjB,KAAK,GAAGkG,SAAS,GAAG,CAAC;cAChC,IAAIud,QAAQ,GAAG,CAAC,EAAE;gBACd,IAAIvd,SAAS,KAAK,CAAC,CAAC,EAChBsd,OAAO,IAAI,EAAE;gBACjBA,OAAO,IAAIC,QAAQ;gBACnBrd,SAAS,GAAGA,SAAS,GAAI,CAAC,IAAIoM,CAAE;cACpC;cACAtM,SAAS,GAAGlG,KAAK;YACrB;UACJ;QACJ;QACAkhB,IAAI,CAAC9a,SAAS,GAAGA,SAAS;QAC1B8a,IAAI,CAACtE,UAAU,GAAG4G,OAAO,GAAG,CAAC,GAAG,CAAC;QACjCtC,IAAI,CAAC8B,MAAM,GAAG,CAAC9B,IAAI,CAAC0C,KAAK,IAAI,CAAC,IAAIJ,OAAO;QACzCtD,OAAO,CAAC3gB,IAAI,CAAC2hB,IAAI,CAAC;MACtB;MACA,OAAOhB,OAAO;IAClB,CAAC;EACL,CAAC,EAAElO,IAAI,CAACsO,YAAY,CAACrI,SAAS,CAAC;EAC/Bla,OAAO,CAAC2e,YAAY,GAAGA,YAAY;EACnC3e,OAAO,CAACuiB,YAAY,GAAGA,YAAY;AAEnC,CAAC,CAAC;AAEF1iB,GAAG,CAACC,MAAM,CAAC,sCAAsC,EAAC,CAAC,SAAS,EAAC,SAAS,EAAC,QAAQ,CAAC,EAAE,UAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAACA,MAAM,CAACD,OAAO,GAAG,w+CAAw+C;AAE9mD,CAAC,CAAC;AAEFH,GAAG,CAACC,MAAM,CAAC,iCAAiC,EAAC,CAAC,SAAS,EAAC,SAAS,EAAC,QAAQ,EAAC,aAAa,EAAC,sCAAsC,CAAC,EAAE,UAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAAC;EACrK,YAAY;;EACZ,IAAI8B,GAAG,GAAGhC,OAAO,CAAC,eAAe,CAAC;EAClC,IAAI+lB,OAAO,GAAG/lB,OAAO,CAAC,qBAAqB,CAAC;EAC5CgC,GAAG,CAACoJ,eAAe,CAAC2a,OAAO,EAAE,mBAAmB,EAAE,KAAK,CAAC;EACxD7lB,MAAM,CAACD,OAAO,CAAC+lB,WAAW,GAAG,SAASA,WAAW,CAAC3lB,MAAM,EAAE4lB,cAAc,EAAEza,QAAQ,EAAE;IAChF,IAAI0a,MAAM,GAAG3f,QAAQ,CAACtD,aAAa,CAAC,KAAK,CAAC;IAC1C,IAAIkjB,cAAc,GAAG,KAAK;IAC1B,SAASC,mBAAmB,CAAC3hB,CAAC,EAAE;MAC5B,IAAIA,CAAC,CAAC4hB,OAAO,KAAK,EAAE,EAAE;QAClBC,KAAK,EAAE;MACX;IACJ;IACA,SAASA,KAAK,GAAG;MACb,IAAI,CAACJ,MAAM,EACP;MACJ3f,QAAQ,CAACggB,mBAAmB,CAAC,SAAS,EAAEH,mBAAmB,CAAC;MAC5DF,MAAM,CAACljB,UAAU,CAACihB,WAAW,CAACiC,MAAM,CAAC;MACrC,IAAI7lB,MAAM,EAAE;QACRA,MAAM,CAACwD,KAAK,EAAE;MAClB;MACAqiB,MAAM,GAAG,IAAI;MACb1a,QAAQ,IAAIA,QAAQ,EAAE;IAC1B;IACA,SAASgb,iBAAiB,CAACC,MAAM,EAAE;MAC/BN,cAAc,GAAGM,MAAM;MACvB,IAAIA,MAAM,EAAE;QACRP,MAAM,CAAC9iB,KAAK,CAACkgB,aAAa,GAAG,MAAM;QACnC2C,cAAc,CAAC7iB,KAAK,CAACkgB,aAAa,GAAG,MAAM;MAC/C;IACJ;IACA4C,MAAM,CAAC9iB,KAAK,CAAC2iB,OAAO,GAAG,yBAAyB,GAC5C,oDAAoD,GACpD,iBAAiB,IAChB1lB,MAAM,GAAG,uCAAuC,GAAG,EAAE,CAAC;IAC3D6lB,MAAM,CAACQ,gBAAgB,CAAC,OAAO,EAAE,UAAUjiB,CAAC,EAAE;MAC1C,IAAI,CAAC0hB,cAAc,EAAE;QACjBG,KAAK,EAAE;MACX;IACJ,CAAC,CAAC;IACF/f,QAAQ,CAACmgB,gBAAgB,CAAC,SAAS,EAAEN,mBAAmB,CAAC;IACzDH,cAAc,CAACS,gBAAgB,CAAC,OAAO,EAAE,UAAUjiB,CAAC,EAAE;MAClDA,CAAC,CAACkiB,eAAe,EAAE;IACvB,CAAC,CAAC;IACFT,MAAM,CAAC/iB,WAAW,CAAC8iB,cAAc,CAAC;IAClC1f,QAAQ,CAAC+S,IAAI,CAACnW,WAAW,CAAC+iB,MAAM,CAAC;IACjC,IAAI7lB,MAAM,EAAE;MACRA,MAAM,CAACumB,IAAI,EAAE;IACjB;IACA,OAAO;MACHN,KAAK,EAAEA,KAAK;MACZE,iBAAiB,EAAEA;IACvB,CAAC;EACL,CAAC;AAED,CAAC,CAAC;AAEF1mB,GAAG,CAACC,MAAM,CAAC,kBAAkB,EAAC,CAAC,SAAS,EAAC,SAAS,EAAC,QAAQ,CAAC,EAAE,UAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAAC,YAAY;;EAC7G,IAAI2mB,KAAK,GAAG,EAAE;EACd,SAASC,cAAc,CAACC,IAAI,EAAE;IAC1B,IAAIlY,IAAI,GAAGmY,WAAW,CAACjb,IAAI;IAC3B,IAAIkb,QAAQ,GAAGF,IAAI,CAACtU,KAAK,CAAC,QAAQ,CAAC,CAACuE,GAAG,EAAE;IACzC,KAAK,IAAIjW,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8lB,KAAK,CAACrf,MAAM,EAAEzG,CAAC,EAAE,EAAE;MACnC,IAAI8lB,KAAK,CAAC9lB,CAAC,CAAC,CAACmmB,YAAY,CAACD,QAAQ,CAAC,EAAE;QACjCpY,IAAI,GAAGgY,KAAK,CAAC9lB,CAAC,CAAC;QACf;MACJ;IACJ;IACA,OAAO8N,IAAI;EACf;EACA,IAAIsY,IAAI,GAAG,UAAU3lB,IAAI,EAAEqG,OAAO,EAAEuf,UAAU,EAAE;IAC5C,IAAI,CAAC5lB,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACqG,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACgH,IAAI,GAAG,WAAW,GAAGrN,IAAI;IAC9B,IAAI,CAAC4lB,UAAU,GAAGA,UAAU;IAC5B,IAAIxT,EAAE;IACN,IAAI,IAAI,CAAC1H,IAAI,CAACkb,UAAU,CAAC,EAAE;MACvBxT,EAAE,GAAGwT,UAAU,CAACnmB,OAAO,CAAC,UAAU,EAAE,UAAUijB,CAAC,EAAEe,CAAC,EAAE;QAChD,OAAO,IAAI,IAAIA,CAAC,GAAG,GAAG,GAAG,QAAQ,CAAC;MACtC,CAAC,CAAC,GAAG,GAAG;IACZ,CAAC,MACI;MACDrR,EAAE,GAAG,SAAS,GAAGwT,UAAU,GAAG,IAAI;IACtC;IACA,IAAI,CAACC,KAAK,GAAG,IAAIxT,MAAM,CAACD,EAAE,EAAE,IAAI,CAAC;EACrC,CAAC;EACDuT,IAAI,CAAChN,SAAS,CAAC+M,YAAY,GAAG,UAAUI,QAAQ,EAAE;IAC9C,OAAOA,QAAQ,CAACpS,KAAK,CAAC,IAAI,CAACmS,KAAK,CAAC;EACrC,CAAC;EACD,IAAIE,cAAc,GAAG;IACjBC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,YAAY,EAAE,CAAC,IAAI,CAAC;IACpBC,GAAG,EAAE,CAAC,SAAS,CAAC;IAChBC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,WAAW,EAAE,CAAC,gEAAgE,CAAC;IAC/EC,IAAI,EAAE,CAAC,sBAAsB,CAAC;IAC9BC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,QAAQ,EAAE,CAAC,eAAe,CAAC;IAC3BC,GAAG,EAAE,CAAC,kBAAkB,CAAC;IACzBC,YAAY,EAAE,CAAC,OAAO,CAAC;IACvBC,UAAU,EAAE,CAAC,KAAK,CAAC;IACnBC,SAAS,EAAE,CAAC,SAAS,CAAC;IACtBC,MAAM,EAAE,CAAC,KAAK,CAAC;IACfC,KAAK,EAAE,CAAC,2BAA2B,CAAC;IACpCC,QAAQ,EAAE,CAAC,kBAAkB,CAAC;IAC9BC,KAAK,EAAE,CAAC,UAAU,CAAC;IACnBC,OAAO,EAAE,CAAC,UAAU,CAAC;IACrBC,KAAK,EAAE,CAAC,SAAS,CAAC;IAClBC,MAAM,EAAE,CAAC,0BAA0B,CAAC;IACpCC,UAAU,EAAE,CAAC,KAAK,CAAC;IACnBC,OAAO,EAAE,CAAC,IAAI,CAAC;IACfC,MAAM,EAAE,CAAC,IAAI,CAAC;IACdC,eAAe,EAAE,CAAC,KAAK,CAAC;IACxBC,gBAAgB,EAAE,CAAC,KAAK,CAAC;IACzBC,YAAY,EAAE,CAAC,KAAK,CAAC;IACrBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,CAAC,EAAE,CAAC,MAAM,CAAC;IACXC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,IAAI,EAAE,CAAC,YAAY,CAAC;IACpBC,UAAU,EAAE,CAAC,aAAa,CAAC;IAC3BC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,MAAM,EAAE,CAAC,KAAK,CAAC;IACfC,OAAO,EAAE,CAAC,KAAK,CAAC;IAChBC,MAAM,EAAE,CAAC,MAAM,CAAC;IAChBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,MAAM,EAAE,CAAC,SAAS,CAAC;IACnBC,KAAK,EAAE,CAAC,oBAAoB,CAAC;IAC7BC,OAAO,EAAE,CAAC,OAAO,CAAC;IAClBC,MAAM,EAAE,CAAC,4BAA4B,CAAC;IACtCC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,OAAO,EAAE,CAAC,SAAS,CAAC;IACpBC,SAAS,EAAE,CAAC,aAAa,CAAC;IAC1BC,IAAI,EAAE,CAAC,gBAAgB,CAAC;IACxBC,SAAS,EAAE,CAAC,KAAK,CAAC;IAClBC,MAAM,EAAE,CAAC,IAAI,CAAC;IACdC,aAAa,EAAE,CAAC,KAAK,CAAC;IACtBC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClBC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,UAAU,EAAE,CAAC,6BAA6B,CAAC;IAC3CC,OAAO,EAAE,CAAC,IAAI,CAAC;IACfC,aAAa,EAAE,CAAC,OAAO,CAAC;IACxBC,IAAI,EAAE,CAAC,IAAI,CAAC;IACZC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,IAAI,EAAE,CAAC,2BAA2B,CAAC;IACnCC,WAAW,EAAE,CAAC,cAAc,CAAC;IAC7BC,SAAS,EAAE,CAAC,oBAAoB,CAAC;IACjCC,GAAG,EAAE,CAAC,oBAAoB,CAAC;IAC3BC,EAAE,EAAE,CAAC,IAAI,CAAC;IACVC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,IAAI,EAAE,CAAC,UAAU,CAAC;IAClBC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,UAAU,EAAE,CAAC,oBAAoB,CAAC;IAClCC,IAAI,EAAE,CAAC,MAAM,CAAC;IACd9R,IAAI,EAAE,CAAC,MAAM,CAAC;IACd+R,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,MAAM,EAAE,CAAC,IAAI,CAAC;IACdC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,IAAI,EAAE,CAAC,iBAAiB,CAAC;IACzBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,KAAK,EAAE,CAAC,IAAI,CAAC;IACbC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClBC,KAAK,EAAE,CAAC,mBAAmB,CAAC;IAC5BC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClBC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,UAAU,EAAE,CAAC,IAAI,CAAC;IAClBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,MAAM,EAAE,CAAC,WAAW,CAAC;IACrBC,OAAO,EAAE,CAAC,KAAK,CAAC;IAChBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,OAAO,EAAE,CAAC,IAAI,CAAC;IACfC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClBC,QAAQ,EAAE,CAAC,sDAAsD,CAAC;IAClEC,QAAQ,EAAE,CAAC,aAAa,CAAC;IACzBC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClBC,IAAI,EAAE,CAAC,IAAI,CAAC;IACZC,SAAS,EAAE,CAAC,gBAAgB,CAAC;IAC7BC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,IAAI,EAAE,CAAC,OAAO,CAAC;IACfC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,QAAQ,EAAE,CAAC,SAAS,CAAC;IACrBC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,KAAK,EAAE,CAAC,YAAY,CAAC;IACrBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,IAAI,EAAE,CAAC,SAAS,CAAC;IACjBC,QAAQ,EAAE,CAAC,uBAAuB,CAAC;IACnCC,UAAU,EAAE,CAAC,MAAM,CAAC;IACpBC,KAAK,EAAE,CAAC,QAAQ,CAAC;IACjBC,OAAO,EAAE,CAAC,aAAa,CAAC;IACxBC,MAAM,EAAE,CAAC,OAAO,CAAC;IACjBC,IAAI,EAAE,CAAC,OAAO,CAAC;IACfC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,iBAAiB,EAAE,CAAC,WAAW,CAAC;IAChCC,GAAG,EAAE,CAAC,4DAA4D,CAAC;IACnEC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,UAAU,EAAE,CAAC,KAAK,CAAC;IACnBC,KAAK,EAAE,CAAC,4BAA4B,CAAC;IACrCC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClBC,MAAM,EAAE,CAAC,YAAY,CAAC;IACtBC,UAAU,EAAE,CAAC,YAAY,CAAC;IAC1BC,QAAQ,EAAE,CAAC,OAAO,CAAC;IACnBC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClBC,MAAM,EAAE,CAAC,IAAI,CAAC;IACdC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,CAAC,EAAE,CAAC,GAAG,CAAC;IACRC,IAAI,EAAE,CAAC,kCAAkC,CAAC;IAC1CC,KAAK,EAAE,CAAC,YAAY,CAAC;IACrBC,IAAI,EAAE,CAAC,IAAI,CAAC;IACZC,GAAG,EAAE,CAAC,UAAU,CAAC;IACjBC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,KAAK,EAAE,CAAC,gBAAgB,CAAC;IACzBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,IAAI,EAAE,CAAC,kDAAkD,CAAC;IAC1DC,IAAI,EAAE,CAAC,IAAI,CAAC;IACZC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,KAAK,EAAE,CAAC,WAAW,CAAC;IACpBC,MAAM,EAAE,CAAC,uBAAuB,CAAC;IACjCC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClBC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,EAAE,EAAE,CAAC,kBAAkB,CAAC;IACxBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,IAAI,EAAE,CAAC,WAAW,CAAC;IACnBC,MAAM,EAAE,CAAC,YAAY,CAAC;IACtBC,MAAM,EAAE,CAAC,QAAQ,CAAC;IAClB5Y,QAAQ,EAAE,CAAC,UAAU,CAAC;IACtB6Y,YAAY,EAAE,CAAC,KAAK,CAAC;IACrBC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,MAAM,EAAE,CAAC,IAAI,CAAC;IACdC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,SAAS,EAAE,CAAC,WAAW,CAAC;IACxBC,MAAM,EAAE,CAAC,aAAa,CAAC;IACvBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,SAAS,EAAE,CAAC,IAAI,EAAE,QAAQ,EAAE,YAAY,CAAC;IACzCC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,IAAI,EAAE,CAAC,KAAK,CAAC;IACbC,OAAO,EAAE,CAAC,SAAS,CAAC;IACpBC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,GAAG,EAAE,CAAC,KAAK,CAAC;IACZC,MAAM,EAAE,CAAC,KAAK,CAAC;IACfC,IAAI,EAAE,CAAC,WAAW,CAAC;IACnBC,UAAU,EAAE,CAAC,mBAAmB,CAAC;IACjCC,IAAI,EAAE,CAAC,MAAM,CAAC;IACdC,QAAQ,EAAE,CAAC,QAAQ,CAAC;IACpBC,QAAQ,EAAE,CAAC,IAAI,CAAC;IAChBC,OAAO,EAAE,CAAC,aAAa,CAAC;IACxBC,IAAI,EAAE,CAAC,UAAU,CAAC;IAClBC,WAAW,EAAE,CAAC,oBAAoB,CAAC;IACnCC,MAAM,EAAE,CAAC,gBAAgB,CAAC;IAC1BC,GAAG,EAAE,CAAC,oDAAoD,CAAC;IAC3DC,MAAM,EAAE,CAAC,IAAI,CAAC;IACdC,IAAI,EAAE,CAAC,UAAU,CAAC;IAClBC,IAAI,EAAE,CAAC,UAAU,CAAC;IAClBC,MAAM,EAAE,CAAC,MAAM;EACnB,CAAC;EACD,IAAIC,aAAa,GAAG;IAChBtE,UAAU,EAAE,aAAa;IACzBpF,MAAM,EAAE,IAAI;IACZ4B,MAAM,EAAE,IAAI;IACZpC,KAAK,EAAE,WAAW;IAClBS,eAAe,EAAE,iBAAiB;IAClCC,gBAAgB,EAAE,QAAQ;IAC1BC,YAAY,EAAE,cAAc;IAC5BN,MAAM,EAAE,cAAc;IACtB0C,SAAS,EAAE,aAAa;IACxBD,WAAW,EAAE,eAAe;IAC5BhB,GAAG,EAAE,YAAY;IACjBoE,iBAAiB,EAAE,sBAAsB;IACzCiE,KAAK,EAAE,QAAQ;IACftK,UAAU,EAAE;EAChB,CAAC;EACD,IAAInB,WAAW,GAAG,CAAC,CAAC;EACpB,KAAK,IAAIxlB,IAAI,IAAI+lB,cAAc,EAAE;IAC7B,IAAIhgB,IAAI,GAAGggB,cAAc,CAAC/lB,IAAI,CAAC;IAC/B,IAAIkxB,WAAW,GAAG,CAACF,aAAa,CAAChxB,IAAI,CAAC,IAAIA,IAAI,EAAEP,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;IAClE,IAAIqmB,QAAQ,GAAG9lB,IAAI,CAAC0G,WAAW,EAAE;IACjC,IAAI2G,IAAI,GAAG,IAAIsY,IAAI,CAACG,QAAQ,EAAEoL,WAAW,EAAEnrB,IAAI,CAAC,CAAC,CAAC,CAAC;IACnDyf,WAAW,CAACM,QAAQ,CAAC,GAAGzY,IAAI;IAC5BgY,KAAK,CAACplB,IAAI,CAACoN,IAAI,CAAC;EACpB;EACA3O,MAAM,CAACD,OAAO,GAAG;IACb6mB,cAAc,EAAEA,cAAc;IAC9BD,KAAK,EAAEA,KAAK;IACZG,WAAW,EAAEA;EACjB,CAAC;AAED,CAAC,CAAC;AAEFlnB,GAAG,CAACC,MAAM,CAAC,gBAAgB,EAAC,CAAC,SAAS,EAAC,SAAS,EAAC,QAAQ,EAAC,WAAW,EAAC,aAAa,EAAC,kDAAkD,EAAC,kBAAkB,EAAC,wBAAwB,EAAC,wBAAwB,EAAC,iBAAiB,EAAC,eAAe,EAAC,iCAAiC,EAAC,kBAAkB,CAAC,EAAE,UAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAAC;AACxU;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACA,YAAY;;EACZ,IAAI2B,KAAK,GAAG7B,OAAO,CAAC,UAAU,CAAC,CAAC6B,KAAK;EACrC,IAAIG,GAAG,GAAGhC,OAAO,CAAC,YAAY,CAAC;EAC/B,IAAI2yB,SAAS,GAAG3yB,OAAO,CAAC,iDAAiD,CAAC;EAC1E,IAAIwiB,YAAY,GAAGxiB,OAAO,CAAC,iBAAiB,CAAC,CAACwiB,YAAY;EAC1D,IAAIzf,QAAQ,GAAG/C,OAAO,CAAC,uBAAuB,CAAC,CAAC+C,QAAQ;EACxD,IAAIX,iBAAiB,GAAGpC,OAAO,CAAC,uBAAuB,CAAC,CAACoC,iBAAiB;EAC1E,IAAIwwB,WAAW,GAAG5yB,OAAO,CAAC,gBAAgB,CAAC,CAAC4yB,WAAW;EACvD,IAAIzlB,SAAS,GAAGnN,OAAO,CAAC,cAAc,CAAC,CAACmN,SAAS;EACjD,IAAI6Y,WAAW,GAAGhmB,OAAO,CAAC,2BAA2B,CAAC,CAACgmB,WAAW;EAClE,IAAI6M,QAAQ,GAAG7yB,OAAO,CAAC,YAAY,CAAC;EACpC,IAAI8yB,UAAU;EACd,SAASC,MAAM,CAAC1yB,MAAM,EAAEsI,OAAO,EAAE8O,OAAO,EAAEjM,QAAQ,EAAE;IAChD,IAAI,OAAO7C,OAAO,IAAI,QAAQ,EAAE;MAC5B,OAAOoqB,MAAM,CAAC1yB,MAAM,EAAE,EAAE,EAAEsI,OAAO,EAAE8O,OAAO,CAAC;IAC/C;IACA,IAAIqb,UAAU,EAAE;MACZ,IAAIE,UAAU,GAAGF,UAAU;MAC3BzyB,MAAM,GAAG2yB,UAAU,CAAC3yB,MAAM;MAC1B2yB,UAAU,CAAC1M,KAAK,EAAE;MAClB,IAAI0M,UAAU,CAACxxB,IAAI,IAAIwxB,UAAU,CAACxxB,IAAI,IAAIiW,OAAO,CAACjW,IAAI,EAClD;IACR;IACA,IAAIiW,OAAO,CAACwb,KAAK,EACb,OAAOF,MAAM,CAACtb,OAAO,CAACwb,KAAK,CAAC,CAAC5yB,MAAM,EAAEmL,QAAQ,CAAC;IAClD,IAAI0nB,OAAO,GAAG9wB,iBAAiB,EAAE;IACjC8wB,OAAO,CAAC9uB,OAAO,CAAC+uB,cAAc,CAAC,IAAIP,WAAW,EAAE,CAAC;IACjD,IAAIvwB,EAAE,GAAGL,GAAG,CAACoxB,QAAQ,CAAC,CAAC,KAAK,EAAE;MAAEC,KAAK,EAAE,sBAAsB,IAAI5b,OAAO,CAAC6b,cAAc,GAAG,6BAA6B,GAAG,EAAE;IAAE,CAAC,CAAC,CAAC;IACjI,IAAIC,OAAO,GAAGvN,WAAW,CAAC3lB,MAAM,EAAEgC,EAAE,EAAEmxB,IAAI,CAAC;IAC3CnxB,EAAE,CAACc,WAAW,CAAC+vB,OAAO,CAACzvB,SAAS,CAAC;IACjC,IAAIpD,MAAM,EAAE;MACRA,MAAM,CAAC6yB,OAAO,GAAGA,OAAO;MACxBA,OAAO,CAACvvB,SAAS,CAAC,UAAU,EAAEtD,MAAM,CAACyd,SAAS,CAAC,UAAU,CAAC,CAAC;IAC/D;IACA,IAAInV,OAAO,EAAE;MACTuqB,OAAO,CAAC9pB,QAAQ,CAACT,OAAO,EAAE,CAAC,CAAC;IAChC;IACA,IAAI8O,OAAO,CAAC7S,SAAS,EAAE;MACnBsuB,OAAO,CAACtuB,SAAS,CAAC6uB,QAAQ,CAAC;QACvB1uB,KAAK,EAAEmuB,OAAO,CAAC9uB,OAAO,CAACiD,GAAG,CAACqsB,eAAe,CAACjc,OAAO,CAAC7S,SAAS,CAAC,CAAC,CAAC,CAAC;QAChEK,GAAG,EAAEiuB,OAAO,CAAC9uB,OAAO,CAACiD,GAAG,CAACqsB,eAAe,CAACjc,OAAO,CAAC7S,SAAS,CAAC,CAAC,CAAC;MACjE,CAAC,CAAC;IACN;IACA,IAAI6S,OAAO,CAAC0K,cAAc,EAAE;MACxB,IAAIjf,KAAK,GAAG,IAAIH,QAAQ,EAAE;MAC1BG,KAAK,CAACZ,QAAQ,CAACkB,QAAQ,CAAC,yBAAyB,CAAC;MAClDN,KAAK,CAACO,SAAS,CAACL,KAAK,CAACC,OAAO,GAAG,OAAO;MACvCH,KAAK,CAACO,SAAS,CAACL,KAAK,CAACuwB,QAAQ,GAAG,OAAO;MACxCzwB,KAAK,CAACO,SAAS,CAACL,KAAK,CAACwwB,KAAK,GAAG,MAAM;MACpC1wB,KAAK,CAACO,SAAS,CAACL,KAAK,CAACywB,SAAS,GAAG,KAAK;MACvC3wB,KAAK,CAACZ,QAAQ,CAACwxB,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;MAC1C5wB,KAAK,CAAC+F,UAAU,GAAG,KAAK;MACxB/F,KAAK,CAACZ,QAAQ,CAACC,SAAS,GAAG,EAAE;MAC7BW,KAAK,CAAC2C,MAAM,CAAC,CAAC,CAAC,CAAC;MAChB3C,KAAK,CAACsB,EAAE,CAAC,OAAO,EAAE,UAAUC,CAAC,EAAE;QAC3B,IAAI8C,IAAI,GAAGrE,KAAK,CAAC4D,OAAO,CAAC5D,KAAK,CAAC8C,MAAM,EAAE,CAAC;QACxC,IAAI,CAACuB,IAAI,CAACwsB,KAAK,EAAE;UACbb,OAAO,CAAC9pB,QAAQ,CAAC7B,IAAI,CAACR,KAAK,IAAIQ,IAAI,CAAC/F,IAAI,IAAI+F,IAAI,CAAC;UACjDysB,MAAM,EAAE;UACRvvB,CAAC,CAACS,IAAI,EAAE;QACZ;MACJ,CAAC,CAAC;MACF7C,EAAE,CAACc,WAAW,CAACD,KAAK,CAACO,SAAS,CAAC;MAC/B4b,iBAAiB,EAAE;IACvB;IACA,IAAI5H,OAAO,CAACwc,MAAM,EAAE;MAChB,IAAIC,SAAS,GAAG,IAAI/mB,SAAS,CAACsK,OAAO,CAACwc,MAAM,CAAC;MAC7Cf,OAAO,CAAC9uB,OAAO,CAACsD,WAAW,CAACysB,YAAY,CAACD,SAAS,CAAC;IACvD;IACA,IAAIzc,OAAO,CAAC2c,WAAW,EAAE;MACrBlB,OAAO,CAACvvB,SAAS,CAAC,aAAa,EAAE8T,OAAO,CAAC2c,WAAW,CAAC;IACzD;IACA,IAAI3c,OAAO,CAAC6b,cAAc,EAAE;MACxB,IAAIe,mBAAmB,GAAGryB,GAAG,CAACoxB,QAAQ,CAAC,CAAC,KAAK,EAAE;QAAEC,KAAK,EAAE;MAA4B,CAAC,CAAC,CAAC;MACvFrxB,GAAG,CAACoxB,QAAQ,CAAC3b,OAAO,CAACsb,MAAM,IAAI,gDAAgD,EAAEsB,mBAAmB,CAAC;MACrGhyB,EAAE,CAACc,WAAW,CAACkxB,mBAAmB,CAAC;IACvC;IACAd,OAAO,CAAC/M,iBAAiB,CAAC/O,OAAO,CAAC0O,cAAc,CAAC;IACjD,SAAS6N,MAAM,GAAG;MACd,IAAIvuB,GAAG;MACP,IAAIvC,KAAK,IAAIA,KAAK,CAACqJ,iBAAiB,EAAE,CAACvH,GAAG,GAAG,CAAC,EAAE;QAC5CS,GAAG,GAAG6uB,mBAAmB,EAAE;MAC/B,CAAC,MACI;QACD7uB,GAAG,GAAGytB,OAAO,CAAC7W,QAAQ,EAAE;MAC5B;MACA,IAAIkY,OAAO,GAAGrxB,KAAK,GAAGA,KAAK,CAAC4D,OAAO,CAAC5D,KAAK,CAAC8C,MAAM,EAAE,CAAC,GAAGP,GAAG;MACzD,IAAI8uB,OAAO,IAAI,CAACA,OAAO,CAACR,KAAK,EAAE;QAC3BP,IAAI,EAAE;QACN/b,OAAO,CAAC+c,QAAQ,IAAI/c,OAAO,CAAC+c,QAAQ,CAAC;UACjCztB,KAAK,EAAEtB,GAAG;UACV2d,IAAI,EAAEmR;QACV,CAAC,EAAErB,OAAO,CAAC;MACf;IACJ;IACA,IAAI/yB,IAAI,GAAG;MACP,OAAO,EAAE6zB,MAAM;MACf,eAAe,EAAE,YAAY;QACzBvc,OAAO,CAACgd,QAAQ,IAAIhd,OAAO,CAACgd,QAAQ,CAACvB,OAAO,CAAC7W,QAAQ,EAAE,EAAE6W,OAAO,CAAC;QACjEM,IAAI,EAAE;MACV;IACJ,CAAC;IACD,IAAItwB,KAAK,EAAE;MACP0S,MAAM,CAAC8e,MAAM,CAACv0B,IAAI,EAAE;QAChB,IAAI,EAAE,UAAUE,MAAM,EAAE;UAAE6C,KAAK,CAAC6H,IAAI,CAAC,IAAI,CAAC;UAAEupB,mBAAmB,EAAE;QAAE,CAAC;QACpE,MAAM,EAAE,UAAUj0B,MAAM,EAAE;UAAE6C,KAAK,CAAC6H,IAAI,CAAC,MAAM,CAAC;UAAEupB,mBAAmB,EAAE;QAAE,CAAC;QACxE,mBAAmB,EAAE,UAAUj0B,MAAM,EAAE;UAAE6C,KAAK,CAAC6H,IAAI,CAAC,OAAO,CAAC;UAAEupB,mBAAmB,EAAE;QAAE,CAAC;QACtF,oBAAoB,EAAE,UAAUj0B,MAAM,EAAE;UAAE6C,KAAK,CAAC6H,IAAI,CAAC,KAAK,CAAC;UAAEupB,mBAAmB,EAAE;QAAE,CAAC;QACrF,KAAK,EAAE,UAAUj0B,MAAM,EAAE;UAAE6C,KAAK,CAAC6H,IAAI,CAAC,MAAM,CAAC;UAAEupB,mBAAmB,EAAE;QAAE,CAAC;QACvE,QAAQ,EAAE,UAAUj0B,MAAM,EAAE;UAAE6C,KAAK,CAAC0e,UAAU,EAAE;UAAE0S,mBAAmB,EAAE;QAAE,CAAC;QAC1E,UAAU,EAAE,UAAUj0B,MAAM,EAAE;UAAE6C,KAAK,CAAC2e,YAAY,EAAE;UAAEyS,mBAAmB,EAAE;QAAE;MACjF,CAAC,CAAC;IACN;IACApB,OAAO,CAAC9xB,QAAQ,CAACmd,QAAQ,CAACpe,IAAI,CAAC;IAC/B,SAASqzB,IAAI,GAAG;MACZD,OAAO,CAACjN,KAAK,EAAE;MACf9a,QAAQ,IAAIA,QAAQ,EAAE;MACtBsnB,UAAU,GAAG,IAAI;IACrB;IACAI,OAAO,CAAC1uB,EAAE,CAAC,OAAO,EAAE,YAAY;MAC5BiT,OAAO,CAACkd,OAAO,IAAIld,OAAO,CAACkd,OAAO,EAAE;MACpCtV,iBAAiB,EAAE;IACvB,CAAC,CAAC;IACF,SAASA,iBAAiB,GAAG;MACzB,IAAI5H,OAAO,CAAC0K,cAAc,EAAE;QACxB,IAAI3V,MAAM;QACV,IAAIiL,OAAO,CAACmd,SAAS,EAAE;UACnBpoB,MAAM,GAAGiL,OAAO,CAACmd,SAAS,CAAC1B,OAAO,CAAC;QACvC;QACA,IAAIpT,WAAW,GAAGrI,OAAO,CAAC0K,cAAc,CAAC+Q,OAAO,CAAC;QACjDhwB,KAAK,CAACgG,OAAO,CAAC4W,WAAW,EAAEtT,MAAM,CAAC;QAClCtJ,KAAK,CAAC2xB,MAAM,CAAC,IAAI,CAAC;MACtB;IACJ;IACA,SAASP,mBAAmB,GAAG;MAC3B,IAAIQ,OAAO,GAAG5xB,KAAK,CAAC4D,OAAO,CAAC5D,KAAK,CAAC8C,MAAM,EAAE,CAAC;MAC3C,IAAI8uB,OAAO,IAAI,CAACA,OAAO,CAACf,KAAK,EACzB,OAAOe,OAAO,CAAC/tB,KAAK,IAAI+tB,OAAO,CAACjtB,OAAO,IAAIitB,OAAO;IAC1D;IACA5B,OAAO,CAAC2B,MAAM,CAAC,IAAI,CAAC;IACpB,IAAI3xB,KAAK,EAAE;MACPA,KAAK,CAAC2xB,MAAM,CAAC,IAAI,CAAC;IACtB;IACA3B,OAAO,CAACrvB,KAAK,EAAE;IACfivB,UAAU,GAAG;MACTxM,KAAK,EAAEkN,IAAI;MACXhyB,IAAI,EAAEiW,OAAO,CAACjW,IAAI;MAClBnB,MAAM,EAAEA;IACZ,CAAC;EACL;EACA0yB,MAAM,CAACgC,QAAQ,GAAG,UAAU10B,MAAM,EAAEmL,QAAQ,EAAE;IAC1C,SAASwpB,kBAAkB,CAACpwB,SAAS,EAAE;MACnC,IAAI,CAACvD,KAAK,CAACC,OAAO,CAACsD,SAAS,CAAC,EACzBA,SAAS,GAAG,CAACA,SAAS,CAAC;MAC3B,OAAOA,SAAS,CAAC8N,GAAG,CAAC,UAAUuiB,CAAC,EAAE;QAC9B,IAAI1xB,MAAM,GAAG0xB,CAAC,CAACC,WAAW,GAAGD,CAAC,CAAClwB,KAAK,GAAGkwB,CAAC,CAAChwB,GAAG;QAC5C,IAAI4X,MAAM,GAAGoY,CAAC,CAACC,WAAW,GAAGD,CAAC,CAAChwB,GAAG,GAAGgwB,CAAC,CAAClwB,KAAK;QAC5C,IAAIC,GAAG,GAAG6X,MAAM,CAAC7X,GAAG;QACpB,IAAIwT,CAAC,GAAIxT,GAAG,GAAG,CAAC,GAAI,GAAG,GAAG6X,MAAM,CAAChQ,MAAM;QACvC,IAAIgQ,MAAM,CAAC7X,GAAG,IAAIzB,MAAM,CAACyB,GAAG,EAAE;UAC1B,IAAI6X,MAAM,CAAChQ,MAAM,IAAItJ,MAAM,CAACsJ,MAAM,EAC9B2L,CAAC,IAAI,GAAG,GAAG,GAAG,GAAGjV,MAAM,CAACsJ,MAAM;QACtC,CAAC,MACI;UACD2L,CAAC,IAAI,GAAG,IAAIjV,MAAM,CAACyB,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,GAAGzB,MAAM,CAACsJ,MAAM;QACrD;QACA,OAAO2L,CAAC;MACZ,CAAC,CAAC,CAACrM,OAAO,EAAE,CAACC,IAAI,CAAC,IAAI,CAAC;IAC3B;IACA2mB,MAAM,CAAC1yB,MAAM,EAAE,GAAG,GAAG20B,kBAAkB,CAAC30B,MAAM,CAACuE,SAAS,CAACuwB,MAAM,EAAE,CAAC,EAAE;MAChE3zB,IAAI,EAAE,UAAU;MAChBoD,SAAS,EAAE,CAAC,CAAC,EAAEwwB,MAAM,CAACC,SAAS,CAAC;MAChCb,QAAQ,EAAE,UAAUjtB,IAAI,EAAE;QACtB,IAAIR,KAAK,GAAGQ,IAAI,CAACR,KAAK;QACtB,IAAIuuB,QAAQ,GAAGvC,MAAM,CAACgC,QAAQ,CAACO,QAAQ;QACvC,IAAI,CAACA,QAAQ,EACTvC,MAAM,CAACgC,QAAQ,CAACO,QAAQ,GAAGA,QAAQ,GAAG,EAAE;QAC5C,IAAIA,QAAQ,CAAC7sB,OAAO,CAAC1B,KAAK,CAAC,IAAI,CAAC,CAAC,EAC7BuuB,QAAQ,CAACxf,MAAM,CAACwf,QAAQ,CAAC7sB,OAAO,CAAC1B,KAAK,CAAC,EAAE,CAAC,CAAC;QAC/CuuB,QAAQ,CAACnjB,OAAO,CAACpL,KAAK,CAAC;QACvB,IAAIuuB,QAAQ,CAAC9tB,MAAM,GAAG,EAAE,EACpB8tB,QAAQ,CAAC9tB,MAAM,GAAG,EAAE;QACxB,IAAI9C,GAAG,GAAGrE,MAAM,CAACkM,iBAAiB,EAAE;QACpC,IAAIwO,MAAM,GAAG,EAAE;QACfhU,KAAK,CAAC9F,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAACwR,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,UAAUjC,GAAG,EAAE;UAClD,IAAI8kB,KAAK,GAAG9kB,GAAG,CAACgC,KAAK,CAAC,8BAA8B,CAAC,CAAC4S,MAAM,CAACmQ,OAAO,CAAC;UACrE,IAAIz0B,CAAC,GAAG,CAAC;UACT,SAAS00B,YAAY,GAAG;YACpB,IAAIve,CAAC,GAAGqe,KAAK,CAACx0B,CAAC,EAAE,CAAC;YAClB,IAAI,CAACmW,CAAC,EACF;YACJ,IAAIA,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;cACb,IAAIhV,KAAK,GAAGoP,QAAQ,CAAC4F,CAAC,CAAC1O,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;cACrC,OAAOnI,MAAM,CAAC+D,OAAO,CAACiD,GAAG,CAACqsB,eAAe,CAACxxB,KAAK,CAAC;YACpD;YACA,IAAI8C,GAAG,GAAGN,GAAG,CAACM,GAAG;YACjB,IAAI6H,MAAM,GAAG,CAAC;YACd,IAAI,IAAI,CAACX,IAAI,CAACgL,CAAC,CAAC,EAAE;cACdlS,GAAG,GAAGsM,QAAQ,CAAC4F,CAAC,CAAC,GAAG,CAAC;cACrBA,CAAC,GAAGqe,KAAK,CAACx0B,CAAC,EAAE,CAAC;YAClB;YACA,IAAImW,CAAC,IAAI,GAAG,EAAE;cACVA,CAAC,GAAGqe,KAAK,CAACx0B,CAAC,EAAE,CAAC;cACd,IAAI,IAAI,CAACmL,IAAI,CAACgL,CAAC,CAAC,EAAE;gBACdrK,MAAM,GAAGyE,QAAQ,CAAC4F,CAAC,CAAC,IAAI,CAAC;cAC7B;YACJ;YACA,OAAO;cAAElS,GAAG,EAAEA,GAAG;cAAE6H,MAAM,EAAEA;YAAO,CAAC;UACvC;UACAnI,GAAG,GAAG+wB,YAAY,EAAE;UACpB,IAAIxf,KAAK,GAAGpU,KAAK,CAACkc,UAAU,CAACrZ,GAAG,EAAEA,GAAG,CAAC;UACtC,IAAI6wB,KAAK,CAACx0B,CAAC,CAAC,IAAI,GAAG,EAAE;YACjBA,CAAC,EAAE;YACHkV,KAAK,CAAChR,GAAG,GAAGwwB,YAAY,EAAE;UAC9B,CAAC,MACI,IAAIF,KAAK,CAACx0B,CAAC,CAAC,IAAI,GAAG,EAAE;YACtBA,CAAC,EAAE;YACHkV,KAAK,CAAClR,KAAK,GAAG0wB,YAAY,EAAE;UAChC;UACA1a,MAAM,CAAC5I,OAAO,CAAC8D,KAAK,CAAC;QACzB,CAAC,CAAC;QACF5V,MAAM,CAACuE,SAAS,CAAC8wB,QAAQ,CAAC3a,MAAM,CAAC;QACjC,IAAInV,SAAS,GAAGvF,MAAM,CAACiC,QAAQ,CAACsD,SAAS;QACzCvF,MAAM,CAACiC,QAAQ,CAACqzB,uBAAuB,CAACt1B,MAAM,CAACuE,SAAS,CAACiY,MAAM,EAAExc,MAAM,CAACuE,SAAS,CAACrB,MAAM,EAAE,GAAG,CAAC;QAC9FlD,MAAM,CAACiC,QAAQ,CAACszB,gBAAgB,CAAChwB,SAAS,CAAC;MAC/C,CAAC;MACDiwB,OAAO,EAAE,YAAY;QACjB,IAAIC,WAAW,GAAGz1B,MAAM,CAAC+D,OAAO,CAAC2xB,cAAc,EAAE;QACjD,IAAI,CAAChD,MAAM,CAACgC,QAAQ,CAACO,QAAQ,EACzB,OAAO,EAAE;QACb,OAAOvC,MAAM,CAACgC,QAAQ,CAACO,QAAQ;MACnC,CAAC;MACDnT,cAAc,EAAE,UAAU+Q,OAAO,EAAE;QAC/B,IAAInsB,KAAK,GAAGmsB,OAAO,CAAC7W,QAAQ,EAAE;QAC9B,IAAIvC,CAAC,GAAG/S,KAAK,CAAC9F,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAACwR,KAAK,CAAC,GAAG,CAAC;QAC1C,IAAIzN,GAAG,GAAGuE,IAAI,CAACE,GAAG,CAAC6H,QAAQ,CAACwI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAEzZ,MAAM,CAAC+D,OAAO,CAACkD,SAAS,EAAE,CAAC,GAAG,CAAC;QACvE,IAAIgC,IAAI,GAAGjJ,MAAM,CAAC+D,OAAO,CAACqD,OAAO,CAACzC,GAAG,CAAC;QACtC,IAAI8vB,OAAO,GAAG/tB,KAAK,GAAG,IAAI,GAAGuC,IAAI;QACjC,OAAO,CAACwrB,OAAO,CAAC,CAAC3yB,MAAM,CAAC,IAAI,CAAC0zB,OAAO,EAAE,CAAC;MAC3C,CAAC;MACD5B,MAAM,EAAE;QACJlvB,KAAK,EAAE,CAAC;UACAiH,KAAK,EAAE,KAAK;UACZoG,KAAK,EAAE;QACX,CAAC,EAAE;UACCpG,KAAK,EAAE,YAAY;UACnBoG,KAAK,EAAE;QACX,CAAC;MACT;IACJ,CAAC,CAAC;EACN,CAAC;EACD2gB,MAAM,CAAC3xB,QAAQ,GAAG,UAAUf,MAAM,EAAEmL,QAAQ,EAAE;IAC1C,SAASwqB,aAAa,CAACx0B,IAAI,EAAE;MACzB,OAAO,CAACA,IAAI,IAAI,EAAE,EAAEP,OAAO,CAAC,IAAI,EAAE,UAAUC,CAAC,EAAE;QAC3C,OAAOA,CAAC,CAACC,WAAW,CAACD,CAAC,CAAC;MAC3B,CAAC,CAAC,CAACD,OAAO,CAAC,aAAa,EAAE,UAAUC,CAAC,EAAE;QACnC,OAAOA,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,CAAC,CAAC,CAAC,CAAC,CAACgH,WAAW,CAAChH,CAAC,CAAC;MAC3C,CAAC,CAAC;IACN;IACA,SAAS+0B,uBAAuB,CAACC,eAAe,EAAE;MAC9C,IAAIC,cAAc,GAAG,EAAE;MACvB,IAAI31B,UAAU,GAAG,CAAC,CAAC;MACnBH,MAAM,CAACI,UAAU,CAACC,SAAS,CAACC,OAAO,CAAC,UAAUC,OAAO,EAAE;QACnD,IAAIw1B,QAAQ,GAAGx1B,OAAO,CAACw1B,QAAQ;QAC/B,IAAIC,GAAG,GAAGz1B,OAAO,CAAC01B,MAAM;QACxB,KAAK,IAAIv1B,CAAC,IAAIs1B,GAAG,EAAE;UACf,IAAIr1B,GAAG,GAAGq1B,GAAG,CAACt1B,CAAC,CAAC,CAAC+jB,OAAO;UACxB,IAAI,OAAO9jB,GAAG,KAAK,QAAQ,EAAE;YACzBA,GAAG,GAAGA,GAAG,IAAIA,GAAG,CAACo1B,QAAQ,CAAC,IAAI,EAAE;UACpC;UACA,IAAIh1B,QAAQ,GAAGi1B,GAAG,CAACt1B,CAAC,CAAC;UACrB,IAAIw1B,WAAW,GAAGn1B,QAAQ,CAACm1B,WAAW,IAAIP,aAAa,CAAC50B,QAAQ,CAACI,IAAI,CAAC;UACtE,IAAI,CAACH,KAAK,CAACC,OAAO,CAACF,QAAQ,CAAC,EACxBA,QAAQ,GAAG,CAACA,QAAQ,CAAC;UACzBA,QAAQ,CAACT,OAAO,CAAC,UAAUY,OAAO,EAAE;YAChC,IAAI,OAAOA,OAAO,IAAI,QAAQ,EAC1BA,OAAO,GAAGA,OAAO,CAACC,IAAI;YAC1B,IAAI+jB,MAAM,GAAG2Q,eAAe,CAACM,IAAI,CAAC,UAAUn0B,EAAE,EAAE;cAC5C,OAAOA,EAAE,KAAKd,OAAO;YACzB,CAAC,CAAC;YACF,IAAI,CAACgkB,MAAM,EAAE;cACT,IAAI/kB,UAAU,CAACe,OAAO,CAAC,EAAE;gBACrBf,UAAU,CAACe,OAAO,CAAC,CAACP,GAAG,IAAI,GAAG,GAAGA,GAAG;cACxC,CAAC,MACI;gBACDR,UAAU,CAACe,OAAO,CAAC,GAAG;kBAAEP,GAAG,EAAEA,GAAG;kBAAEO,OAAO,EAAEA,OAAO;kBAAEg1B,WAAW,EAAEA;gBAAY,CAAC;gBAC9EJ,cAAc,CAAC10B,IAAI,CAACjB,UAAU,CAACe,OAAO,CAAC,CAAC;cAC5C;YACJ;UACJ,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;MACF,OAAO40B,cAAc;IACzB;IACA,IAAIM,mBAAmB,GAAG,CAAC,cAAc,EAAE,YAAY,EAAE,gBAAgB,EAAE,OAAO,CAAC;IACnF,IAAIC,cAAc,GAAGT,uBAAuB,CAACQ,mBAAmB,CAAC;IACjEC,cAAc,GAAGA,cAAc,CAAChkB,GAAG,CAAC,UAAU0Q,IAAI,EAAE;MAChD,OAAO;QAAErc,KAAK,EAAEqc,IAAI,CAACmT,WAAW;QAAE7tB,IAAI,EAAE0a,IAAI,CAACpiB,GAAG;QAAEO,OAAO,EAAE6hB,IAAI,CAAC7hB;MAAQ,CAAC;IAC7E,CAAC,CAAC;IACFwxB,MAAM,CAAC1yB,MAAM,EAAE,EAAE,EAAE;MACfmB,IAAI,EAAE,UAAU;MAChBoD,SAAS,EAAE,CAAC,CAAC,EAAEwwB,MAAM,CAACC,SAAS,CAAC;MAChCsB,eAAe,EAAE,CAAC;MAClBnC,QAAQ,EAAE,UAAUjtB,IAAI,EAAE;QACtB,IAAIA,IAAI,CAAC6b,IAAI,EAAE;UACX,IAAIwT,WAAW,GAAGrvB,IAAI,CAAC6b,IAAI,CAAC7hB,OAAO;UACnC,IAAI,CAACs1B,YAAY,CAACtvB,IAAI,CAAC6b,IAAI,CAAC;UAC5B/iB,MAAM,CAACsd,WAAW,CAACiZ,WAAW,CAAC;QACnC;MACJ,CAAC;MACDC,YAAY,EAAE,UAAUzT,IAAI,EAAE;QAC1B,IAAIyS,OAAO,GAAG,IAAI,CAACA,OAAO,EAAE;QAC5BA,OAAO,CAAC1jB,OAAO,CAACiR,IAAI,CAAC;QACrB,OAAOA,IAAI,CAACza,OAAO;QACnB,KAAK,IAAI5H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG80B,OAAO,CAACruB,MAAM,EAAEzG,CAAC,EAAE,EAAE;UACrC,IAAI80B,OAAO,CAAC90B,CAAC,CAAC,CAAC,SAAS,CAAC,IAAIqiB,IAAI,CAAC7hB,OAAO,EAAE;YACvCs0B,OAAO,CAAC/f,MAAM,CAAC/U,CAAC,EAAE,CAAC,CAAC;YACpB;UACJ;QACJ;QACA,IAAI,IAAI,CAAC41B,eAAe,GAAG,CAAC,IAAId,OAAO,CAACruB,MAAM,GAAG,IAAI,CAACmvB,eAAe,EAAE;UACnEd,OAAO,CAAC/f,MAAM,CAAC+f,OAAO,CAACruB,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC;QACzC;QACAurB,MAAM,CAAC3xB,QAAQ,CAACy0B,OAAO,GAAGA,OAAO;MACrC,CAAC;MACDA,OAAO,EAAE,YAAY;QACjB,OAAO9C,MAAM,CAAC3xB,QAAQ,CAACy0B,OAAO,IAAI,EAAE;MACxC,CAAC;MACDjB,SAAS,EAAE,UAAU1B,OAAO,EAAE;QAC1B,IAAI4D,UAAU,GAAG5D,OAAO,CAAC3mB,iBAAiB,EAAE;QAC5C,IAAIwqB,WAAW,GAAG7D,OAAO,CAAC7W,QAAQ,EAAE;QACpC,OAAO0a,WAAW,CAAC3f,SAAS,CAAC,CAAC,EAAE0f,UAAU,CAACjqB,MAAM,CAAC;MACtD,CAAC;MACDsV,cAAc,EAAE,UAAU+Q,OAAO,EAAE;QAC/B,SAAS8D,sBAAsB,CAAC51B,QAAQ,EAAEoL,MAAM,EAAE;UAC9C,IAAIyqB,cAAc,GAAGld,IAAI,CAACC,KAAK,CAACD,IAAI,CAACmd,SAAS,CAAC91B,QAAQ,CAAC,CAAC;UACzD,IAAI2e,QAAQ,GAAG,IAAIyC,YAAY,CAACyU,cAAc,CAAC;UAC/C,OAAOlX,QAAQ,CAACgF,iBAAiB,CAACkS,cAAc,EAAEzqB,MAAM,CAAC;QAC7D;QACA,SAAS2qB,oBAAoB,CAAC/1B,QAAQ,EAAEg2B,YAAY,EAAE;UAClD,IAAI,CAACA,YAAY,IAAI,CAACA,YAAY,CAAC5vB,MAAM,EAAE;YACvC,OAAOpG,QAAQ;UACnB;UACA,IAAI80B,eAAe,GAAG,EAAE;UACxBkB,YAAY,CAACz2B,OAAO,CAAC,UAAUyiB,IAAI,EAAE;YACjC8S,eAAe,CAACz0B,IAAI,CAAC2hB,IAAI,CAAC7hB,OAAO,CAAC;UACtC,CAAC,CAAC;UACF,IAAI01B,cAAc,GAAG,EAAE;UACvB71B,QAAQ,CAACT,OAAO,CAAC,UAAUyiB,IAAI,EAAE;YAC7B,IAAI8S,eAAe,CAACztB,OAAO,CAAC2a,IAAI,CAAC7hB,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;cAC9C01B,cAAc,CAACx1B,IAAI,CAAC2hB,IAAI,CAAC;YAC7B;UACJ,CAAC,CAAC;UACF,OAAO6T,cAAc;QACzB;QACA,IAAIzqB,MAAM,GAAG,IAAI,CAACooB,SAAS,CAAC1B,OAAO,CAAC;QACpC,IAAImE,oBAAoB,GAAGL,sBAAsB,CAAC,IAAI,CAACnB,OAAO,EAAE,EAAErpB,MAAM,CAAC;QACzE,IAAI8qB,aAAa,GAAGH,oBAAoB,CAACT,cAAc,EAAEW,oBAAoB,CAAC;QAC9EC,aAAa,GAAGN,sBAAsB,CAACM,aAAa,EAAE9qB,MAAM,CAAC;QAC7D,IAAI6qB,oBAAoB,CAAC7vB,MAAM,IAAI8vB,aAAa,CAAC9vB,MAAM,EAAE;UACrD6vB,oBAAoB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,gBAAgB;UACrDC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,iBAAiB;QACnD;QACA,IAAIxX,WAAW,GAAGuX,oBAAoB,CAACl1B,MAAM,CAACm1B,aAAa,CAAC;QAC5D,OAAOxX,WAAW,CAACtY,MAAM,GAAG,CAAC,GAAGsY,WAAW,GAAG,CAAC;UACvC/Y,KAAK,EAAE,sBAAsB;UAC7BgtB,KAAK,EAAE;QACX,CAAC,CAAC;MACV;IACJ,CAAC,CAAC;EACN,CAAC;EACDhB,MAAM,CAAClM,KAAK,GAAG,UAAUxmB,MAAM,EAAEmL,QAAQ,EAAE;IACvC,IAAI+rB,UAAU,GAAG1E,QAAQ,CAAChM,KAAK;IAC/B0Q,UAAU,GAAGA,UAAU,CAAC7kB,GAAG,CAAC,UAAU0Q,IAAI,EAAE;MACxC,OAAO;QAAErc,KAAK,EAAEqc,IAAI,CAACvb,OAAO;QAAEgH,IAAI,EAAEuU,IAAI,CAAC5hB;MAAK,CAAC;IACnD,CAAC,CAAC;IACFuxB,MAAM,CAAC1yB,MAAM,EAAE,EAAE,EAAE;MACfmB,IAAI,EAAE,OAAO;MACboD,SAAS,EAAE,CAAC,CAAC,EAAEwwB,MAAM,CAACC,SAAS,CAAC;MAChCb,QAAQ,EAAE,UAAUjtB,IAAI,EAAE;QACtB,IAAIA,IAAI,CAAC6b,IAAI,EAAE;UACX,IAAIoU,QAAQ,GAAG,WAAW,GAAGjwB,IAAI,CAAC6b,IAAI,CAACvU,IAAI;UAC3CxO,MAAM,CAAC+D,OAAO,CAACqzB,OAAO,CAACD,QAAQ,CAAC;QACpC;MACJ,CAAC;MACD5C,SAAS,EAAE,UAAU1B,OAAO,EAAE;QAC1B,IAAI4D,UAAU,GAAG5D,OAAO,CAAC3mB,iBAAiB,EAAE;QAC5C,IAAIwqB,WAAW,GAAG7D,OAAO,CAAC7W,QAAQ,EAAE;QACpC,OAAO0a,WAAW,CAAC3f,SAAS,CAAC,CAAC,EAAE0f,UAAU,CAACjqB,MAAM,CAAC;MACtD,CAAC;MACDsV,cAAc,EAAE,UAAU+Q,OAAO,EAAE;QAC/B,SAAS8D,sBAAsB,CAACnQ,KAAK,EAAEra,MAAM,EAAE;UAC3C,IAAIyqB,cAAc,GAAGld,IAAI,CAACC,KAAK,CAACD,IAAI,CAACmd,SAAS,CAACrQ,KAAK,CAAC,CAAC;UACtD,IAAI9G,QAAQ,GAAG,IAAIyC,YAAY,CAACyU,cAAc,CAAC;UAC/C,OAAOlX,QAAQ,CAACgF,iBAAiB,CAACkS,cAAc,EAAEzqB,MAAM,CAAC;QAC7D;QACA,IAAIA,MAAM,GAAG,IAAI,CAACooB,SAAS,CAAC1B,OAAO,CAAC;QACpC,IAAIpT,WAAW,GAAGkX,sBAAsB,CAACO,UAAU,EAAE/qB,MAAM,CAAC;QAC5D,OAAOsT,WAAW,CAACtY,MAAM,GAAG,CAAC,GAAGsY,WAAW,GAAG,CAAC;UACvC,SAAS,EAAE,kBAAkB;UAC7B,OAAO,EAAE,kBAAkB;UAC3B,OAAO,EAAE;QACb,CAAC,CAAC;MACV;IACJ,CAAC,CAAC;EACN,CAAC;EACD9d,GAAG,CAACoJ,eAAe,CAAC,wMAAwM,EAAE,YAAY,EAAE,KAAK,CAAC;EAClPnL,OAAO,CAAC8yB,MAAM,GAAGA,MAAM;AAEvB,CAAC,CAAC;AAAiB,CAAC,YAAW;EACXjzB,GAAG,CAACE,OAAO,CAAC,CAAC,gBAAgB,CAAC,EAAE,UAAS8Z,CAAC,EAAE;IACxC,IAAI,OAAO5Z,MAAM,IAAI,QAAQ,IAAI,OAAOD,OAAO,IAAI,QAAQ,IAAIC,MAAM,EAAE;MACnEA,MAAM,CAACD,OAAO,GAAG6Z,CAAC;IACtB;EACJ,CAAC,CAAC;AACN,CAAC,GAAG"},"metadata":{},"sourceType":"script"}