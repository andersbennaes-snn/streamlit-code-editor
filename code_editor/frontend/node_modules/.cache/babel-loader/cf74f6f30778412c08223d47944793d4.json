{"ast":null,"code":"\"no use strict\";\n\n!function (window) {\n  if (typeof window.window != \"undefined\" && window.document) return;\n  if (window.require && window.define) return;\n  if (!window.console) {\n    window.console = function () {\n      var msgs = Array.prototype.slice.call(arguments, 0);\n      postMessage({\n        type: \"log\",\n        data: msgs\n      });\n    };\n    window.console.error = window.console.warn = window.console.log = window.console.trace = window.console;\n  }\n  window.window = window;\n  window.ace = window;\n  window.onerror = function (message, file, line, col, err) {\n    postMessage({\n      type: \"error\",\n      data: {\n        message: message,\n        data: err && err.data,\n        file: file,\n        line: line,\n        col: col,\n        stack: err && err.stack\n      }\n    });\n  };\n  window.normalizeModule = function (parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n      var chunks = moduleName.split(\"!\");\n      return window.normalizeModule(parentId, chunks[0]) + \"!\" + window.normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n      var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n      moduleName = (base ? base + \"/\" : \"\") + moduleName;\n      while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n        var previous = moduleName;\n        moduleName = moduleName.replace(/^\\.\\//, \"\").replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n      }\n    }\n    return moduleName;\n  };\n  window.require = function require(parentId, id) {\n    if (!id) {\n      id = parentId;\n      parentId = null;\n    }\n    if (!id.charAt) throw new Error(\"worker.js require() accepts only (parentId, id) as arguments\");\n    id = window.normalizeModule(parentId, id);\n    var module = window.require.modules[id];\n    if (module) {\n      if (!module.initialized) {\n        module.initialized = true;\n        module.exports = module.factory().exports;\n      }\n      return module.exports;\n    }\n    if (!window.require.tlns) return console.log(\"unable to load \" + id);\n    var path = resolveModuleId(id, window.require.tlns);\n    if (path.slice(-3) != \".js\") path += \".js\";\n    window.require.id = id;\n    window.require.modules[id] = {}; // prevent infinite loop on broken modules\n    importScripts(path);\n    return window.require(parentId, id);\n  };\n  function resolveModuleId(id, paths) {\n    var testPath = id,\n      tail = \"\";\n    while (testPath) {\n      var alias = paths[testPath];\n      if (typeof alias == \"string\") {\n        return alias + tail;\n      } else if (alias) {\n        return alias.location.replace(/\\/*$/, \"/\") + (tail || alias.main || alias.name);\n      } else if (alias === false) {\n        return \"\";\n      }\n      var i = testPath.lastIndexOf(\"/\");\n      if (i === -1) break;\n      tail = testPath.substr(i) + tail;\n      testPath = testPath.slice(0, i);\n    }\n    return id;\n  }\n  window.require.modules = {};\n  window.require.tlns = {};\n  window.define = function (id, deps, _factory) {\n    if (arguments.length == 2) {\n      _factory = deps;\n      if (typeof id != \"string\") {\n        deps = id;\n        id = window.require.id;\n      }\n    } else if (arguments.length == 1) {\n      _factory = id;\n      deps = [];\n      id = window.require.id;\n    }\n    if (typeof _factory != \"function\") {\n      window.require.modules[id] = {\n        exports: _factory,\n        initialized: true\n      };\n      return;\n    }\n    if (!deps.length)\n      // If there is no dependencies, we inject \"require\", \"exports\" and\n      // \"module\" as dependencies, to provide CommonJS compatibility.\n      deps = [\"require\", \"exports\", \"module\"];\n    var req = function req(childId) {\n      return window.require(id, childId);\n    };\n    window.require.modules[id] = {\n      exports: {},\n      factory: function factory() {\n        var module = this;\n        var returnExports = _factory.apply(this, deps.slice(0, _factory.length).map(function (dep) {\n          switch (dep) {\n            // Because \"require\", \"exports\" and \"module\" aren't actual\n            // dependencies, we must handle them seperately.\n            case \"require\":\n              return req;\n            case \"exports\":\n              return module.exports;\n            case \"module\":\n              return module;\n            // But for all other dependencies, we can just go ahead and\n            // require them.\n            default:\n              return req(dep);\n          }\n        }));\n        if (returnExports) module.exports = returnExports;\n        return module;\n      }\n    };\n  };\n  window.define.amd = {};\n  window.require.tlns = {};\n  window.initBaseUrls = function initBaseUrls(topLevelNamespaces) {\n    for (var i in topLevelNamespaces) this.require.tlns[i] = topLevelNamespaces[i];\n  };\n  window.initSender = function initSender() {\n    var EventEmitter = window.require(\"ace/lib/event_emitter\").EventEmitter;\n    var oop = window.require(\"ace/lib/oop\");\n    var Sender = function Sender() {};\n    (function () {\n      oop.implement(this, EventEmitter);\n      this.callback = function (data, callbackId) {\n        postMessage({\n          type: \"call\",\n          id: callbackId,\n          data: data\n        });\n      };\n      this.emit = function (name, data) {\n        postMessage({\n          type: \"event\",\n          name: name,\n          data: data\n        });\n      };\n    }).call(Sender.prototype);\n    return new Sender();\n  };\n  var main = window.main = null;\n  var sender = window.sender = null;\n  window.onmessage = function (e) {\n    var msg = e.data;\n    if (msg.event && sender) {\n      sender._signal(msg.event, msg.data);\n    } else if (msg.command) {\n      if (main[msg.command]) main[msg.command].apply(main, msg.args);else if (window[msg.command]) window[msg.command].apply(window, msg.args);else throw new Error(\"Unknown command:\" + msg.command);\n    } else if (msg.init) {\n      window.initBaseUrls(msg.tlns);\n      sender = window.sender = window.initSender();\n      var clazz = this.require(msg.module)[msg.classname];\n      main = window.main = new clazz(sender);\n    }\n  };\n}(this);\nace.define(\"ace/lib/oop\", [], function (require, exports, module) {\n  \"use strict\";\n\n  exports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n  exports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n      obj[key] = mixin[key];\n    }\n    return obj;\n  };\n  exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  };\n});\nace.define(\"ace/lib/lang\", [], function (require, exports, module) {\n  \"use strict\";\n\n  exports.last = function (a) {\n    return a[a.length - 1];\n  };\n  exports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n  };\n  exports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n      if (count & 1) result += string;\n      if (count >>= 1) string += string;\n    }\n    return result;\n  };\n  var trimBeginRegexp = /^\\s\\s*/;\n  var trimEndRegexp = /\\s\\s*$/;\n  exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  };\n  exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  };\n  exports.copyObject = function (obj) {\n    var copy = {};\n    for (var key in obj) {\n      copy[key] = obj[key];\n    }\n    return copy;\n  };\n  exports.copyArray = function (array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n      if (array[i] && typeof array[i] == \"object\") copy[i] = this.copyObject(array[i]);else copy[i] = array[i];\n    }\n    return copy;\n  };\n  exports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj) return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; key < obj.length; key++) {\n        copy[key] = deepCopy(obj[key]);\n      }\n      return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\") return obj;\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy;\n  };\n  exports.arrayToMap = function (arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n      map[arr[i]] = 1;\n    }\n    return map;\n  };\n  exports.createMap = function (props) {\n    var map = Object.create(null);\n    for (var i in props) {\n      map[i] = props[i];\n    }\n    return map;\n  };\n  exports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n      if (value === array[i]) {\n        array.splice(i, 1);\n      }\n    }\n  };\n  exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  };\n  exports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n  };\n  exports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n      matches.push({\n        offset: arguments[arguments.length - 2],\n        length: str.length\n      });\n    });\n    return matches;\n  };\n  exports.deferredCall = function (fcn) {\n    var timer = null;\n    var callback = function callback() {\n      timer = null;\n      fcn();\n    };\n    var deferred = function deferred(timeout) {\n      deferred.cancel();\n      timer = setTimeout(callback, timeout || 0);\n      return deferred;\n    };\n    deferred.schedule = deferred;\n    deferred.call = function () {\n      this.cancel();\n      fcn();\n      return deferred;\n    };\n    deferred.cancel = function () {\n      clearTimeout(timer);\n      timer = null;\n      return deferred;\n    };\n    deferred.isPending = function () {\n      return timer;\n    };\n    return deferred;\n  };\n  exports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function callback() {\n      timer = null;\n      fcn();\n    };\n    var _self = function _self(timeout) {\n      if (timer == null) timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.delay = function (timeout) {\n      timer && clearTimeout(timer);\n      timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n    _self.call = function () {\n      this.cancel();\n      fcn();\n    };\n    _self.cancel = function () {\n      timer && clearTimeout(timer);\n      timer = null;\n    };\n    _self.isPending = function () {\n      return timer;\n    };\n    return _self;\n  };\n});\nace.define(\"ace/apply_delta\", [], function (require, exports, module) {\n  \"use strict\";\n\n  function throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n  }\n  function positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length && position.column >= 0 && position.column <= docLines[position.row].length;\n  }\n  function validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\") throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array)) throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end) throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start)) throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end)) throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = end.column - (numRangeRows == 0 ? start.column : 0);\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars) throwDeltaError(delta, \"delta.range must match delta lines\");\n  }\n  exports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n      case \"insert\":\n        var lines = delta.lines;\n        if (lines.length === 1) {\n          docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n        } else {\n          var args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args);\n          docLines[row] = line.substring(0, startColumn) + docLines[row];\n          docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n        }\n        break;\n      case \"remove\":\n        var endColumn = delta.end.column;\n        var endRow = delta.end.row;\n        if (row === endRow) {\n          docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n        } else {\n          docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n        }\n        break;\n    }\n  };\n});\nace.define(\"ace/lib/event_emitter\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var EventEmitter = {};\n  var stopPropagation = function stopPropagation() {\n    this.propagationStopped = true;\n  };\n  var preventDefault = function preventDefault() {\n    this.defaultPrevented = true;\n  };\n  EventEmitter._emit = EventEmitter._dispatchEvent = function (eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler) return;\n    if (typeof e != \"object\" || !e) e = {};\n    if (!e.type) e.type = eventName;\n    if (!e.stopPropagation) e.stopPropagation = stopPropagation;\n    if (!e.preventDefault) e.preventDefault = preventDefault;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i](e, this);\n      if (e.propagationStopped) break;\n    }\n    if (defaultHandler && !e.defaultPrevented) return defaultHandler(e, this);\n  };\n  EventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners) return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++) listeners[i](e, this);\n  };\n  EventEmitter.once = function (eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n      _self.off(eventName, newCallback);\n      callback.apply(null, arguments);\n    });\n    if (!callback) {\n      return new Promise(function (resolve) {\n        callback = resolve;\n      });\n    }\n  };\n  EventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) handlers = this._defaultHandlers = {\n      _disabled_: {}\n    };\n    if (handlers[eventName]) {\n      var old = handlers[eventName];\n      var disabled = handlers._disabled_[eventName];\n      if (!disabled) handlers._disabled_[eventName] = disabled = [];\n      disabled.push(old);\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n  };\n  EventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) return;\n    var disabled = handlers._disabled_[eventName];\n    if (handlers[eventName] == callback) {\n      if (disabled) this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n  };\n  EventEmitter.on = EventEmitter.addEventListener = function (eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) listeners = this._eventRegistry[eventName] = [];\n    if (listeners.indexOf(callback) == -1) listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n  };\n  EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) return;\n    var index = listeners.indexOf(callback);\n    if (index !== -1) listeners.splice(index, 1);\n  };\n  EventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n  };\n  exports.EventEmitter = EventEmitter;\n});\nace.define(\"ace/range\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var comparePoints = function comparePoints(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n  var Range = function Range(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n      row: startRow,\n      column: startColumn\n    };\n    this.end = {\n      row: endRow,\n      column: endColumn\n    };\n  };\n  (function () {\n    this.isEqual = function (range) {\n      return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;\n    };\n    this.toString = function () {\n      return \"Range: [\" + this.start.row + \"/\" + this.start.column + \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\";\n    };\n    this.contains = function (row, column) {\n      return this.compare(row, column) == 0;\n    };\n    this.compareRange = function (range) {\n      var cmp,\n        end = range.end,\n        start = range.start;\n      cmp = this.compare(end.row, end.column);\n      if (cmp == 1) {\n        cmp = this.compare(start.row, start.column);\n        if (cmp == 1) {\n          return 2;\n        } else if (cmp == 0) {\n          return 1;\n        } else {\n          return 0;\n        }\n      } else if (cmp == -1) {\n        return -2;\n      } else {\n        cmp = this.compare(start.row, start.column);\n        if (cmp == -1) {\n          return -1;\n        } else if (cmp == 1) {\n          return 42;\n        } else {\n          return 0;\n        }\n      }\n    };\n    this.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    };\n    this.containsRange = function (range) {\n      return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function (range) {\n      var cmp = this.compareRange(range);\n      return cmp == -1 || cmp == 0 || cmp == 1;\n    };\n    this.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function (row, column) {\n      if (typeof row == \"object\") {\n        this.start.column = row.column;\n        this.start.row = row.row;\n      } else {\n        this.start.row = row;\n        this.start.column = column;\n      }\n    };\n    this.setEnd = function (row, column) {\n      if (typeof row == \"object\") {\n        this.end.column = row.column;\n        this.end.row = row.row;\n      } else {\n        this.end.row = row;\n        this.end.column = column;\n      }\n    };\n    this.inside = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column) || this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    this.insideStart = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    this.insideEnd = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    this.compare = function (row, column) {\n      if (!this.isMultiLine()) {\n        if (row === this.start.row) {\n          return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;\n        }\n      }\n      if (row < this.start.row) return -1;\n      if (row > this.end.row) return 1;\n      if (this.start.row === row) return column >= this.start.column ? 0 : -1;\n      if (this.end.row === row) return column <= this.end.column ? 0 : 1;\n      return 0;\n    };\n    this.compareStart = function (row, column) {\n      if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n    this.compareEnd = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n    this.compareInside = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n    this.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.end.row < firstRow) var end = {\n        row: firstRow,\n        column: 0\n      };\n      if (this.start.row > lastRow) var start = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.start.row < firstRow) var start = {\n        row: firstRow,\n        column: 0\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function (row, column) {\n      var cmp = this.compare(row, column);\n      if (cmp == 0) return this;else if (cmp == -1) var start = {\n        row: row,\n        column: column\n      };else var end = {\n        row: row,\n        column: column\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.isEmpty = function () {\n      return this.start.row === this.end.row && this.start.column === this.end.column;\n    };\n    this.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    };\n    this.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function () {\n      if (this.end.column == 0) return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);else return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function (session) {\n      var screenPosStart = session.documentToScreenPosition(this.start);\n      var screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n    this.moveBy = function (row, column) {\n      this.start.row += row;\n      this.start.column += column;\n      this.end.row += row;\n      this.end.column += column;\n    };\n  }).call(Range.prototype);\n  Range.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n  };\n  Range.comparePoints = comparePoints;\n  Range.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n  exports.Range = Range;\n});\nace.define(\"ace/anchor\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n  var Anchor = exports.Anchor = function (doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    if (typeof column == \"undefined\") this.setPosition(row.row, row.column);else this.setPosition(row, column);\n  };\n  (function () {\n    oop.implement(this, EventEmitter);\n    this.getPosition = function () {\n      return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function () {\n      return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function (delta) {\n      if (delta.start.row == delta.end.row && delta.start.row != this.row) return;\n      if (delta.start.row > this.row) return;\n      var point = $getTransformedPoint(delta, {\n        row: this.row,\n        column: this.column\n      }, this.$insertRight);\n      this.setPosition(point.row, point.column, true);\n    };\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n      var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n      return point1.row < point2.row || point1.row == point2.row && bColIsAfter;\n    }\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n      var deltaIsInsert = delta.action == \"insert\";\n      var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n      var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n      var deltaStart = delta.start;\n      var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n      if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n        return {\n          row: point.row,\n          column: point.column\n        };\n      }\n      if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n        return {\n          row: point.row + deltaRowShift,\n          column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n        };\n      }\n      return {\n        row: deltaStart.row,\n        column: deltaStart.column\n      };\n    }\n    this.setPosition = function (row, column, noClip) {\n      var pos;\n      if (noClip) {\n        pos = {\n          row: row,\n          column: column\n        };\n      } else {\n        pos = this.$clipPositionToDocument(row, column);\n      }\n      if (this.row == pos.row && this.column == pos.column) return;\n      var old = {\n        row: this.row,\n        column: this.column\n      };\n      this.row = pos.row;\n      this.column = pos.column;\n      this._signal(\"change\", {\n        old: old,\n        value: pos\n      });\n    };\n    this.detach = function () {\n      this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function (doc) {\n      this.document = doc || this.document;\n      this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n      var pos = {};\n      if (row >= this.document.getLength()) {\n        pos.row = Math.max(0, this.document.getLength() - 1);\n        pos.column = this.document.getLine(pos.row).length;\n      } else if (row < 0) {\n        pos.row = 0;\n        pos.column = 0;\n      } else {\n        pos.row = row;\n        pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n      }\n      if (column < 0) pos.column = 0;\n      return pos;\n    };\n  }).call(Anchor.prototype);\n});\nace.define(\"ace/document\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"./lib/oop\");\n  var applyDelta = require(\"./apply_delta\").applyDelta;\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n  var Range = require(\"./range\").Range;\n  var Anchor = require(\"./anchor\").Anchor;\n  var Document = function Document(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n      this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n      this.insertMergedLines({\n        row: 0,\n        column: 0\n      }, textOrLines);\n    } else {\n      this.insert({\n        row: 0,\n        column: 0\n      }, textOrLines);\n    }\n  };\n  (function () {\n    oop.implement(this, EventEmitter);\n    this.setValue = function (text) {\n      var len = this.getLength() - 1;\n      this.remove(new Range(0, 0, len, this.getLine(len).length));\n      this.insert({\n        row: 0,\n        column: 0\n      }, text || \"\");\n    };\n    this.getValue = function () {\n      return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function (row, column) {\n      return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n      this.$split = function (text) {\n        return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n      };\n    } else {\n      this.$split = function (text) {\n        return text.split(/\\r\\n|\\r|\\n/);\n      };\n    }\n    this.$detectNewLine = function (text) {\n      var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n      this.$autoNewLine = match ? match[1] : \"\\n\";\n      this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function () {\n      switch (this.$newLineMode) {\n        case \"windows\":\n          return \"\\r\\n\";\n        case \"unix\":\n          return \"\\n\";\n        default:\n          return this.$autoNewLine || \"\\n\";\n      }\n    };\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function (newLineMode) {\n      if (this.$newLineMode === newLineMode) return;\n      this.$newLineMode = newLineMode;\n      this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function () {\n      return this.$newLineMode;\n    };\n    this.isNewLine = function (text) {\n      return text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\";\n    };\n    this.getLine = function (row) {\n      return this.$lines[row] || \"\";\n    };\n    this.getLines = function (firstRow, lastRow) {\n      return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function () {\n      return this.getLines(0, this.getLength());\n    };\n    this.getLength = function () {\n      return this.$lines.length;\n    };\n    this.getTextRange = function (range) {\n      return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function (range) {\n      var lines;\n      if (range.start.row === range.end.row) {\n        lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n      } else {\n        lines = this.getLines(range.start.row, range.end.row);\n        lines[0] = (lines[0] || \"\").substring(range.start.column);\n        var l = lines.length - 1;\n        if (range.end.row - range.start.row == l) lines[l] = lines[l].substring(0, range.end.column);\n      }\n      return lines;\n    };\n    this.insertLines = function (row, lines) {\n      console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n      return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function (firstRow, lastRow) {\n      console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n      return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function (position) {\n      console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n      return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function (position, text) {\n      if (this.getLength() <= 1) this.$detectNewLine(text);\n      return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function (position, text) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = this.pos(position.row, position.column + text.length);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: [text]\n      }, true);\n      return this.clonePos(end);\n    };\n    this.clippedPos = function (row, column) {\n      var length = this.getLength();\n      if (row === undefined) {\n        row = length;\n      } else if (row < 0) {\n        row = 0;\n      } else if (row >= length) {\n        row = length - 1;\n        column = undefined;\n      }\n      var line = this.getLine(row);\n      if (column == undefined) column = line.length;\n      column = Math.min(Math.max(column, 0), line.length);\n      return {\n        row: row,\n        column: column\n      };\n    };\n    this.clonePos = function (pos) {\n      return {\n        row: pos.row,\n        column: pos.column\n      };\n    };\n    this.pos = function (row, column) {\n      return {\n        row: row,\n        column: column\n      };\n    };\n    this.$clipPosition = function (position) {\n      var length = this.getLength();\n      if (position.row >= length) {\n        position.row = Math.max(0, length - 1);\n        position.column = this.getLine(length - 1).length;\n      } else {\n        position.row = Math.max(0, position.row);\n        position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n      }\n      return position;\n    };\n    this.insertFullLines = function (row, lines) {\n      row = Math.min(Math.max(row, 0), this.getLength());\n      var column = 0;\n      if (row < this.getLength()) {\n        lines = lines.concat([\"\"]);\n        column = 0;\n      } else {\n        lines = [\"\"].concat(lines);\n        row--;\n        column = this.$lines[row].length;\n      }\n      this.insertMergedLines({\n        row: row,\n        column: column\n      }, lines);\n    };\n    this.insertMergedLines = function (position, lines) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = {\n        row: start.row + lines.length - 1,\n        column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n      };\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: lines\n      });\n      return this.clonePos(end);\n    };\n    this.remove = function (range) {\n      var start = this.clippedPos(range.start.row, range.start.column);\n      var end = this.clippedPos(range.end.row, range.end.column);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      });\n      return this.clonePos(start);\n    };\n    this.removeInLine = function (row, startColumn, endColumn) {\n      var start = this.clippedPos(row, startColumn);\n      var end = this.clippedPos(row, endColumn);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      }, true);\n      return this.clonePos(start);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n      firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n      lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n      var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n      var deleteLastNewLine = lastRow < this.getLength() - 1;\n      var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;\n      var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;\n      var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;\n      var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;\n      var range = new Range(startRow, startCol, endRow, endCol);\n      var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n      this.applyDelta({\n        start: range.start,\n        end: range.end,\n        action: \"remove\",\n        lines: this.getLinesForRange(range)\n      });\n      return deletedLines;\n    };\n    this.removeNewLine = function (row) {\n      if (row < this.getLength() - 1 && row >= 0) {\n        this.applyDelta({\n          start: this.pos(row, this.getLine(row).length),\n          end: this.pos(row + 1, 0),\n          action: \"remove\",\n          lines: [\"\", \"\"]\n        });\n      }\n    };\n    this.replace = function (range, text) {\n      if (!(range instanceof Range)) range = Range.fromPoints(range.start, range.end);\n      if (text.length === 0 && range.isEmpty()) return range.start;\n      if (text == this.getTextRange(range)) return range.end;\n      this.remove(range);\n      var end;\n      if (text) {\n        end = this.insert(range.start, text);\n      } else {\n        end = range.start;\n      }\n      return end;\n    };\n    this.applyDeltas = function (deltas) {\n      for (var i = 0; i < deltas.length; i++) {\n        this.applyDelta(deltas[i]);\n      }\n    };\n    this.revertDeltas = function (deltas) {\n      for (var i = deltas.length - 1; i >= 0; i--) {\n        this.revertDelta(deltas[i]);\n      }\n    };\n    this.applyDelta = function (delta, doNotValidate) {\n      var isInsert = delta.action == \"insert\";\n      if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {\n        return;\n      }\n      if (isInsert && delta.lines.length > 20000) {\n        this.$splitAndapplyLargeDelta(delta, 20000);\n      } else {\n        applyDelta(this.$lines, delta, doNotValidate);\n        this._signal(\"change\", delta);\n      }\n    };\n    this.$safeApplyDelta = function (delta) {\n      var docLength = this.$lines.length;\n      if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength || delta.action == \"insert\" && delta.start.row <= docLength) {\n        this.applyDelta(delta);\n      }\n    };\n    this.$splitAndapplyLargeDelta = function (delta, MAX) {\n      var lines = delta.lines;\n      var l = lines.length - MAX + 1;\n      var row = delta.start.row;\n      var column = delta.start.column;\n      for (var from = 0, to = 0; from < l; from = to) {\n        to += MAX - 1;\n        var chunk = lines.slice(from, to);\n        chunk.push(\"\");\n        this.applyDelta({\n          start: this.pos(row + from, column),\n          end: this.pos(row + to, column = 0),\n          action: delta.action,\n          lines: chunk\n        }, true);\n      }\n      delta.lines = lines.slice(from);\n      delta.start.row = row + from;\n      delta.start.column = column;\n      this.applyDelta(delta, true);\n    };\n    this.revertDelta = function (delta) {\n      this.$safeApplyDelta({\n        start: this.clonePos(delta.start),\n        end: this.clonePos(delta.end),\n        action: delta.action == \"insert\" ? \"remove\" : \"insert\",\n        lines: delta.lines.slice()\n      });\n    };\n    this.indexToPosition = function (index, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n      for (var i = startRow || 0, l = lines.length; i < l; i++) {\n        index -= lines[i].length + newlineLength;\n        if (index < 0) return {\n          row: i,\n          column: index + lines[i].length + newlineLength\n        };\n      }\n      return {\n        row: l - 1,\n        column: index + lines[l - 1].length + newlineLength\n      };\n    };\n    this.positionToIndex = function (pos, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n      var index = 0;\n      var row = Math.min(pos.row, lines.length);\n      for (var i = startRow || 0; i < row; ++i) index += lines[i].length + newlineLength;\n      return index + pos.column;\n    };\n  }).call(Document.prototype);\n  exports.Document = Document;\n});\nace.define(\"ace/worker/mirror\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var Document = require(\"../document\").Document;\n  var lang = require(\"../lib/lang\");\n  var Mirror = exports.Mirror = function (sender) {\n    this.sender = sender;\n    var doc = this.doc = new Document(\"\");\n    var deferredUpdate = this.deferredUpdate = lang.delayedCall(this.onUpdate.bind(this));\n    var _self = this;\n    sender.on(\"change\", function (e) {\n      var data = e.data;\n      if (data[0].start) {\n        doc.applyDeltas(data);\n      } else {\n        for (var i = 0; i < data.length; i += 2) {\n          var d, err;\n          if (Array.isArray(data[i + 1])) {\n            d = {\n              action: \"insert\",\n              start: data[i],\n              lines: data[i + 1]\n            };\n          } else {\n            d = {\n              action: \"remove\",\n              start: data[i],\n              end: data[i + 1]\n            };\n          }\n          if ((d.action == \"insert\" ? d.start : d.end).row >= doc.$lines.length) {\n            err = new Error(\"Invalid delta\");\n            err.data = {\n              path: _self.$path,\n              linesLength: doc.$lines.length,\n              start: d.start,\n              end: d.end\n            };\n            throw err;\n          }\n          doc.applyDelta(d, true);\n        }\n      }\n      if (_self.$timeout) return deferredUpdate.schedule(_self.$timeout);\n      _self.onUpdate();\n    });\n  };\n  (function () {\n    this.$timeout = 500;\n    this.setTimeout = function (timeout) {\n      this.$timeout = timeout;\n    };\n    this.setValue = function (value) {\n      this.doc.setValue(value);\n      this.deferredUpdate.schedule(this.$timeout);\n    };\n    this.getValue = function (callbackId) {\n      this.sender.callback(this.doc.getValue(), callbackId);\n    };\n    this.onUpdate = function () {};\n    this.isPending = function () {\n      return this.deferredUpdate.isPending();\n    };\n  }).call(Mirror.prototype);\n});\nace.define(\"ace/mode/xml/sax\", [], function (require, exports, module) {\n  var nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/; //\\u10000-\\uEFFFF\n  var nameChar = new RegExp(\"[\\\\-\\\\.0-9\" + nameStartChar.source.slice(1, -1) + \"\\xB7\\u0300-\\u036F\\\\ux203F-\\u2040]\");\n  var tagNamePattern = new RegExp('^' + nameStartChar.source + nameChar.source + '*(?:\\:' + nameStartChar.source + nameChar.source + '*)?$');\n  var S_TAG = 0; //tag name offerring\n  var S_ATTR = 1; //attr name offerring \n  var S_ATTR_S = 2; //attr name end and space offer\n  var S_EQ = 3; //=space?\n  var S_V = 4; //attr value(no quot value only)\n  var S_E = 5; //attr value end and no space(quot end)\n  var S_S = 6; //(attr value end || tag end ) && (space offer)\n  var S_C = 7; //closed el<el />\n\n  function XMLReader() {}\n  XMLReader.prototype = {\n    parse: function parse(source, defaultNSMap, entityMap) {\n      var domBuilder = this.domBuilder;\n      domBuilder.startDocument();\n      _copy(defaultNSMap, defaultNSMap = {});\n      _parse(source, defaultNSMap, entityMap, domBuilder, this.errorHandler);\n      domBuilder.endDocument();\n    }\n  };\n  function _parse(source, defaultNSMapCopy, entityMap, domBuilder, errorHandler) {\n    function fixedFromCharCode(code) {\n      if (code > 0xffff) {\n        code -= 0x10000;\n        var surrogate1 = 0xd800 + (code >> 10),\n          surrogate2 = 0xdc00 + (code & 0x3ff);\n        return String.fromCharCode(surrogate1, surrogate2);\n      } else {\n        return String.fromCharCode(code);\n      }\n    }\n    function entityReplacer(a) {\n      var k = a.slice(1, -1);\n      if (k in entityMap) {\n        return entityMap[k];\n      } else if (k.charAt(0) === '#') {\n        return fixedFromCharCode(parseInt(k.substr(1).replace('x', '0x')));\n      } else {\n        errorHandler.error('entity not found:' + a);\n        return a;\n      }\n    }\n    function appendText(end) {\n      //has some bugs\n      var xt = source.substring(start, end).replace(/&#?\\w+;/g, entityReplacer);\n      locator && position(start);\n      domBuilder.characters(xt, 0, end - start);\n      start = end;\n    }\n    function position(start, m) {\n      while (start >= endPos && (m = linePattern.exec(source))) {\n        startPos = m.index;\n        endPos = startPos + m[0].length;\n        locator.lineNumber++;\n      }\n      locator.columnNumber = start - startPos + 1;\n    }\n    var startPos = 0;\n    var endPos = 0;\n    var linePattern = /.+(?:\\r\\n?|\\n)|.*$/g;\n    var locator = domBuilder.locator;\n    var parseStack = [{\n      currentNSMap: defaultNSMapCopy\n    }];\n    var closeMap = {};\n    var start = 0;\n    while (true) {\n      var i = source.indexOf('<', start);\n      if (i < 0) {\n        if (!source.substr(start).match(/^\\s*$/)) {\n          var doc = domBuilder.document;\n          var text = doc.createTextNode(source.substr(start));\n          doc.appendChild(text);\n          domBuilder.currentElement = text;\n        }\n        return;\n      }\n      if (i > start) {\n        appendText(i);\n      }\n      switch (source.charAt(i + 1)) {\n        case '/':\n          var end = source.indexOf('>', i + 3);\n          var tagName = source.substring(i + 2, end);\n          var config;\n          if (parseStack.length > 1) {\n            config = parseStack.pop();\n          } else {\n            errorHandler.fatalError(\"end tag name not found for: \" + tagName);\n            break;\n          }\n          var localNSMap = config.localNSMap;\n          if (config.tagName != tagName) {\n            errorHandler.fatalError(\"end tag name: \" + tagName + \" does not match the current start tagName: \" + config.tagName);\n          }\n          domBuilder.endElement(config.uri, config.localName, tagName);\n          if (localNSMap) {\n            for (var prefix in localNSMap) {\n              domBuilder.endPrefixMapping(prefix);\n            }\n          }\n          end++;\n          break;\n        case '?':\n          // <?...?>\n          locator && position(i);\n          end = parseInstruction(source, i, domBuilder);\n          break;\n        case '!':\n          // <!doctype,<![CDATA,<!--\n          locator && position(i);\n          end = parseDCC(source, i, domBuilder, errorHandler);\n          break;\n        default:\n          try {\n            locator && position(i);\n            var el = new ElementAttributes();\n            var end = parseElementStartPart(source, i, el, entityReplacer, errorHandler);\n            var len = el.length;\n            if (len && locator) {\n              var backup = copyLocator(locator, {});\n              for (var i = 0; i < len; i++) {\n                var a = el[i];\n                position(a.offset);\n                a.offset = copyLocator(locator, {});\n              }\n              copyLocator(backup, locator);\n            }\n            if (!el.closed && fixSelfClosed(source, end, el.tagName, closeMap)) {\n              el.closed = true;\n              if (!entityMap.nbsp) {\n                errorHandler.warning('unclosed xml attribute');\n              }\n            }\n            appendElement(el, domBuilder, parseStack);\n            if (el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed) {\n              end = parseHtmlSpecialContent(source, end, el.tagName, entityReplacer, domBuilder);\n            } else {\n              end++;\n            }\n          } catch (e) {\n            errorHandler.error('element parse error: ' + e);\n            end = -1;\n          }\n      }\n      if (end < 0) {\n        appendText(i + 1);\n      } else {\n        start = end;\n      }\n    }\n  }\n  function copyLocator(f, t) {\n    t.lineNumber = f.lineNumber;\n    t.columnNumber = f.columnNumber;\n    return t;\n  }\n  function parseElementStartPart(source, start, el, entityReplacer, errorHandler) {\n    var attrName;\n    var value;\n    var p = ++start;\n    var s = S_TAG; //status\n    while (true) {\n      var c = source.charAt(p);\n      switch (c) {\n        case '=':\n          if (s === S_ATTR) {\n            //attrName\n            attrName = source.slice(start, p);\n            s = S_EQ;\n          } else if (s === S_ATTR_S) {\n            s = S_EQ;\n          } else {\n            throw new Error('attribute equal must after attrName');\n          }\n          break;\n        case '\\'':\n        case '\"':\n          if (s === S_EQ) {\n            //equal\n            start = p + 1;\n            p = source.indexOf(c, start);\n            if (p > 0) {\n              value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n              el.add(attrName, value, start - 1);\n              s = S_E;\n            } else {\n              throw new Error('attribute value no end \\'' + c + '\\' match');\n            }\n          } else if (s == S_V) {\n            value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n            el.add(attrName, value, start);\n            errorHandler.warning('attribute \"' + attrName + '\" missed start quot(' + c + ')!!');\n            start = p + 1;\n            s = S_E;\n          } else {\n            throw new Error('attribute value must after \"=\"');\n          }\n          break;\n        case '/':\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p));\n            case S_E:\n            case S_S:\n            case S_C:\n              s = S_C;\n              el.closed = true;\n            case S_V:\n            case S_ATTR:\n            case S_ATTR_S:\n              break;\n            default:\n              throw new Error(\"attribute invalid close char('/')\");\n          }\n          break;\n        case '':\n          //end document\n          errorHandler.error('unexpected end of input');\n        case '>':\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p));\n            case S_E:\n            case S_S:\n            case S_C:\n              break;\n            //normal\n            case S_V: //Compatible state\n            case S_ATTR:\n              value = source.slice(start, p);\n              if (value.slice(-1) === '/') {\n                el.closed = true;\n                value = value.slice(0, -1);\n              }\n            case S_ATTR_S:\n              if (s === S_ATTR_S) {\n                value = attrName;\n              }\n              if (s == S_V) {\n                errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n                el.add(attrName, value.replace(/&#?\\w+;/g, entityReplacer), start);\n              } else {\n                errorHandler.warning('attribute \"' + value + '\" missed value!! \"' + value + '\" instead!!');\n                el.add(value, value, start);\n              }\n              break;\n            case S_EQ:\n              throw new Error('attribute value missed!!');\n          }\n          return p;\n        case \"\\x80\":\n          c = ' ';\n        default:\n          if (c <= ' ') {\n            //space\n            switch (s) {\n              case S_TAG:\n                el.setTagName(source.slice(start, p)); //tagName\n                s = S_S;\n                break;\n              case S_ATTR:\n                attrName = source.slice(start, p);\n                s = S_ATTR_S;\n                break;\n              case S_V:\n                var value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n                errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n                el.add(attrName, value, start);\n              case S_E:\n                s = S_S;\n                break;\n            }\n          } else {\n            //not space\n            switch (s) {\n              case S_ATTR_S:\n                errorHandler.warning('attribute \"' + attrName + '\" missed value!! \"' + attrName + '\" instead!!');\n                el.add(attrName, attrName, start);\n                start = p;\n                s = S_ATTR;\n                break;\n              case S_E:\n                errorHandler.warning('attribute space is required\"' + attrName + '\"!!');\n              case S_S:\n                s = S_ATTR;\n                start = p;\n                break;\n              case S_EQ:\n                s = S_V;\n                start = p;\n                break;\n              case S_C:\n                throw new Error(\"elements closed character '/' and '>' must be connected to\");\n            }\n          }\n      }\n      p++;\n    }\n  }\n  function appendElement(el, domBuilder, parseStack) {\n    var tagName = el.tagName;\n    var localNSMap = null;\n    var currentNSMap = parseStack[parseStack.length - 1].currentNSMap;\n    var i = el.length;\n    while (i--) {\n      var a = el[i];\n      var qName = a.qName;\n      var value = a.value;\n      var nsp = qName.indexOf(':');\n      if (nsp > 0) {\n        var prefix = a.prefix = qName.slice(0, nsp);\n        var localName = qName.slice(nsp + 1);\n        var nsPrefix = prefix === 'xmlns' && localName;\n      } else {\n        localName = qName;\n        prefix = null;\n        nsPrefix = qName === 'xmlns' && '';\n      }\n      a.localName = localName;\n      if (nsPrefix !== false) {\n        //hack!!\n        if (localNSMap == null) {\n          localNSMap = {};\n          _copy(currentNSMap, currentNSMap = {});\n        }\n        currentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n        a.uri = 'http://www.w3.org/2000/xmlns/';\n        domBuilder.startPrefixMapping(nsPrefix, value);\n      }\n    }\n    var i = el.length;\n    while (i--) {\n      a = el[i];\n      var prefix = a.prefix;\n      if (prefix) {\n        //no prefix attribute has no namespace\n        if (prefix === 'xml') {\n          a.uri = 'http://www.w3.org/XML/1998/namespace';\n        }\n        if (prefix !== 'xmlns') {\n          a.uri = currentNSMap[prefix];\n        }\n      }\n    }\n    var nsp = tagName.indexOf(':');\n    if (nsp > 0) {\n      prefix = el.prefix = tagName.slice(0, nsp);\n      localName = el.localName = tagName.slice(nsp + 1);\n    } else {\n      prefix = null; //important!!\n      localName = el.localName = tagName;\n    }\n    var ns = el.uri = currentNSMap[prefix || ''];\n    domBuilder.startElement(ns, localName, tagName, el);\n    if (el.closed) {\n      domBuilder.endElement(ns, localName, tagName);\n      if (localNSMap) {\n        for (prefix in localNSMap) {\n          domBuilder.endPrefixMapping(prefix);\n        }\n      }\n    } else {\n      el.currentNSMap = currentNSMap;\n      el.localNSMap = localNSMap;\n      parseStack.push(el);\n    }\n  }\n  function parseHtmlSpecialContent(source, elStartEnd, tagName, entityReplacer, domBuilder) {\n    if (/^(?:script|textarea)$/i.test(tagName)) {\n      var elEndStart = source.indexOf('</' + tagName + '>', elStartEnd);\n      var text = source.substring(elStartEnd + 1, elEndStart);\n      if (/[&<]/.test(text)) {\n        if (/^script$/i.test(tagName)) {\n          domBuilder.characters(text, 0, text.length);\n          return elEndStart;\n        } //}else{//text area\n        text = text.replace(/&#?\\w+;/g, entityReplacer);\n        domBuilder.characters(text, 0, text.length);\n        return elEndStart;\n      }\n    }\n    return elStartEnd + 1;\n  }\n  function fixSelfClosed(source, elStartEnd, tagName, closeMap) {\n    var pos = closeMap[tagName];\n    if (pos == null) {\n      pos = closeMap[tagName] = source.lastIndexOf('</' + tagName + '>');\n    }\n    return pos < elStartEnd;\n  }\n  function _copy(source, target) {\n    for (var n in source) {\n      target[n] = source[n];\n    }\n  }\n  function parseDCC(source, start, domBuilder, errorHandler) {\n    //sure start with '<!'\n    var next = source.charAt(start + 2);\n    switch (next) {\n      case '-':\n        if (source.charAt(start + 3) === '-') {\n          var end = source.indexOf('-->', start + 4);\n          if (end > start) {\n            domBuilder.comment(source, start + 4, end - start - 4);\n            return end + 3;\n          } else {\n            errorHandler.error(\"Unclosed comment\");\n            return -1;\n          }\n        } else {\n          return -1;\n        }\n      default:\n        if (source.substr(start + 3, 6) == 'CDATA[') {\n          var end = source.indexOf(']]>', start + 9);\n          if (end > start) {\n            domBuilder.startCDATA();\n            domBuilder.characters(source, start + 9, end - start - 9);\n            domBuilder.endCDATA();\n            return end + 3;\n          } else {\n            errorHandler.error(\"Unclosed CDATA\");\n            return -1;\n          }\n        }\n        var matchs = split(source, start);\n        var len = matchs.length;\n        if (len > 1 && /!doctype/i.test(matchs[0][0])) {\n          var name = matchs[1][0];\n          var pubid = len > 3 && /^public$/i.test(matchs[2][0]) && matchs[3][0];\n          var sysid = len > 4 && matchs[4][0];\n          var lastMatch = matchs[len - 1];\n          domBuilder.startDTD(name, pubid && pubid.replace(/^(['\"])(.*?)\\1$/, '$2'), sysid && sysid.replace(/^(['\"])(.*?)\\1$/, '$2'));\n          domBuilder.endDTD();\n          return lastMatch.index + lastMatch[0].length;\n        }\n    }\n    return -1;\n  }\n  function parseInstruction(source, start, domBuilder) {\n    var end = source.indexOf('?>', start);\n    if (end) {\n      var match = source.substring(start, end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n      if (match) {\n        var len = match[0].length;\n        domBuilder.processingInstruction(match[1], match[2]);\n        return end + 2;\n      } else {\n        //error\n        return -1;\n      }\n    }\n    return -1;\n  }\n  function ElementAttributes(source) {}\n  ElementAttributes.prototype = {\n    setTagName: function setTagName(tagName) {\n      if (!tagNamePattern.test(tagName)) {\n        throw new Error('invalid tagName:' + tagName);\n      }\n      this.tagName = tagName;\n    },\n    add: function add(qName, value, offset) {\n      if (!tagNamePattern.test(qName)) {\n        throw new Error('invalid attribute:' + qName);\n      }\n      this[this.length++] = {\n        qName: qName,\n        value: value,\n        offset: offset\n      };\n    },\n    length: 0,\n    getLocalName: function getLocalName(i) {\n      return this[i].localName;\n    },\n    getOffset: function getOffset(i) {\n      return this[i].offset;\n    },\n    getQName: function getQName(i) {\n      return this[i].qName;\n    },\n    getURI: function getURI(i) {\n      return this[i].uri;\n    },\n    getValue: function getValue(i) {\n      return this[i].value;\n    }\n  };\n  function _set_proto_(thiz, parent) {\n    thiz.__proto__ = parent;\n    return thiz;\n  }\n  if (!(_set_proto_({}, _set_proto_.prototype) instanceof _set_proto_)) {\n    _set_proto_ = function _set_proto_(thiz, parent) {\n      function p() {}\n      ;\n      p.prototype = parent;\n      p = new p();\n      for (parent in thiz) {\n        p[parent] = thiz[parent];\n      }\n      return p;\n    };\n  }\n  function split(source, start) {\n    var match;\n    var buf = [];\n    var reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n    reg.lastIndex = start;\n    reg.exec(source); //skip <\n    while (match = reg.exec(source)) {\n      buf.push(match);\n      if (match[1]) return buf;\n    }\n  }\n  return XMLReader;\n});\nace.define(\"ace/mode/xml/dom\", [], function (require, exports, module) {\n  function copy(src, dest) {\n    for (var p in src) {\n      dest[p] = src[p];\n    }\n  }\n  function _extends(Class, Super) {\n    var t = function t() {};\n    var pt = Class.prototype;\n    if (Object.create) {\n      var ppt = Object.create(Super.prototype);\n      pt.__proto__ = ppt;\n    }\n    if (!(pt instanceof Super)) {\n      t.prototype = Super.prototype;\n      t = new t();\n      copy(pt, t);\n      Class.prototype = pt = t;\n    }\n    if (pt.constructor != Class) {\n      if (typeof Class != 'function') {\n        console.error(\"unknown Class:\" + Class);\n      }\n      pt.constructor = Class;\n    }\n  }\n  var htmlns = 'http://www.w3.org/1999/xhtml';\n  var NodeType = {};\n  var ELEMENT_NODE = NodeType.ELEMENT_NODE = 1;\n  var ATTRIBUTE_NODE = NodeType.ATTRIBUTE_NODE = 2;\n  var TEXT_NODE = NodeType.TEXT_NODE = 3;\n  var CDATA_SECTION_NODE = NodeType.CDATA_SECTION_NODE = 4;\n  var ENTITY_REFERENCE_NODE = NodeType.ENTITY_REFERENCE_NODE = 5;\n  var ENTITY_NODE = NodeType.ENTITY_NODE = 6;\n  var PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\n  var COMMENT_NODE = NodeType.COMMENT_NODE = 8;\n  var DOCUMENT_NODE = NodeType.DOCUMENT_NODE = 9;\n  var DOCUMENT_TYPE_NODE = NodeType.DOCUMENT_TYPE_NODE = 10;\n  var DOCUMENT_FRAGMENT_NODE = NodeType.DOCUMENT_FRAGMENT_NODE = 11;\n  var NOTATION_NODE = NodeType.NOTATION_NODE = 12;\n  var ExceptionCode = {};\n  var ExceptionMessage = {};\n  var INDEX_SIZE_ERR = ExceptionCode.INDEX_SIZE_ERR = (ExceptionMessage[1] = \"Index size error\", 1);\n  var DOMSTRING_SIZE_ERR = ExceptionCode.DOMSTRING_SIZE_ERR = (ExceptionMessage[2] = \"DOMString size error\", 2);\n  var HIERARCHY_REQUEST_ERR = ExceptionCode.HIERARCHY_REQUEST_ERR = (ExceptionMessage[3] = \"Hierarchy request error\", 3);\n  var WRONG_DOCUMENT_ERR = ExceptionCode.WRONG_DOCUMENT_ERR = (ExceptionMessage[4] = \"Wrong document\", 4);\n  var INVALID_CHARACTER_ERR = ExceptionCode.INVALID_CHARACTER_ERR = (ExceptionMessage[5] = \"Invalid character\", 5);\n  var NO_DATA_ALLOWED_ERR = ExceptionCode.NO_DATA_ALLOWED_ERR = (ExceptionMessage[6] = \"No data allowed\", 6);\n  var NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = (ExceptionMessage[7] = \"No modification allowed\", 7);\n  var NOT_FOUND_ERR = ExceptionCode.NOT_FOUND_ERR = (ExceptionMessage[8] = \"Not found\", 8);\n  var NOT_SUPPORTED_ERR = ExceptionCode.NOT_SUPPORTED_ERR = (ExceptionMessage[9] = \"Not supported\", 9);\n  var INUSE_ATTRIBUTE_ERR = ExceptionCode.INUSE_ATTRIBUTE_ERR = (ExceptionMessage[10] = \"Attribute in use\", 10);\n  var INVALID_STATE_ERR = ExceptionCode.INVALID_STATE_ERR = (ExceptionMessage[11] = \"Invalid state\", 11);\n  var SYNTAX_ERR = ExceptionCode.SYNTAX_ERR = (ExceptionMessage[12] = \"Syntax error\", 12);\n  var INVALID_MODIFICATION_ERR = ExceptionCode.INVALID_MODIFICATION_ERR = (ExceptionMessage[13] = \"Invalid modification\", 13);\n  var NAMESPACE_ERR = ExceptionCode.NAMESPACE_ERR = (ExceptionMessage[14] = \"Invalid namespace\", 14);\n  var INVALID_ACCESS_ERR = ExceptionCode.INVALID_ACCESS_ERR = (ExceptionMessage[15] = \"Invalid access\", 15);\n  function DOMException(code, message) {\n    if (message instanceof Error) {\n      var error = message;\n    } else {\n      error = this;\n      Error.call(this, ExceptionMessage[code]);\n      this.message = ExceptionMessage[code];\n      if (Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n    }\n    error.code = code;\n    if (message) this.message = this.message + \": \" + message;\n    return error;\n  }\n  ;\n  DOMException.prototype = Error.prototype;\n  copy(ExceptionCode, DOMException);\n  function NodeList() {}\n  ;\n  NodeList.prototype = {\n    length: 0,\n    item: function item(index) {\n      return this[index] || null;\n    }\n  };\n  function LiveNodeList(node, refresh) {\n    this._node = node;\n    this._refresh = refresh;\n    _updateLiveList(this);\n  }\n  function _updateLiveList(list) {\n    var inc = list._node._inc || list._node.ownerDocument._inc;\n    if (list._inc != inc) {\n      var ls = list._refresh(list._node);\n      __set__(list, 'length', ls.length);\n      copy(ls, list);\n      list._inc = inc;\n    }\n  }\n  LiveNodeList.prototype.item = function (i) {\n    _updateLiveList(this);\n    return this[i];\n  };\n  _extends(LiveNodeList, NodeList);\n  function NamedNodeMap() {}\n  ;\n  function _findNodeIndex(list, node) {\n    var i = list.length;\n    while (i--) {\n      if (list[i] === node) {\n        return i;\n      }\n    }\n  }\n  function _addNamedNode(el, list, newAttr, oldAttr) {\n    if (oldAttr) {\n      list[_findNodeIndex(list, oldAttr)] = newAttr;\n    } else {\n      list[list.length++] = newAttr;\n    }\n    if (el) {\n      newAttr.ownerElement = el;\n      var doc = el.ownerDocument;\n      if (doc) {\n        oldAttr && _onRemoveAttribute(doc, el, oldAttr);\n        _onAddAttribute(doc, el, newAttr);\n      }\n    }\n  }\n  function _removeNamedNode(el, list, attr) {\n    var i = _findNodeIndex(list, attr);\n    if (i >= 0) {\n      var lastIndex = list.length - 1;\n      while (i < lastIndex) {\n        list[i] = list[++i];\n      }\n      list.length = lastIndex;\n      if (el) {\n        var doc = el.ownerDocument;\n        if (doc) {\n          _onRemoveAttribute(doc, el, attr);\n          attr.ownerElement = null;\n        }\n      }\n    } else {\n      throw new DOMException(NOT_FOUND_ERR, new Error());\n    }\n  }\n  NamedNodeMap.prototype = {\n    length: 0,\n    item: NodeList.prototype.item,\n    getNamedItem: function getNamedItem(key) {\n      var i = this.length;\n      while (i--) {\n        var attr = this[i];\n        if (attr.nodeName == key) {\n          return attr;\n        }\n      }\n    },\n    setNamedItem: function setNamedItem(attr) {\n      var el = attr.ownerElement;\n      if (el && el != this._ownerElement) {\n        throw new DOMException(INUSE_ATTRIBUTE_ERR);\n      }\n      var oldAttr = this.getNamedItem(attr.nodeName);\n      _addNamedNode(this._ownerElement, this, attr, oldAttr);\n      return oldAttr;\n    },\n    setNamedItemNS: function setNamedItemNS(attr) {\n      // raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n      var el = attr.ownerElement,\n        oldAttr;\n      if (el && el != this._ownerElement) {\n        throw new DOMException(INUSE_ATTRIBUTE_ERR);\n      }\n      oldAttr = this.getNamedItemNS(attr.namespaceURI, attr.localName);\n      _addNamedNode(this._ownerElement, this, attr, oldAttr);\n      return oldAttr;\n    },\n    removeNamedItem: function removeNamedItem(key) {\n      var attr = this.getNamedItem(key);\n      _removeNamedNode(this._ownerElement, this, attr);\n      return attr;\n    },\n    // raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n    removeNamedItemNS: function removeNamedItemNS(namespaceURI, localName) {\n      var attr = this.getNamedItemNS(namespaceURI, localName);\n      _removeNamedNode(this._ownerElement, this, attr);\n      return attr;\n    },\n    getNamedItemNS: function getNamedItemNS(namespaceURI, localName) {\n      var i = this.length;\n      while (i--) {\n        var node = this[i];\n        if (node.localName == localName && node.namespaceURI == namespaceURI) {\n          return node;\n        }\n      }\n      return null;\n    }\n  };\n  function DOMImplementation( /* Object */features) {\n    this._features = {};\n    if (features) {\n      for (var feature in features) {\n        this._features = features[feature];\n      }\n    }\n  }\n  ;\n  DOMImplementation.prototype = {\n    hasFeature: function hasFeature( /* string */feature, /* string */version) {\n      var versions = this._features[feature.toLowerCase()];\n      if (versions && (!version || version in versions)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    createDocument: function createDocument(namespaceURI, qualifiedName, doctype) {\n      // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n      var doc = new Document();\n      doc.implementation = this;\n      doc.childNodes = new NodeList();\n      doc.doctype = doctype;\n      if (doctype) {\n        doc.appendChild(doctype);\n      }\n      if (qualifiedName) {\n        var root = doc.createElementNS(namespaceURI, qualifiedName);\n        doc.appendChild(root);\n      }\n      return doc;\n    },\n    createDocumentType: function createDocumentType(qualifiedName, publicId, systemId) {\n      // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n      var node = new DocumentType();\n      node.name = qualifiedName;\n      node.nodeName = qualifiedName;\n      node.publicId = publicId;\n      node.systemId = systemId;\n      return node;\n    }\n  };\n  function Node() {}\n  ;\n  Node.prototype = {\n    firstChild: null,\n    lastChild: null,\n    previousSibling: null,\n    nextSibling: null,\n    attributes: null,\n    parentNode: null,\n    childNodes: null,\n    ownerDocument: null,\n    nodeValue: null,\n    namespaceURI: null,\n    prefix: null,\n    localName: null,\n    insertBefore: function insertBefore(newChild, refChild) {\n      //raises\n      return _insertBefore(this, newChild, refChild);\n    },\n    replaceChild: function replaceChild(newChild, oldChild) {\n      //raises\n      this.insertBefore(newChild, oldChild);\n      if (oldChild) {\n        this.removeChild(oldChild);\n      }\n    },\n    removeChild: function removeChild(oldChild) {\n      return _removeChild(this, oldChild);\n    },\n    appendChild: function appendChild(newChild) {\n      return this.insertBefore(newChild, null);\n    },\n    hasChildNodes: function hasChildNodes() {\n      return this.firstChild != null;\n    },\n    cloneNode: function cloneNode(deep) {\n      return _cloneNode(this.ownerDocument || this, this, deep);\n    },\n    normalize: function normalize() {\n      var child = this.firstChild;\n      while (child) {\n        var next = child.nextSibling;\n        if (next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE) {\n          this.removeChild(next);\n          child.appendData(next.data);\n        } else {\n          child.normalize();\n          child = next;\n        }\n      }\n    },\n    isSupported: function isSupported(feature, version) {\n      return this.ownerDocument.implementation.hasFeature(feature, version);\n    },\n    hasAttributes: function hasAttributes() {\n      return this.attributes.length > 0;\n    },\n    lookupPrefix: function lookupPrefix(namespaceURI) {\n      var el = this;\n      while (el) {\n        var map = el._nsMap;\n        if (map) {\n          for (var n in map) {\n            if (map[n] == namespaceURI) {\n              return n;\n            }\n          }\n        }\n        el = el.nodeType == 2 ? el.ownerDocument : el.parentNode;\n      }\n      return null;\n    },\n    lookupNamespaceURI: function lookupNamespaceURI(prefix) {\n      var el = this;\n      while (el) {\n        var map = el._nsMap;\n        if (map) {\n          if (prefix in map) {\n            return map[prefix];\n          }\n        }\n        el = el.nodeType == 2 ? el.ownerDocument : el.parentNode;\n      }\n      return null;\n    },\n    isDefaultNamespace: function isDefaultNamespace(namespaceURI) {\n      var prefix = this.lookupPrefix(namespaceURI);\n      return prefix == null;\n    }\n  };\n  function _xmlEncoder(c) {\n    return c == '<' && '&lt;' || c == '>' && '&gt;' || c == '&' && '&amp;' || c == '\"' && '&quot;' || '&#' + c.charCodeAt() + ';';\n  }\n  copy(NodeType, Node);\n  copy(NodeType, Node.prototype);\n  function _visitNode(node, callback) {\n    if (callback(node)) {\n      return true;\n    }\n    if (node = node.firstChild) {\n      do {\n        if (_visitNode(node, callback)) {\n          return true;\n        }\n      } while (node = node.nextSibling);\n    }\n  }\n  function Document() {}\n  function _onAddAttribute(doc, el, newAttr) {\n    doc && doc._inc++;\n    var ns = newAttr.namespaceURI;\n    if (ns == 'http://www.w3.org/2000/xmlns/') {\n      el._nsMap[newAttr.prefix ? newAttr.localName : ''] = newAttr.value;\n    }\n  }\n  function _onRemoveAttribute(doc, el, newAttr, remove) {\n    doc && doc._inc++;\n    var ns = newAttr.namespaceURI;\n    if (ns == 'http://www.w3.org/2000/xmlns/') {\n      delete el._nsMap[newAttr.prefix ? newAttr.localName : ''];\n    }\n  }\n  function _onUpdateChild(doc, el, newChild) {\n    if (doc && doc._inc) {\n      doc._inc++;\n      var cs = el.childNodes;\n      if (newChild) {\n        cs[cs.length++] = newChild;\n      } else {\n        var child = el.firstChild;\n        var i = 0;\n        while (child) {\n          cs[i++] = child;\n          child = child.nextSibling;\n        }\n        cs.length = i;\n      }\n    }\n  }\n  function _removeChild(parentNode, child) {\n    var previous = child.previousSibling;\n    var next = child.nextSibling;\n    if (previous) {\n      previous.nextSibling = next;\n    } else {\n      parentNode.firstChild = next;\n    }\n    if (next) {\n      next.previousSibling = previous;\n    } else {\n      parentNode.lastChild = previous;\n    }\n    _onUpdateChild(parentNode.ownerDocument, parentNode);\n    return child;\n  }\n  function _insertBefore(parentNode, newChild, nextChild) {\n    var cp = newChild.parentNode;\n    if (cp) {\n      cp.removeChild(newChild); //remove and update\n    }\n\n    if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      var newFirst = newChild.firstChild;\n      if (newFirst == null) {\n        return newChild;\n      }\n      var newLast = newChild.lastChild;\n    } else {\n      newFirst = newLast = newChild;\n    }\n    var pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n    newFirst.previousSibling = pre;\n    newLast.nextSibling = nextChild;\n    if (pre) {\n      pre.nextSibling = newFirst;\n    } else {\n      parentNode.firstChild = newFirst;\n    }\n    if (nextChild == null) {\n      parentNode.lastChild = newLast;\n    } else {\n      nextChild.previousSibling = newLast;\n    }\n    do {\n      newFirst.parentNode = parentNode;\n    } while (newFirst !== newLast && (newFirst = newFirst.nextSibling));\n    _onUpdateChild(parentNode.ownerDocument || parentNode, parentNode);\n    if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n      newChild.firstChild = newChild.lastChild = null;\n    }\n    return newChild;\n  }\n  function _appendSingleChild(parentNode, newChild) {\n    var cp = newChild.parentNode;\n    if (cp) {\n      var pre = parentNode.lastChild;\n      cp.removeChild(newChild); //remove and update\n      var pre = parentNode.lastChild;\n    }\n    var pre = parentNode.lastChild;\n    newChild.parentNode = parentNode;\n    newChild.previousSibling = pre;\n    newChild.nextSibling = null;\n    if (pre) {\n      pre.nextSibling = newChild;\n    } else {\n      parentNode.firstChild = newChild;\n    }\n    parentNode.lastChild = newChild;\n    _onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n    return newChild;\n  }\n  Document.prototype = {\n    nodeName: '#document',\n    nodeType: DOCUMENT_NODE,\n    doctype: null,\n    documentElement: null,\n    _inc: 1,\n    insertBefore: function insertBefore(newChild, refChild) {\n      //raises\n      if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n        var child = newChild.firstChild;\n        while (child) {\n          var next = child.nextSibling;\n          this.insertBefore(child, refChild);\n          child = next;\n        }\n        return newChild;\n      }\n      if (this.documentElement == null && newChild.nodeType == 1) {\n        this.documentElement = newChild;\n      }\n      return _insertBefore(this, newChild, refChild), newChild.ownerDocument = this, newChild;\n    },\n    removeChild: function removeChild(oldChild) {\n      if (this.documentElement == oldChild) {\n        this.documentElement = null;\n      }\n      return _removeChild(this, oldChild);\n    },\n    importNode: function importNode(importedNode, deep) {\n      return _importNode(this, importedNode, deep);\n    },\n    getElementById: function getElementById(id) {\n      var rtv = null;\n      _visitNode(this.documentElement, function (node) {\n        if (node.nodeType == 1) {\n          if (node.getAttribute('id') == id) {\n            rtv = node;\n            return true;\n          }\n        }\n      });\n      return rtv;\n    },\n    createElement: function createElement(tagName) {\n      var node = new Element();\n      node.ownerDocument = this;\n      node.nodeName = tagName;\n      node.tagName = tagName;\n      node.childNodes = new NodeList();\n      var attrs = node.attributes = new NamedNodeMap();\n      attrs._ownerElement = node;\n      return node;\n    },\n    createDocumentFragment: function createDocumentFragment() {\n      var node = new DocumentFragment();\n      node.ownerDocument = this;\n      node.childNodes = new NodeList();\n      return node;\n    },\n    createTextNode: function createTextNode(data) {\n      var node = new Text();\n      node.ownerDocument = this;\n      node.appendData(data);\n      return node;\n    },\n    createComment: function createComment(data) {\n      var node = new Comment();\n      node.ownerDocument = this;\n      node.appendData(data);\n      return node;\n    },\n    createCDATASection: function createCDATASection(data) {\n      var node = new CDATASection();\n      node.ownerDocument = this;\n      node.appendData(data);\n      return node;\n    },\n    createProcessingInstruction: function createProcessingInstruction(target, data) {\n      var node = new ProcessingInstruction();\n      node.ownerDocument = this;\n      node.tagName = node.target = target;\n      node.nodeValue = node.data = data;\n      return node;\n    },\n    createAttribute: function createAttribute(name) {\n      var node = new Attr();\n      node.ownerDocument = this;\n      node.name = name;\n      node.nodeName = name;\n      node.localName = name;\n      node.specified = true;\n      return node;\n    },\n    createEntityReference: function createEntityReference(name) {\n      var node = new EntityReference();\n      node.ownerDocument = this;\n      node.nodeName = name;\n      return node;\n    },\n    createElementNS: function createElementNS(namespaceURI, qualifiedName) {\n      var node = new Element();\n      var pl = qualifiedName.split(':');\n      var attrs = node.attributes = new NamedNodeMap();\n      node.childNodes = new NodeList();\n      node.ownerDocument = this;\n      node.nodeName = qualifiedName;\n      node.tagName = qualifiedName;\n      node.namespaceURI = namespaceURI;\n      if (pl.length == 2) {\n        node.prefix = pl[0];\n        node.localName = pl[1];\n      } else {\n        node.localName = qualifiedName;\n      }\n      attrs._ownerElement = node;\n      return node;\n    },\n    createAttributeNS: function createAttributeNS(namespaceURI, qualifiedName) {\n      var node = new Attr();\n      var pl = qualifiedName.split(':');\n      node.ownerDocument = this;\n      node.nodeName = qualifiedName;\n      node.name = qualifiedName;\n      node.namespaceURI = namespaceURI;\n      node.specified = true;\n      if (pl.length == 2) {\n        node.prefix = pl[0];\n        node.localName = pl[1];\n      } else {\n        node.localName = qualifiedName;\n      }\n      return node;\n    }\n  };\n  _extends(Document, Node);\n  function Element() {\n    this._nsMap = {};\n  }\n  ;\n  Element.prototype = {\n    nodeType: ELEMENT_NODE,\n    hasAttribute: function hasAttribute(name) {\n      return this.getAttributeNode(name) != null;\n    },\n    getAttribute: function getAttribute(name) {\n      var attr = this.getAttributeNode(name);\n      return attr && attr.value || '';\n    },\n    getAttributeNode: function getAttributeNode(name) {\n      return this.attributes.getNamedItem(name);\n    },\n    setAttribute: function setAttribute(name, value) {\n      var attr = this.ownerDocument.createAttribute(name);\n      attr.value = attr.nodeValue = \"\" + value;\n      this.setAttributeNode(attr);\n    },\n    removeAttribute: function removeAttribute(name) {\n      var attr = this.getAttributeNode(name);\n      attr && this.removeAttributeNode(attr);\n    },\n    appendChild: function appendChild(newChild) {\n      if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n        return this.insertBefore(newChild, null);\n      } else {\n        return _appendSingleChild(this, newChild);\n      }\n    },\n    setAttributeNode: function setAttributeNode(newAttr) {\n      return this.attributes.setNamedItem(newAttr);\n    },\n    setAttributeNodeNS: function setAttributeNodeNS(newAttr) {\n      return this.attributes.setNamedItemNS(newAttr);\n    },\n    removeAttributeNode: function removeAttributeNode(oldAttr) {\n      return this.attributes.removeNamedItem(oldAttr.nodeName);\n    },\n    removeAttributeNS: function removeAttributeNS(namespaceURI, localName) {\n      var old = this.getAttributeNodeNS(namespaceURI, localName);\n      old && this.removeAttributeNode(old);\n    },\n    hasAttributeNS: function hasAttributeNS(namespaceURI, localName) {\n      return this.getAttributeNodeNS(namespaceURI, localName) != null;\n    },\n    getAttributeNS: function getAttributeNS(namespaceURI, localName) {\n      var attr = this.getAttributeNodeNS(namespaceURI, localName);\n      return attr && attr.value || '';\n    },\n    setAttributeNS: function setAttributeNS(namespaceURI, qualifiedName, value) {\n      var attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n      attr.value = attr.nodeValue = \"\" + value;\n      this.setAttributeNode(attr);\n    },\n    getAttributeNodeNS: function getAttributeNodeNS(namespaceURI, localName) {\n      return this.attributes.getNamedItemNS(namespaceURI, localName);\n    },\n    getElementsByTagName: function getElementsByTagName(tagName) {\n      return new LiveNodeList(this, function (base) {\n        var ls = [];\n        _visitNode(base, function (node) {\n          if (node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)) {\n            ls.push(node);\n          }\n        });\n        return ls;\n      });\n    },\n    getElementsByTagNameNS: function getElementsByTagNameNS(namespaceURI, localName) {\n      return new LiveNodeList(this, function (base) {\n        var ls = [];\n        _visitNode(base, function (node) {\n          if (node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)) {\n            ls.push(node);\n          }\n        });\n        return ls;\n      });\n    }\n  };\n  Document.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\n  Document.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n  _extends(Element, Node);\n  function Attr() {}\n  ;\n  Attr.prototype.nodeType = ATTRIBUTE_NODE;\n  _extends(Attr, Node);\n  function CharacterData() {}\n  ;\n  CharacterData.prototype = {\n    data: '',\n    substringData: function substringData(offset, count) {\n      return this.data.substring(offset, offset + count);\n    },\n    appendData: function appendData(text) {\n      text = this.data + text;\n      this.nodeValue = this.data = text;\n      this.length = text.length;\n    },\n    insertData: function insertData(offset, text) {\n      this.replaceData(offset, 0, text);\n    },\n    appendChild: function appendChild(newChild) {\n      throw new Error(ExceptionMessage[3]);\n      return Node.prototype.appendChild.apply(this, arguments);\n    },\n    deleteData: function deleteData(offset, count) {\n      this.replaceData(offset, count, \"\");\n    },\n    replaceData: function replaceData(offset, count, text) {\n      var start = this.data.substring(0, offset);\n      var end = this.data.substring(offset + count);\n      text = start + text + end;\n      this.nodeValue = this.data = text;\n      this.length = text.length;\n    }\n  };\n  _extends(CharacterData, Node);\n  function Text() {}\n  ;\n  Text.prototype = {\n    nodeName: \"#text\",\n    nodeType: TEXT_NODE,\n    splitText: function splitText(offset) {\n      var text = this.data;\n      var newText = text.substring(offset);\n      text = text.substring(0, offset);\n      this.data = this.nodeValue = text;\n      this.length = text.length;\n      var newNode = this.ownerDocument.createTextNode(newText);\n      if (this.parentNode) {\n        this.parentNode.insertBefore(newNode, this.nextSibling);\n      }\n      return newNode;\n    }\n  };\n  _extends(Text, CharacterData);\n  function Comment() {}\n  ;\n  Comment.prototype = {\n    nodeName: \"#comment\",\n    nodeType: COMMENT_NODE\n  };\n  _extends(Comment, CharacterData);\n  function CDATASection() {}\n  ;\n  CDATASection.prototype = {\n    nodeName: \"#cdata-section\",\n    nodeType: CDATA_SECTION_NODE\n  };\n  _extends(CDATASection, CharacterData);\n  function DocumentType() {}\n  DocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n  _extends(DocumentType, Node);\n  function Notation() {}\n  Notation.prototype.nodeType = NOTATION_NODE;\n  _extends(Notation, Node);\n  function Entity() {}\n  Entity.prototype.nodeType = ENTITY_NODE;\n  _extends(Entity, Node);\n  function EntityReference() {}\n  EntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n  _extends(EntityReference, Node);\n  function DocumentFragment() {}\n  DocumentFragment.prototype.nodeName = \"#document-fragment\";\n  DocumentFragment.prototype.nodeType = DOCUMENT_FRAGMENT_NODE;\n  _extends(DocumentFragment, Node);\n  function ProcessingInstruction() {}\n  ProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n  _extends(ProcessingInstruction, Node);\n  function XMLSerializer() {}\n  XMLSerializer.prototype.serializeToString = function (node) {\n    var buf = [];\n    serializeToString(node, buf);\n    return buf.join('');\n  };\n  Node.prototype.toString = function () {\n    return XMLSerializer.prototype.serializeToString(this);\n  };\n  function serializeToString(node, buf) {\n    switch (node.nodeType) {\n      case ELEMENT_NODE:\n        var attrs = node.attributes;\n        var len = attrs.length;\n        var child = node.firstChild;\n        var nodeName = node.tagName;\n        var isHTML = htmlns === node.namespaceURI;\n        buf.push('<', nodeName);\n        for (var i = 0; i < len; i++) {\n          serializeToString(attrs.item(i), buf);\n        }\n        if (child || isHTML && !/^(?:meta|link|img|br|hr|input|button)$/i.test(nodeName)) {\n          buf.push('>');\n          if (isHTML && /^script$/i.test(nodeName)) {\n            if (child) {\n              buf.push(child.data);\n            }\n          } else {\n            while (child) {\n              serializeToString(child, buf);\n              child = child.nextSibling;\n            }\n          }\n          buf.push('</', nodeName, '>');\n        } else {\n          buf.push('/>');\n        }\n        return;\n      case DOCUMENT_NODE:\n      case DOCUMENT_FRAGMENT_NODE:\n        var child = node.firstChild;\n        while (child) {\n          serializeToString(child, buf);\n          child = child.nextSibling;\n        }\n        return;\n      case ATTRIBUTE_NODE:\n        return buf.push(' ', node.name, '=\"', node.value.replace(/[<&\"]/g, _xmlEncoder), '\"');\n      case TEXT_NODE:\n        return buf.push(node.data.replace(/[<&]/g, _xmlEncoder));\n      case CDATA_SECTION_NODE:\n        return buf.push('<![CDATA[', node.data, ']]>');\n      case COMMENT_NODE:\n        return buf.push(\"<!--\", node.data, \"-->\");\n      case DOCUMENT_TYPE_NODE:\n        var pubid = node.publicId;\n        var sysid = node.systemId;\n        buf.push('<!DOCTYPE ', node.name);\n        if (pubid) {\n          buf.push(' PUBLIC \"', pubid);\n          if (sysid && sysid != '.') {\n            buf.push('\" \"', sysid);\n          }\n          buf.push('\">');\n        } else if (sysid && sysid != '.') {\n          buf.push(' SYSTEM \"', sysid, '\">');\n        } else {\n          var sub = node.internalSubset;\n          if (sub) {\n            buf.push(\" [\", sub, \"]\");\n          }\n          buf.push(\">\");\n        }\n        return;\n      case PROCESSING_INSTRUCTION_NODE:\n        return buf.push(\"<?\", node.target, \" \", node.data, \"?>\");\n      case ENTITY_REFERENCE_NODE:\n        return buf.push('&', node.nodeName, ';');\n      default:\n        buf.push('??', node.nodeName);\n    }\n  }\n  function _importNode(doc, node, deep) {\n    var node2;\n    switch (node.nodeType) {\n      case ELEMENT_NODE:\n        node2 = node.cloneNode(false);\n        node2.ownerDocument = doc;\n      case DOCUMENT_FRAGMENT_NODE:\n        break;\n      case ATTRIBUTE_NODE:\n        deep = true;\n        break;\n    }\n    if (!node2) {\n      node2 = node.cloneNode(false); //false\n    }\n\n    node2.ownerDocument = doc;\n    node2.parentNode = null;\n    if (deep) {\n      var child = node.firstChild;\n      while (child) {\n        node2.appendChild(_importNode(doc, child, deep));\n        child = child.nextSibling;\n      }\n    }\n    return node2;\n  }\n  function _cloneNode(doc, node, deep) {\n    var node2 = new node.constructor();\n    for (var n in node) {\n      var v = node[n];\n      if (typeof v != 'object') {\n        if (v != node2[n]) {\n          node2[n] = v;\n        }\n      }\n    }\n    if (node.childNodes) {\n      node2.childNodes = new NodeList();\n    }\n    node2.ownerDocument = doc;\n    switch (node2.nodeType) {\n      case ELEMENT_NODE:\n        var attrs = node.attributes;\n        var attrs2 = node2.attributes = new NamedNodeMap();\n        var len = attrs.length;\n        attrs2._ownerElement = node2;\n        for (var i = 0; i < len; i++) {\n          node2.setAttributeNode(_cloneNode(doc, attrs.item(i), true));\n        }\n        break;\n      case ATTRIBUTE_NODE:\n        deep = true;\n    }\n    if (deep) {\n      var child = node.firstChild;\n      while (child) {\n        node2.appendChild(_cloneNode(doc, child, deep));\n        child = child.nextSibling;\n      }\n    }\n    return node2;\n  }\n  function __set__(object, key, value) {\n    object[key] = value;\n  }\n  function getTextContent(node) {\n    switch (node.nodeType) {\n      case 1:\n      case 11:\n        var buf = [];\n        node = node.firstChild;\n        while (node) {\n          if (node.nodeType !== 7 && node.nodeType !== 8) {\n            buf.push(getTextContent(node));\n          }\n          node = node.nextSibling;\n        }\n        return buf.join('');\n      default:\n        return node.nodeValue;\n    }\n  }\n  try {\n    if (Object.defineProperty) {\n      Object.defineProperty(LiveNodeList.prototype, 'length', {\n        get: function get() {\n          _updateLiveList(this);\n          return this.$$length;\n        }\n      });\n      Object.defineProperty(Node.prototype, 'textContent', {\n        get: function get() {\n          return getTextContent(this);\n        },\n        set: function set(data) {\n          switch (this.nodeType) {\n            case 1:\n            case 11:\n              while (this.firstChild) {\n                this.removeChild(this.firstChild);\n              }\n              if (data || String(data)) {\n                this.appendChild(this.ownerDocument.createTextNode(data));\n              }\n              break;\n            default:\n              this.data = data;\n              this.value = value;\n              this.nodeValue = data;\n          }\n        }\n      });\n      __set__ = function __set__(object, key, value) {\n        object['$$' + key] = value;\n      };\n    }\n  } catch (e) {//ie8\n  }\n  return DOMImplementation;\n});\nace.define(\"ace/mode/xml/dom-parser\", [], function (require, exports, module) {\n  'use strict';\n\n  var XMLReader = require('./sax'),\n    DOMImplementation = require('./dom');\n  function DOMParser(options) {\n    this.options = options || {\n      locator: {}\n    };\n  }\n  DOMParser.prototype.parseFromString = function (source, mimeType) {\n    var options = this.options;\n    var sax = new XMLReader();\n    var domBuilder = options.domBuilder || new DOMHandler(); //contentHandler and LexicalHandler\n    var errorHandler = options.errorHandler;\n    var locator = options.locator;\n    var defaultNSMap = options.xmlns || {};\n    var entityMap = {\n      'lt': '<',\n      'gt': '>',\n      'amp': '&',\n      'quot': '\"',\n      'apos': \"'\"\n    };\n    if (locator) {\n      domBuilder.setDocumentLocator(locator);\n    }\n    sax.errorHandler = buildErrorHandler(errorHandler, domBuilder, locator);\n    sax.domBuilder = options.domBuilder || domBuilder;\n    if (/\\/x?html?$/.test(mimeType)) {\n      entityMap.nbsp = '\\xa0';\n      entityMap.copy = '\\xa9';\n      defaultNSMap[''] = 'http://www.w3.org/1999/xhtml';\n    }\n    if (source) {\n      sax.parse(source, defaultNSMap, entityMap);\n    } else {\n      sax.errorHandler.error(\"invalid document source\");\n    }\n    return domBuilder.document;\n  };\n  function buildErrorHandler(errorImpl, domBuilder, locator) {\n    if (!errorImpl) {\n      if (domBuilder instanceof DOMHandler) {\n        return domBuilder;\n      }\n      errorImpl = domBuilder;\n    }\n    var errorHandler = {};\n    var isCallback = errorImpl instanceof Function;\n    locator = locator || {};\n    function build(key) {\n      var fn = errorImpl[key];\n      if (!fn) {\n        if (isCallback) {\n          fn = errorImpl.length == 2 ? function (msg) {\n            errorImpl(key, msg);\n          } : errorImpl;\n        } else {\n          var i = arguments.length;\n          while (--i) {\n            if (fn = errorImpl[arguments[i]]) {\n              break;\n            }\n          }\n        }\n      }\n      errorHandler[key] = fn && function (msg) {\n        fn(msg + _locator(locator), msg, locator);\n      } || function () {};\n    }\n    build('warning', 'warn');\n    build('error', 'warn', 'warning');\n    build('fatalError', 'warn', 'warning', 'error');\n    return errorHandler;\n  }\n  function DOMHandler() {\n    this.cdata = false;\n  }\n  function position(locator, node) {\n    node.lineNumber = locator.lineNumber;\n    node.columnNumber = locator.columnNumber;\n  }\n  DOMHandler.prototype = {\n    startDocument: function startDocument() {\n      this.document = new DOMImplementation().createDocument(null, null, null);\n      if (this.locator) {\n        this.document.documentURI = this.locator.systemId;\n      }\n    },\n    startElement: function startElement(namespaceURI, localName, qName, attrs) {\n      var doc = this.document;\n      var el = doc.createElementNS(namespaceURI, qName || localName);\n      var len = attrs.length;\n      appendElement(this, el);\n      this.currentElement = el;\n      this.locator && position(this.locator, el);\n      for (var i = 0; i < len; i++) {\n        var namespaceURI = attrs.getURI(i);\n        var value = attrs.getValue(i);\n        var qName = attrs.getQName(i);\n        var attr = doc.createAttributeNS(namespaceURI, qName);\n        if (attr.getOffset) {\n          position(attr.getOffset(1), attr);\n        }\n        attr.value = attr.nodeValue = value;\n        el.setAttributeNode(attr);\n      }\n    },\n    endElement: function endElement(namespaceURI, localName, qName) {\n      var current = this.currentElement;\n      var tagName = current.tagName;\n      this.currentElement = current.parentNode;\n    },\n    startPrefixMapping: function startPrefixMapping(prefix, uri) {},\n    endPrefixMapping: function endPrefixMapping(prefix) {},\n    processingInstruction: function processingInstruction(target, data) {\n      var ins = this.document.createProcessingInstruction(target, data);\n      this.locator && position(this.locator, ins);\n      appendElement(this, ins);\n    },\n    ignorableWhitespace: function ignorableWhitespace(ch, start, length) {},\n    characters: function characters(chars, start, length) {\n      chars = _toString.apply(this, arguments);\n      if (this.currentElement && chars) {\n        if (this.cdata) {\n          var charNode = this.document.createCDATASection(chars);\n          this.currentElement.appendChild(charNode);\n        } else {\n          var charNode = this.document.createTextNode(chars);\n          this.currentElement.appendChild(charNode);\n        }\n        this.locator && position(this.locator, charNode);\n      }\n    },\n    skippedEntity: function skippedEntity(name) {},\n    endDocument: function endDocument() {\n      this.document.normalize();\n    },\n    setDocumentLocator: function setDocumentLocator(locator) {\n      if (this.locator = locator) {\n        // && !('lineNumber' in locator)){\n        locator.lineNumber = 0;\n      }\n    },\n    comment: function comment(chars, start, length) {\n      chars = _toString.apply(this, arguments);\n      var comm = this.document.createComment(chars);\n      this.locator && position(this.locator, comm);\n      appendElement(this, comm);\n    },\n    startCDATA: function startCDATA() {\n      this.cdata = true;\n    },\n    endCDATA: function endCDATA() {\n      this.cdata = false;\n    },\n    startDTD: function startDTD(name, publicId, systemId) {\n      var impl = this.document.implementation;\n      if (impl && impl.createDocumentType) {\n        var dt = impl.createDocumentType(name, publicId, systemId);\n        this.locator && position(this.locator, dt);\n        appendElement(this, dt);\n      }\n    },\n    warning: function warning(error) {\n      console.warn(error, _locator(this.locator));\n    },\n    error: function error(_error) {\n      console.error(_error, _locator(this.locator));\n    },\n    fatalError: function fatalError(error) {\n      console.error(error, _locator(this.locator));\n      throw error;\n    }\n  };\n  function _locator(l) {\n    if (l) {\n      return '\\n@' + (l.systemId || '') + '#[line:' + l.lineNumber + ',col:' + l.columnNumber + ']';\n    }\n  }\n  function _toString(chars, start, length) {\n    if (typeof chars == 'string') {\n      return chars.substr(start, length);\n    } else {\n      //java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n      if (chars.length >= start + length || start) {\n        return new java.lang.String(chars, start, length) + '';\n      }\n      return chars;\n    }\n  }\n  \"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g, function (key) {\n    DOMHandler.prototype[key] = function () {\n      return null;\n    };\n  });\n  function appendElement(hander, node) {\n    if (!hander.currentElement) {\n      hander.document.appendChild(node);\n    } else {\n      hander.currentElement.appendChild(node);\n    }\n  } //appendChild and setAttributeNS are preformance key\n\n  return {\n    DOMParser: DOMParser\n  };\n});\nace.define(\"ace/mode/xml_worker\", [], function (require, exports, module) {\n  \"use strict\";\n\n  var oop = require(\"../lib/oop\");\n  var lang = require(\"../lib/lang\");\n  var Mirror = require(\"../worker/mirror\").Mirror;\n  var DOMParser = require(\"./xml/dom-parser\").DOMParser;\n  var Worker = exports.Worker = function (sender) {\n    Mirror.call(this, sender);\n    this.setTimeout(400);\n    this.context = null;\n  };\n  oop.inherits(Worker, Mirror);\n  (function () {\n    this.setOptions = function (options) {\n      this.context = options.context;\n    };\n    this.onUpdate = function () {\n      var value = this.doc.getValue();\n      if (!value) return;\n      var parser = new DOMParser();\n      var errors = [];\n      parser.options.errorHandler = {\n        fatalError: function fatalError(fullMsg, errorMsg, locator) {\n          errors.push({\n            row: locator.lineNumber,\n            column: locator.columnNumber,\n            text: errorMsg,\n            type: \"error\"\n          });\n        },\n        error: function error(fullMsg, errorMsg, locator) {\n          errors.push({\n            row: locator.lineNumber,\n            column: locator.columnNumber,\n            text: errorMsg,\n            type: \"error\"\n          });\n        },\n        warning: function warning(fullMsg, errorMsg, locator) {\n          errors.push({\n            row: locator.lineNumber,\n            column: locator.columnNumber,\n            text: errorMsg,\n            type: \"warning\"\n          });\n        }\n      };\n      parser.parseFromString(value);\n      this.sender.emit(\"error\", errors);\n    };\n  }).call(Worker.prototype);\n});","map":{"version":3,"names":["window","document","require","define","console","msgs","Array","prototype","slice","call","arguments","postMessage","type","data","error","warn","log","trace","ace","onerror","message","file","line","col","err","stack","normalizeModule","parentId","moduleName","indexOf","chunks","split","charAt","base","join","previous","replace","id","Error","module","modules","initialized","exports","factory","tlns","path","resolveModuleId","importScripts","paths","testPath","tail","alias","location","main","name","i","lastIndexOf","substr","deps","length","req","childId","returnExports","apply","map","dep","amd","initBaseUrls","topLevelNamespaces","initSender","EventEmitter","oop","Sender","implement","callback","callbackId","emit","sender","onmessage","e","msg","event","_signal","command","args","init","clazz","classname","inherits","ctor","superCtor","super_","Object","create","constructor","value","enumerable","writable","configurable","mixin","obj","key","proto","last","a","stringReverse","string","reverse","stringRepeat","count","result","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","array","l","deepCopy","isArray","toString","arrayToMap","arr","createMap","props","arrayRemove","splice","escapeRegExp","str","escapeHTML","getMatchOffsets","regExp","matches","push","offset","deferredCall","fcn","timer","deferred","timeout","cancel","setTimeout","schedule","clearTimeout","isPending","delayedCall","defaultTimeout","_self","delay","throwDeltaError","delta","errorText","positionInDocument","docLines","position","row","column","validateDelta","action","lines","start","end","numRangeRows","numRangeLastLineChars","applyDelta","doNotValidate","startColumn","substring","concat","endColumn","endRow","stopPropagation","propagationStopped","preventDefault","defaultPrevented","_emit","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","on","newCallback","off","Promise","resolve","setDefaultHandler","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","addEventListener","capturing","removeListener","removeEventListener","index","removeAllListeners","undefined","comparePoints","p1","p2","Range","startRow","isEqual","range","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","Math","max","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","Anchor","doc","$onChange","onChange","bind","attach","setPosition","getPosition","$clipPositionToDocument","getDocument","$insertRight","point","$getTransformedPoint","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","noClip","pos","detach","getLength","getLine","min","Document","textOrLines","$lines","insertMergedLines","insert","setValue","text","len","remove","getValue","getAllLines","getNewLineCharacter","createAnchor","$split","$detectNewLine","match","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getTextRange","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","insertInLine","clippedPos","clonePos","$clipPosition","removeInLine","deleteFirstNewLine","deleteLastNewLine","startCol","endCol","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","chunk","indexToPosition","newlineLength","positionToIndex","lang","Mirror","deferredUpdate","onUpdate","d","$path","linesLength","$timeout","nameStartChar","nameChar","RegExp","source","tagNamePattern","S_TAG","S_ATTR","S_ATTR_S","S_EQ","S_V","S_E","S_S","S_C","XMLReader","parse","defaultNSMap","entityMap","domBuilder","startDocument","_copy","errorHandler","endDocument","defaultNSMapCopy","fixedFromCharCode","code","surrogate1","surrogate2","String","fromCharCode","entityReplacer","k","parseInt","appendText","xt","locator","characters","m","endPos","linePattern","exec","startPos","lineNumber","columnNumber","parseStack","currentNSMap","closeMap","createTextNode","appendChild","currentElement","tagName","config","fatalError","localNSMap","endElement","uri","localName","prefix","endPrefixMapping","parseInstruction","parseDCC","el","ElementAttributes","parseElementStartPart","backup","copyLocator","closed","fixSelfClosed","nbsp","warning","appendElement","parseHtmlSpecialContent","f","t","attrName","s","c","add","setTagName","qName","nsp","nsPrefix","startPrefixMapping","ns","startElement","elStartEnd","test","elEndStart","target","n","next","comment","startCDATA","endCDATA","matchs","pubid","sysid","lastMatch","startDTD","endDTD","processingInstruction","getLocalName","getOffset","getQName","getURI","_set_proto_","thiz","parent","__proto__","buf","reg","lastIndex","src","dest","_extends","Class","Super","pt","ppt","htmlns","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","captureStackTrace","NodeList","item","LiveNodeList","node","refresh","_node","_refresh","_updateLiveList","list","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","attr","getNamedItem","nodeName","setNamedItem","_ownerElement","setNamedItemNS","getNamedItemNS","namespaceURI","removeNamedItem","removeNamedItemNS","DOMImplementation","features","_features","feature","hasFeature","version","versions","toLowerCase","createDocument","qualifiedName","doctype","implementation","childNodes","root","createElementNS","createDocumentType","publicId","systemId","DocumentType","Node","firstChild","lastChild","previousSibling","nextSibling","attributes","parentNode","nodeValue","insertBefore","newChild","refChild","_insertBefore","replaceChild","oldChild","removeChild","_removeChild","hasChildNodes","cloneNode","deep","normalize","child","nodeType","appendData","isSupported","hasAttributes","lookupPrefix","_nsMap","lookupNamespaceURI","isDefaultNamespace","_xmlEncoder","charCodeAt","_visitNode","_onUpdateChild","cs","nextChild","cp","newFirst","newLast","pre","_appendSingleChild","documentElement","importNode","importedNode","getElementById","rtv","getAttribute","createElement","Element","attrs","createDocumentFragment","DocumentFragment","Text","createComment","Comment","createCDATASection","CDATASection","createProcessingInstruction","ProcessingInstruction","createAttribute","Attr","specified","createEntityReference","EntityReference","pl","createAttributeNS","hasAttribute","getAttributeNode","setAttribute","setAttributeNode","removeAttribute","removeAttributeNode","setAttributeNodeNS","removeAttributeNS","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","getElementsByTagNameNS","CharacterData","substringData","insertData","replaceData","deleteData","splitText","newText","newNode","Notation","Entity","XMLSerializer","serializeToString","isHTML","sub","internalSubset","node2","v","attrs2","object","getTextContent","defineProperty","get","$$length","set","DOMParser","options","parseFromString","mimeType","sax","DOMHandler","xmlns","setDocumentLocator","buildErrorHandler","errorImpl","isCallback","Function","build","fn","_locator","cdata","documentURI","current","ins","ignorableWhitespace","ch","chars","_toString","charNode","skippedEntity","comm","impl","dt","java","hander","Worker","context","setOptions","parser","errors","fullMsg","errorMsg"],"sources":["/home/anasbouzid/code-projects/streamlit/custom-components/CodeEditor/code_editor/frontend/node_modules/ace-builds/src-noconflict/worker-xml.js"],"sourcesContent":["\"no use strict\";\n!(function(window) {\nif (typeof window.window != \"undefined\" && window.document)\n    return;\nif (window.require && window.define)\n    return;\n\nif (!window.console) {\n    window.console = function() {\n        var msgs = Array.prototype.slice.call(arguments, 0);\n        postMessage({type: \"log\", data: msgs});\n    };\n    window.console.error =\n    window.console.warn = \n    window.console.log =\n    window.console.trace = window.console;\n}\nwindow.window = window;\nwindow.ace = window;\n\nwindow.onerror = function(message, file, line, col, err) {\n    postMessage({type: \"error\", data: {\n        message: message,\n        data: err && err.data,\n        file: file,\n        line: line, \n        col: col,\n        stack: err && err.stack\n    }});\n};\n\nwindow.normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return window.normalizeModule(parentId, chunks[0]) + \"!\" + window.normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = (base ? base + \"/\" : \"\") + moduleName;\n        \n        while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/^\\.\\//, \"\").replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    \n    return moduleName;\n};\n\nwindow.require = function require(parentId, id) {\n    if (!id) {\n        id = parentId;\n        parentId = null;\n    }\n    if (!id.charAt)\n        throw new Error(\"worker.js require() accepts only (parentId, id) as arguments\");\n\n    id = window.normalizeModule(parentId, id);\n\n    var module = window.require.modules[id];\n    if (module) {\n        if (!module.initialized) {\n            module.initialized = true;\n            module.exports = module.factory().exports;\n        }\n        return module.exports;\n    }\n   \n    if (!window.require.tlns)\n        return console.log(\"unable to load \" + id);\n    \n    var path = resolveModuleId(id, window.require.tlns);\n    if (path.slice(-3) != \".js\") path += \".js\";\n    \n    window.require.id = id;\n    window.require.modules[id] = {}; // prevent infinite loop on broken modules\n    importScripts(path);\n    return window.require(parentId, id);\n};\nfunction resolveModuleId(id, paths) {\n    var testPath = id, tail = \"\";\n    while (testPath) {\n        var alias = paths[testPath];\n        if (typeof alias == \"string\") {\n            return alias + tail;\n        } else if (alias) {\n            return  alias.location.replace(/\\/*$/, \"/\") + (tail || alias.main || alias.name);\n        } else if (alias === false) {\n            return \"\";\n        }\n        var i = testPath.lastIndexOf(\"/\");\n        if (i === -1) break;\n        tail = testPath.substr(i) + tail;\n        testPath = testPath.slice(0, i);\n    }\n    return id;\n}\nwindow.require.modules = {};\nwindow.require.tlns = {};\n\nwindow.define = function(id, deps, factory) {\n    if (arguments.length == 2) {\n        factory = deps;\n        if (typeof id != \"string\") {\n            deps = id;\n            id = window.require.id;\n        }\n    } else if (arguments.length == 1) {\n        factory = id;\n        deps = [];\n        id = window.require.id;\n    }\n    \n    if (typeof factory != \"function\") {\n        window.require.modules[id] = {\n            exports: factory,\n            initialized: true\n        };\n        return;\n    }\n\n    if (!deps.length)\n        // If there is no dependencies, we inject \"require\", \"exports\" and\n        // \"module\" as dependencies, to provide CommonJS compatibility.\n        deps = [\"require\", \"exports\", \"module\"];\n\n    var req = function(childId) {\n        return window.require(id, childId);\n    };\n\n    window.require.modules[id] = {\n        exports: {},\n        factory: function() {\n            var module = this;\n            var returnExports = factory.apply(this, deps.slice(0, factory.length).map(function(dep) {\n                switch (dep) {\n                    // Because \"require\", \"exports\" and \"module\" aren't actual\n                    // dependencies, we must handle them seperately.\n                    case \"require\": return req;\n                    case \"exports\": return module.exports;\n                    case \"module\":  return module;\n                    // But for all other dependencies, we can just go ahead and\n                    // require them.\n                    default:        return req(dep);\n                }\n            }));\n            if (returnExports)\n                module.exports = returnExports;\n            return module;\n        }\n    };\n};\nwindow.define.amd = {};\nwindow.require.tlns = {};\nwindow.initBaseUrls  = function initBaseUrls(topLevelNamespaces) {\n    for (var i in topLevelNamespaces)\n        this.require.tlns[i] = topLevelNamespaces[i];\n};\n\nwindow.initSender = function initSender() {\n\n    var EventEmitter = window.require(\"ace/lib/event_emitter\").EventEmitter;\n    var oop = window.require(\"ace/lib/oop\");\n    \n    var Sender = function() {};\n    \n    (function() {\n        \n        oop.implement(this, EventEmitter);\n                \n        this.callback = function(data, callbackId) {\n            postMessage({\n                type: \"call\",\n                id: callbackId,\n                data: data\n            });\n        };\n    \n        this.emit = function(name, data) {\n            postMessage({\n                type: \"event\",\n                name: name,\n                data: data\n            });\n        };\n        \n    }).call(Sender.prototype);\n    \n    return new Sender();\n};\n\nvar main = window.main = null;\nvar sender = window.sender = null;\n\nwindow.onmessage = function(e) {\n    var msg = e.data;\n    if (msg.event && sender) {\n        sender._signal(msg.event, msg.data);\n    }\n    else if (msg.command) {\n        if (main[msg.command])\n            main[msg.command].apply(main, msg.args);\n        else if (window[msg.command])\n            window[msg.command].apply(window, msg.args);\n        else\n            throw new Error(\"Unknown command:\" + msg.command);\n    }\n    else if (msg.init) {\n        window.initBaseUrls(msg.tlns);\n        sender = window.sender = window.initSender();\n        var clazz = this.require(msg.module)[msg.classname];\n        main = window.main = new clazz(sender);\n    }\n};\n})(this);\n\nace.define(\"ace/lib/oop\",[], function(require, exports, module){\"use strict\";\nexports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\nexports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\nexports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/lang\",[], function(require, exports, module){\"use strict\";\nexports.last = function (a) {\n    return a[a.length - 1];\n};\nexports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n};\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\nexports.copyObject = function (obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\nexports.copyArray = function (array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else\n            copy[i] = array[i];\n    }\n    return copy;\n};\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\nexports.arrayToMap = function (arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n};\nexports.createMap = function (props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n        if (value === array[i]) {\n            array.splice(i, 1);\n        }\n    }\n};\nexports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\nexports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\nexports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n        matches.push({\n            offset: arguments[arguments.length - 2],\n            length: str.length\n        });\n    });\n    return matches;\n};\nexports.deferredCall = function (fcn) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var deferred = function (timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n    deferred.schedule = deferred;\n    deferred.call = function () {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n    deferred.cancel = function () {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    deferred.isPending = function () {\n        return timer;\n    };\n    return deferred;\n};\nexports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var _self = function (timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.delay = function (timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n    _self.call = function () {\n        this.cancel();\n        fcn();\n    };\n    _self.cancel = function () {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n    _self.isPending = function () {\n        return timer;\n    };\n    return _self;\n};\n\n});\n\nace.define(\"ace/apply_delta\",[], function(require, exports, module){\"use strict\";\nfunction throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\nfunction positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length &&\n        position.column >= 0 && position.column <= docLines[position.row].length;\n}\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n        throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\nexports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            }\n            else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            }\n            else {\n                docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n            }\n            break;\n    }\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[], function(require, exports, module){\"use strict\";\nvar EventEmitter = {};\nvar stopPropagation = function () { this.propagationStopped = true; };\nvar preventDefault = function () { this.defaultPrevented = true; };\nEventEmitter._emit =\n    EventEmitter._dispatchEvent = function (eventName, e) {\n        this._eventRegistry || (this._eventRegistry = {});\n        this._defaultHandlers || (this._defaultHandlers = {});\n        var listeners = this._eventRegistry[eventName] || [];\n        var defaultHandler = this._defaultHandlers[eventName];\n        if (!listeners.length && !defaultHandler)\n            return;\n        if (typeof e != \"object\" || !e)\n            e = {};\n        if (!e.type)\n            e.type = eventName;\n        if (!e.stopPropagation)\n            e.stopPropagation = stopPropagation;\n        if (!e.preventDefault)\n            e.preventDefault = preventDefault;\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n            if (e.propagationStopped)\n                break;\n        }\n        if (defaultHandler && !e.defaultPrevented)\n            return defaultHandler(e, this);\n    };\nEventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++)\n        listeners[i](e, this);\n};\nEventEmitter.once = function (eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function (resolve) {\n            callback = resolve;\n        });\n    }\n};\nEventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = { _disabled_: {} };\n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    }\n    else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\nEventEmitter.on =\n    EventEmitter.addEventListener = function (eventName, callback, capturing) {\n        this._eventRegistry = this._eventRegistry || {};\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners)\n            listeners = this._eventRegistry[eventName] = [];\n        if (listeners.indexOf(callback) == -1)\n            listeners[capturing ? \"unshift\" : \"push\"](callback);\n        return callback;\n    };\nEventEmitter.off =\n    EventEmitter.removeListener =\n        EventEmitter.removeEventListener = function (eventName, callback) {\n            this._eventRegistry = this._eventRegistry || {};\n            var listeners = this._eventRegistry[eventName];\n            if (!listeners)\n                return;\n            var index = listeners.indexOf(callback);\n            if (index !== -1)\n                listeners.splice(index, 1);\n        };\nEventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName)\n        this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry)\n        this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers)\n        this._defaultHandlers[eventName] = undefined;\n};\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/range\",[], function(require, exports, module){\"use strict\";\nvar comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function (startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n(function () {\n    this.isEqual = function (range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function () {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n    this.contains = function (row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function (range) {\n        var cmp, end = range.end, start = range.start;\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            }\n            else if (cmp == 0) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        }\n        else if (cmp == -1) {\n            return -2;\n        }\n        else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            }\n            else if (cmp == 1) {\n                return 42;\n            }\n            else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function (p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function (range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function (range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function (row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function (row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function (row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        }\n        else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function (row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        }\n        else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function (row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n        if (row < this.start.row)\n            return -1;\n        if (row > this.end.row)\n            return 1;\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n        return 0;\n    };\n    this.compareStart = function (row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function (firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = { row: lastRow + 1, column: 0 };\n        else if (this.end.row < firstRow)\n            var end = { row: firstRow, column: 0 };\n        if (this.start.row > lastRow)\n            var start = { row: lastRow + 1, column: 0 };\n        else if (this.start.row < firstRow)\n            var start = { row: firstRow, column: 0 };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function (row, column) {\n        var cmp = this.compare(row, column);\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = { row: row, column: column };\n        else\n            var end = { row: row, column: column };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.isEmpty = function () {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function () {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function () {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function () {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function (session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n        return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n    this.moveBy = function (row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n}).call(Range.prototype);\nRange.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\nRange.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nexports.Range = Range;\n\n});\n\nace.define(\"ace/anchor\",[], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Anchor = exports.Anchor = function (doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function () {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function (delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n        if (delta.start.row > this.row)\n            return;\n        var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function (row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        }\n        else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function () {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function (doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n        var pos = {};\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n        if (column < 0)\n            pos.column = 0;\n        return pos;\n    };\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\nvar Document = function (textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    }\n    else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({ row: 0, column: 0 }, textOrLines);\n    }\n    else {\n        this.insert({ row: 0, column: 0 }, textOrLines);\n    }\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setValue = function (text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({ row: 0, column: 0 }, text || \"\");\n    };\n    this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function (text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    }\n    else {\n        this.$split = function (text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n    this.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n            case \"windows\":\n                return \"\\r\\n\";\n            case \"unix\":\n                return \"\\n\";\n            default:\n                return this.$autoNewLine || \"\\n\";\n        }\n    };\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function (newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function () {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function (text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function (row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function () {\n        return this.$lines.length;\n    };\n    this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function (range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        }\n        else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function (row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function (firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function (position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function (position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function (position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        return this.clonePos(end);\n    };\n    this.clippedPos = function (row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        }\n        else if (row < 0) {\n            row = 0;\n        }\n        else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return { row: row, column: column };\n    };\n    this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n    };\n    this.pos = function (row, column) {\n        return { row: row, column: column };\n    };\n    this.$clipPosition = function (position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        }\n        else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        }\n        else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({ row: row, column: column }, lines);\n    };\n    this.insertMergedLines = function (position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        return this.clonePos(end);\n    };\n    this.remove = function (range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function (row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        }, true);\n        return this.clonePos(start);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine = lastRow < this.getLength() - 1;\n        var startRow = (deleteFirstNewLine ? firstRow - 1 : firstRow);\n        var startCol = (deleteFirstNewLine ? this.getLine(startRow).length : 0);\n        var endRow = (deleteLastNewLine ? lastRow + 1 : lastRow);\n        var endCol = (deleteLastNewLine ? 0 : this.getLine(endRow).length);\n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function (row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function (range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        return end;\n    };\n    this.applyDeltas = function (deltas) {\n        for (var i = 0; i < deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function (deltas) {\n        for (var i = deltas.length - 1; i >= 0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function (delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    this.$safeApplyDelta = function (delta) {\n        var docLength = this.$lines.length;\n        if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength) {\n            this.applyDelta(delta);\n        }\n    };\n    this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row;\n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function (delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function (index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return { row: i, column: index + lines[i].length + newlineLength };\n        }\n        return { row: l - 1, column: index + lines[l - 1].length + newlineLength };\n    };\n    this.positionToIndex = function (pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n        return index + pos.column;\n    };\n}).call(Document.prototype);\nexports.Document = Document;\n\n});\n\nace.define(\"ace/worker/mirror\",[], function(require, exports, module) {\n\"use strict\";\n\nvar Document = require(\"../document\").Document;\nvar lang = require(\"../lib/lang\");\n    \nvar Mirror = exports.Mirror = function(sender) {\n    this.sender = sender;\n    var doc = this.doc = new Document(\"\");\n    \n    var deferredUpdate = this.deferredUpdate = lang.delayedCall(this.onUpdate.bind(this));\n    \n    var _self = this;\n    sender.on(\"change\", function(e) {\n        var data = e.data;\n        if (data[0].start) {\n            doc.applyDeltas(data);\n        } else {\n            for (var i = 0; i < data.length; i += 2) {\n                var d, err; \n                if (Array.isArray(data[i+1])) {\n                    d = {action: \"insert\", start: data[i], lines: data[i+1]};\n                } else {\n                    d = {action: \"remove\", start: data[i], end: data[i+1]};\n                }\n                \n                if ((d.action == \"insert\" ? d.start : d.end).row >= doc.$lines.length) {\n                    err = new Error(\"Invalid delta\");\n                    err.data = {\n                        path: _self.$path,\n                        linesLength: doc.$lines.length,\n                        start: d.start,\n                        end: d.end\n                    };\n                    throw err;\n                }\n\n                doc.applyDelta(d, true);\n            }\n        }\n        if (_self.$timeout)\n            return deferredUpdate.schedule(_self.$timeout);\n        _self.onUpdate();\n    });\n};\n\n(function() {\n    \n    this.$timeout = 500;\n    \n    this.setTimeout = function(timeout) {\n        this.$timeout = timeout;\n    };\n    \n    this.setValue = function(value) {\n        this.doc.setValue(value);\n        this.deferredUpdate.schedule(this.$timeout);\n    };\n    \n    this.getValue = function(callbackId) {\n        this.sender.callback(this.doc.getValue(), callbackId);\n    };\n    \n    this.onUpdate = function() {\n    };\n    \n    this.isPending = function() {\n        return this.deferredUpdate.isPending();\n    };\n    \n}).call(Mirror.prototype);\n\n});\n\nace.define(\"ace/mode/xml/sax\",[], function(require, exports, module) {\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\u00B7\\u0300-\\u036F\\\\ux203F-\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring \nvar S_ATTR_S=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_V = 4;//attr value(no quot value only)\nvar S_E = 5;//attr value end and no space(quot end)\nvar S_S = 6;//(attr value end || tag end ) && (space offer)\nvar S_C = 7;//closed el<el />\n\nfunction XMLReader(){\n\t\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n  function fixedFromCharCode(code) {\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif(k in entityMap){\n\t\t\treturn entityMap[k]; \n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\tlocator&&position(start);\n\t\tdomBuilder.characters(xt,0,end-start);\n\t\tstart = end\n\t}\n\tfunction position(start,m){\n\t\twhile(start>=endPos && (m = linePattern.exec(source))){\n\t\t\tstartPos = m.index;\n\t\t\tendPos = startPos + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t}\n\t\tlocator.columnNumber = start-startPos+1;\n\t}\n\tvar startPos = 0;\n\tvar endPos = 0;\n\tvar linePattern = /.+(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\t\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\tvar i = source.indexOf('<',start);\n\t\tif(i<0){\n\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\tvar doc = domBuilder.document;\n    \t\t\tvar text = doc.createTextNode(source.substr(start));\n    \t\t\tdoc.appendChild(text);\n    \t\t\tdomBuilder.currentElement = text;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif(i>start){\n\t\t\tappendText(i);\n\t\t}\n\t\tswitch(source.charAt(i+1)){\n\t\tcase '/':\n\t\t\tvar end = source.indexOf('>',i+3);\n\t\t\tvar tagName = source.substring(i+2,end);\n\t\t\tvar config;\n\t\t\tif (parseStack.length > 1) {\n\t\t\t\tconfig = parseStack.pop();\n\t\t\t} else {\n\t\t\t\terrorHandler.fatalError(\"end tag name not found for: \"+tagName);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\n\t        if(config.tagName != tagName){\n\t            errorHandler.fatalError(\"end tag name: \" + tagName + \" does not match the current start tagName: \"+config.tagName );\n\t        }\n\t\t\tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\tif(localNSMap){\n\t\t\t\tfor(var prefix in localNSMap){\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\n\t\t\t\t}\n\t\t\t}\n\t\t\tend++;\n\t\t\tbreak;\n\t\tcase '?':// <?...?>\n\t\t\tlocator&&position(i);\n\t\t\tend = parseInstruction(source,i,domBuilder);\n\t\t\tbreak;\n\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\tlocator&&position(i);\n\t\t\tend = parseDCC(source,i,domBuilder,errorHandler);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\ttry{\n\t\t\t\tlocator&&position(i);\n\t\t\t\t\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar end = parseElementStartPart(source,i,el,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\t\t\t\tif(len && locator){\n\t\t\t\t\tvar backup = copyLocator(locator,{});\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.offset = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tcopyLocator(backup,locator);\n\t\t\t\t}\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tappendElement(el,domBuilder,parseStack);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t}else{\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}catch(e){\n\t\t\t\terrorHandler.error('element parse error: '+e);\n\t\t\t\tend = -1;\n\t\t\t}\n\n\t\t}\n\t\tif(end<0){\n\t\t\tappendText(i+1);\n\t\t}else{\n\t\t\tstart = end;\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n\t\n}\nfunction parseElementStartPart(source,start,el,entityReplacer,errorHandler){\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_S){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\tthrow new Error('attribute equal must after attrName');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ){//equal\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\tel.add(attrName,value,start-1);\n\t\t\t\t\ts = S_E;\n\t\t\t\t}else{\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_V){\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tel.add(attrName,value,start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_E\n\t\t\t}else{\n\t\t\t\tthrow new Error('attribute value must after \"=\"');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_E:\n\t\t\tcase S_S:\n\t\t\tcase S_C:\n\t\t\t\ts = S_C;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_V:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_S:\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\")\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_E:\n\t\t\tcase S_S:\n\t\t\tcase S_C:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_V://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_S:\n\t\t\t\tif(s === S_ATTR_S){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_V){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\tel.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)\n\t\t\t\t}else{\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\tel.add(value,value,start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_S;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_S;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_V:\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\tel.add(attrName,value,start)\n\t\t\t\tcase S_E:\n\t\t\t\t\ts = S_S;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{//not space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_ATTR_S:\n\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead!!')\n\t\t\t\t\tel.add(attrName,attrName,start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_E:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_S:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_V;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_C:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tp++;\n\t}\n}\nfunction appendElement(el,domBuilder,parseStack){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\ta.localName = localName ;\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix]\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor(prefix in localNSMap){\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\tparseStack.push(el);\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\treturn elEndStart;\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\tpos = closeMap[tagName] = source.lastIndexOf('</'+tagName+'>')\n\t}\n\treturn pos<elStartEnd;\n}\nfunction _copy(source,target){\n\tfor(var n in source){target[n] = source[n]}\n}\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tif (end > start) {\n\t\t\t\tdomBuilder.startCDATA();\n\t\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\t\tdomBuilder.endCDATA() \n\t\t\t\treturn end+3;\n\t\t\t} else {\n\t\t\t\terrorHandler.error(\"Unclosed CDATA\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = len>3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\n\t\t\tvar sysid = len>4 && matchs[4][0];\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name,pubid && pubid.replace(/^(['\"])(.*?)\\1$/,'$2'),\n\t\t\t\t\tsysid && sysid.replace(/^(['\"])(.*?)\\1$/,'$2'));\n\t\t\tdomBuilder.endDTD();\n\t\t\t\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\nfunction ElementAttributes(source){\n\t\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\tadd:function(qName,value,offset){\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetOffset:function(i){return this[i].offset},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n}\n\n\n\n\nfunction _set_proto_(thiz,parent){\n\tthiz.__proto__ = parent;\n\treturn thiz;\n}\nif(!(_set_proto_({},_set_proto_.prototype) instanceof _set_proto_)){\n\t_set_proto_ = function(thiz,parent){\n\t\tfunction p(){};\n\t\tp.prototype = parent;\n\t\tp = new p();\n\t\tfor(parent in thiz){\n\t\t\tp[parent] = thiz[parent];\n\t\t}\n\t\treturn p;\n\t}\n}\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nreturn XMLReader;\n});\n\nace.define(\"ace/mode/xml/dom\",[], function(require, exports, module) {\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\nfunction _extends(Class,Super){\n\tvar t = function(){};\n\tvar pt = Class.prototype;\n\tif(Object.create){\n\t\tvar ppt = Object.create(Super.prototype);\n\t\tpt.__proto__ = ppt;\n\t}\n\tif(!(pt instanceof Super)){\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class);\n\t\t}\n\t\tpt.constructor = Class;\n\t}\n}\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\nvar NodeType = {};\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\nvar ExceptionCode = {};\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\nfunction NodeList() {\n};\nNodeList.prototype = {\n\tlength:0,\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t}\n};\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh;\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1;\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i];\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error());\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\nfunction DOMImplementation(/* Object */ features) {\n\tthis._features = {};\n\tif (features) {\n\t\tfor (var feature in features) {\n\t\t\t this._features = features[feature];\n\t\t}\n\t}\n};\n\nDOMImplementation.prototype = {\n\thasFeature: function(/* string */ feature, /* string */ version) {\n\t\tvar versions = this._features[feature.toLowerCase()];\n\t\tif (versions && (!version || version in versions)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype;\n\t\tif(doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif(qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId;\n\t\tnode.systemId = systemId;\n\t\treturn node;\n\t}\n};\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == 2?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == 2?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';';\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:''];\n\t}\n}\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n}\nDocument.prototype = {\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == 1){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == 1){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn rtv;\n\t},\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data);\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data);\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data);\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr);\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr);\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t},\n\tappendChild:function(newChild){\n\t\t\tthrow new Error(ExceptionMessage[3]);\n\t\treturn Node.prototype.appendChild.apply(this,arguments);\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n}\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n}\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n}\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n}\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n}\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node){\n\tvar buf = [];\n\tserializeToString(node,buf);\n\treturn buf.join('');\n}\nNode.prototype.toString =function(){\n\treturn XMLSerializer.prototype.serializeToString(this);\n}\nfunction serializeToString(node,buf){\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\tvar isHTML = htmlns === node.namespaceURI;\n\t\tbuf.push('<',nodeName);\n\t\tfor(var i=0;i<len;i++){\n\t\t\tserializeToString(attrs.item(i),buf);\n\t\t}\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input|button)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\tif(child){\n\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child,buf);\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',nodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child,buf);\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn buf.push(' ',node.name,'=\"',node.value.replace(/[<&\"]/g,_xmlEncoder),'\"');\n\tcase TEXT_NODE:\n\t\treturn buf.push(node.data.replace(/[<&]/g,_xmlEncoder));\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC \"',pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push( '\" \"',sysid);\n\t\t\t}\n\t\t\tbuf.push('\">');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM \"',sysid,'\">');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length;\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value;\n}\nfunction getTextContent(node){\n\tswitch(node.nodeType){\n\tcase 1:\n\tcase 11:\n\t\tvar buf = [];\n\t\tnode = node.firstChild;\n\t\twhile(node){\n\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t\treturn buf.join('');\n\tdefault:\n\t\treturn node.nodeValue;\n\t}\n}\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase 1:\n\t\t\t\tcase 11:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = value;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t__set__ = function(object,key,value){\n\t\t\tobject['$$'+key] = value;\n\t\t};\n\t}\n}catch(e){//ie8\n}\n\nreturn DOMImplementation;\n});\n\nace.define(\"ace/mode/xml/dom-parser\",[], function(require, exports, module) {\n\t'use strict';\n\n\tvar XMLReader = require('./sax'),\n\t\tDOMImplementation = require('./dom');\n\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n\t\n}\nDOMParser.prototype.parseFromString = function(source,mimeType){\t\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar entityMap = {'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"}\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\t\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(/\\/x?html?$/.test(mimeType)){\n\t\tentityMap.nbsp = '\\xa0';\n\t\tentityMap.copy = '\\xa9';\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\n\t}\n\tif(source){\n\t\tsax.parse(source,defaultNSMap,entityMap);\n\t}else{\n\t\tsax.errorHandler.error(\"invalid document source\");\n\t}\n\treturn domBuilder.document;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn){\n\t\t\tif(isCallback){\n\t\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t\t}else{\n\t\t\t\tvar i=arguments.length;\n\t\t\t\twhile(--i){\n\t\t\t\t\tif(fn = errorImpl[arguments[i]]){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn(msg+_locator(locator), msg, locator);\n\t\t}||function(){};\n\t}\n\tbuild('warning','warn');\n\tbuild('error','warn','warning');\n\tbuild('fatalError','warn','warning','error');\n\treturn errorHandler;\n}\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n} \nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.document = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.document.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.document;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\t    \n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tif( attr.getOffset){\n\t\t\t\tposition(attr.getOffset(1),attr)\n\t\t\t}\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t    var tagName = current.tagName;\n\t    this.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.document.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\tif(this.currentElement && chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.document.createCDATASection(chars);\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.document.createTextNode(chars);\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.document.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.document.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\t\n\tstartCDATA:function() {\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\t\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.document.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t    }\n\t},\n\twarning:function(error) {\n\t\tconsole.warn(error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error(error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tconsole.error(error,_locator(this.locator));\n\t    throw error;\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.document.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nreturn {\n\t\tDOMParser: DOMParser\n\t };\n});\n\nace.define(\"ace/mode/xml_worker\",[], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar Mirror = require(\"../worker/mirror\").Mirror;\nvar DOMParser = require(\"./xml/dom-parser\").DOMParser;\n\nvar Worker = exports.Worker = function(sender) {\n    Mirror.call(this, sender);\n    this.setTimeout(400);\n    this.context = null;\n};\n\noop.inherits(Worker, Mirror);\n\n(function() {\n\n    this.setOptions = function(options) {\n        this.context = options.context;\n    };\n\n    this.onUpdate = function() {\n        var value = this.doc.getValue();\n        if (!value)\n            return;\n        var parser = new DOMParser();\n        var errors = [];\n        parser.options.errorHandler = {\n            fatalError: function(fullMsg, errorMsg, locator) {\n                errors.push({\n                    row: locator.lineNumber,\n                    column: locator.columnNumber,\n                    text: errorMsg,\n                    type: \"error\"\n                });\n            },\n            error: function(fullMsg, errorMsg, locator) {\n                errors.push({\n                    row: locator.lineNumber,\n                    column: locator.columnNumber,\n                    text: errorMsg,\n                    type: \"error\"\n                });\n            },\n            warning: function(fullMsg, errorMsg, locator) {\n                errors.push({\n                    row: locator.lineNumber,\n                    column: locator.columnNumber,\n                    text: errorMsg,\n                    type: \"warning\"\n                });\n            }\n        };\n        \n        parser.parseFromString(value);\n        this.sender.emit(\"error\", errors);\n    };\n\n}).call(Worker.prototype);\n\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}